var Ng=Object.defineProperty,bg=Object.defineProperties;var xg=Object.getOwnPropertyDescriptors;var bc=Object.getOwnPropertySymbols;var Rg=Object.prototype.hasOwnProperty,Pg=Object.prototype.propertyIsEnumerable;var xc=(t,e,n)=>e in t?Ng(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,le=(t,e)=>{for(var n in e||={})Rg.call(e,n)&&xc(t,n,e[n]);if(bc)for(var n of bc(e))Pg.call(e,n)&&xc(t,n,e[n]);return t},he=(t,e)=>bg(t,xg(e));var ce=null,Ko=!1,Cs=1,kg=null,Ae=Symbol("SIGNAL");function N(t){let e=ce;return ce=t,e}function Zo(){return ce}var Wn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Is(t){if(Ko)throw new Error("");if(ce===null)return;ce.consumerOnSignalRead(t);let e=ce.producersTail;if(e!==void 0&&e.producer===t)return;let n,o=ce.recomputing;if(o&&(n=e!==void 0?e.nextProducer:ce.producers,n!==void 0&&n.producer===t)){ce.producersTail=n,n.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===ce&&(!o||Lg(r,ce)))return;let i=nn(ce),s={producer:t,consumer:ce,nextProducer:n,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};ce.producersTail=s,e!==void 0?e.nextProducer=s:ce.producers=s,i&&Fc(t,s)}function Rc(){Cs++}function _s(t){if(!(nn(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Cs)){if(!t.producerMustRecompute(t)&&!ws(t)){Es(t);return}t.producerRecomputeValue(t),Es(t)}}function Ds(t){if(t.consumers===void 0)return;let e=Ko;Ko=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let o=n.consumer;o.dirty||Fg(o)}}finally{Ko=e}}function Ts(){return ce?.consumerAllowSignalWrites!==!1}function Fg(t){t.dirty=!0,Ds(t),t.consumerMarkedDirty?.(t)}function Es(t){t.dirty=!1,t.lastCleanEpoch=Cs}function Qo(t){return t&&Pc(t),N(t)}function Pc(t){t.producersTail=void 0,t.recomputing=!0}function Ss(t,e){N(e),t&&kc(t)}function kc(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(nn(t))do n=As(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function ws(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,o=e.lastReadVersion;if(o!==n.version||(_s(n),o!==n.version))return!0}return!1}function Xo(t){if(nn(t)){let e=t.producers;for(;e!==void 0;)e=As(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Fc(t,e){let n=t.consumersTail,o=nn(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!o)for(let r=t.producers;r!==void 0;r=r.nextProducer)Fc(r.producer,r)}function As(t){let e=t.producer,n=t.nextProducer,o=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,o!==void 0?o.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=o;else if(e.consumers=o,!nn(e)){let i=e.producers;for(;i!==void 0;)i=As(i)}return n}function nn(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Ms(t){kg?.(t)}function Lg(t,e){let n=e.producersTail;if(n!==void 0){let o=e.producers;do{if(o===t)return!0;if(o===n)break;o=o.nextProducer}while(o!==void 0)}return!1}function Ns(t,e){return Object.is(t,e)}function er(t,e){let n=Object.create(Og);n.computation=t,e!==void 0&&(n.equal=e);let o=()=>{if(_s(n),Is(n),n.value===jo)throw n.error;return n.value};return o[Ae]=n,Ms(n),o}var ys=Symbol("UNSET"),vs=Symbol("COMPUTING"),jo=Symbol("ERRORED"),Og=he(le({},Wn),{value:ys,dirty:!0,error:null,equal:Ns,kind:"computed",producerMustRecompute(t){return t.value===ys||t.value===vs},producerRecomputeValue(t){if(t.value===vs)throw new Error("");let e=t.value;t.value=vs;let n=Qo(t),o,r=!1;try{o=t.computation(),N(null),r=e!==ys&&e!==jo&&o!==jo&&t.equal(e,o)}catch(i){o=jo,t.error=i}finally{Ss(t,n)}if(r){t.value=e;return}t.value=o,t.version++}});function Vg(){throw new Error}var Lc=Vg;function Oc(t){Lc(t)}function bs(t){Lc=t}var Ug=null;function xs(t,e){let n=Object.create(Hc);n.value=t,e!==void 0&&(n.equal=e);let o=()=>Vc(n);return o[Ae]=n,Ms(n),[o,s=>Rs(n,s),s=>Uc(n,s)]}function Vc(t){return Is(t),t.value}function Rs(t,e){Ts()||Oc(t),t.equal(t.value,e)||(t.value=e,Hg(t))}function Uc(t,e){Ts()||Oc(t),Rs(t,e(t.value))}var Hc=he(le({},Wn),{equal:Ns,value:void 0,kind:"signal"});function Hg(t){t.version++,Rc(),Ds(t),Ug?.(t)}function ve(t){return typeof t=="function"}function tr(t){let n=t(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nr=tr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,r)=>`${r+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Jn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(ve(o))try{o()}catch(i){e=i instanceof nr?i.errors:[i]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let i of r)try{Bc(i)}catch(s){e=e??[],s instanceof nr?e=[...e,...s.errors]:e.push(s)}}if(e)throw new nr(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Bc(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Jn(n,e)}remove(e){let{_finalizers:n}=this;n&&Jn(n,e),e instanceof t&&e._removeParent(this)}};ge.EMPTY=(()=>{let t=new ge;return t.closed=!0,t})();var Ps=ge.EMPTY;function or(t){return t instanceof ge||t&&"closed"in t&&ve(t.remove)&&ve(t.add)&&ve(t.unsubscribe)}function Bc(t){ve(t)?t():t.unsubscribe()}var He={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var on={setTimeout(t,e,...n){let{delegate:o}=on;return o?.setTimeout?o.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=on;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Gc(t){on.setTimeout(()=>{let{onUnhandledError:e}=He;if(e)e(t);else throw t})}function ks(){}var $c=Fs("C",void 0,void 0);function qc(t){return Fs("E",void 0,t)}function zc(t){return Fs("N",t,void 0)}function Fs(t,e,n){return{kind:t,value:e,error:n}}var Mt=null;function rn(t){if(He.useDeprecatedSynchronousErrorHandling){let e=!Mt;if(e&&(Mt={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:o}=Mt;if(Mt=null,n)throw o}}else t()}function Wc(t){He.useDeprecatedSynchronousErrorHandling&&Mt&&(Mt.errorThrown=!0,Mt.error=t)}var Nt=class extends ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,or(e)&&e.add(this)):this.destination=$g}static create(e,n,o){return new sn(e,n,o)}next(e){this.isStopped?Os(zc(e),this):this._next(e)}error(e){this.isStopped?Os(qc(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Os($c,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Bg=Function.prototype.bind;function Ls(t,e){return Bg.call(t,e)}var Vs=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(o){rr(o)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(o){rr(o)}else rr(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){rr(n)}}},sn=class extends Nt{constructor(e,n,o){super();let r;if(ve(e)||!e)r={next:e??void 0,error:n??void 0,complete:o??void 0};else{let i;this&&He.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Ls(e.next,i),error:e.error&&Ls(e.error,i),complete:e.complete&&Ls(e.complete,i)}):r=e}this.destination=new Vs(r)}};function rr(t){He.useDeprecatedSynchronousErrorHandling?Wc(t):Gc(t)}function Gg(t){throw t}function Os(t,e){let{onStoppedNotification:n}=He;n&&on.setTimeout(()=>n(t,e))}var $g={closed:!0,next:ks,error:Gg,complete:ks};var Jc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Yc(t){return t}function Kc(t){return t.length===0?Yc:t.length===1?t[0]:function(n){return t.reduce((o,r)=>r(o),n)}}var an=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new t;return o.source=this,o.operator=n,o}subscribe(n,o,r){let i=zg(n)?n:new sn(n,o,r);return rn(()=>{let{operator:s,source:l}=this;i.add(s?s.call(i,l):l?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=jc(o),new o((r,i)=>{let s=new sn({next:l=>{try{n(l)}catch(c){i(c),s.unsubscribe()}},error:i,complete:r});this.subscribe(s)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[Jc](){return this}pipe(...n){return Kc(n)(this)}toPromise(n){return n=jc(n),new n((o,r)=>{let i;this.subscribe(s=>i=s,s=>r(s),()=>o(i))})}}return t.create=e=>new t(e),t})();function jc(t){var e;return(e=t??He.Promise)!==null&&e!==void 0?e:Promise}function qg(t){return t&&ve(t.next)&&ve(t.error)&&ve(t.complete)}function zg(t){return t&&t instanceof Nt||qg(t)&&or(t)}function Wg(t){return ve(t?.lift)}function Zc(t){return e=>{if(Wg(e))return e.lift(function(n){try{return t(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qc(t,e,n,o,r){return new Us(t,e,n,o,r)}var Us=class extends Nt{constructor(e,n,o,r,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(l){try{n(l)}catch(c){e.error(c)}}:super._next,this._error=r?function(l){try{r(l)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Xc=tr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var lt=(()=>{class t extends an{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new ir(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new Xc}next(n){rn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){rn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){rn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:r,observers:i}=this;return o||r?Ps:(this.currentObservers=null,i.push(n),new ge(()=>{this.currentObservers=null,Jn(i,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:r,isStopped:i}=this;o?n.error(r):i&&n.complete()}asObservable(){let n=new an;return n.source=this,n}}return t.create=(e,n)=>new ir(e,n),t})(),ir=class extends lt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,e)}error(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&o!==void 0?o:Ps}};var Yn=class extends lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:o}=this;if(e)throw n;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}};function Hs(t,e){return Zc((n,o)=>{let r=0;n.subscribe(Qc(o,i=>{o.next(t.call(e,i,r++))}))})}var Bs;function sr(){return Bs}function je(t){let e=Bs;return Bs=t,e}var ed=Symbol("NotFound");function ln(t){return t===ed||t?.name==="\u0275NotFound"}var fr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",R=class extends Error{code;constructor(e,n){super(pr(e,n)),this.code=e}};function jg(t){return`NG0${Math.abs(t)}`}function pr(t,e){return`${jg(t)}${e?": "+e:""}`}var ft=globalThis;function z(t){for(let e in t)if(t[e]===z)return e;throw Error("")}function It(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(It).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let o=n.indexOf(`
`);return o>=0?n.slice(0,o):n}function hr(t,e){return t?e?`${t} ${e}`:t:e||""}var Zg=z({__forward_ref__:z});function gr(t){return t.__forward_ref__=gr,t.toString=function(){return It(this())},t}function Ee(t){return id(t)?t():t}function id(t){return typeof t=="function"&&t.hasOwnProperty(Zg)&&t.__forward_ref__===gr}function X(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dn(t){return{providers:t.providers||[],imports:t.imports||[]}}function mr(t){return Qg(t,fn)}function Qg(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Xg(t){let e=t?.[fn]??null;return e||null}function $s(t){return t&&t.hasOwnProperty(lr)?t[lr]:null}var fn=z({\u0275prov:z}),lr=z({\u0275inj:z}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function oa(t){return t&&!!t.\u0275providers}var ra=z({\u0275cmp:z}),ia=z({\u0275dir:z}),sa=z({\u0275pipe:z});var jn=z({\u0275fac:z}),Ft=z({__NG_ELEMENT_ID__:z}),td=z({__NG_ENV_ID__:z});function Lt(t){return la(t,"@Component"),t[ra]||null}function aa(t){return la(t,"@Directive"),t[ia]||null}function sd(t){return la(t,"@Pipe"),t[sa]||null}function la(t,e){if(t==null)throw new R(-919,!1)}function ua(t){return typeof t=="string"?t:t==null?"":String(t)}var ad=z({ngErrorCode:z}),em=z({ngErrorMessage:z}),tm=z({ngTokenPath:z});function ca(t,e){return ld("",-200,e)}function yr(t,e){throw new R(-201,!1)}function ld(t,e,n){let o=new R(e,t);return o[ad]=e,o[em]=t,n&&(o[tm]=n),o}function nm(t){return t[ad]}var qs;function ud(){return qs}function me(t){let e=qs;return qs=t,e}function da(t,e,n){let o=mr(t);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&8)return null;if(e!==void 0)return e;yr(t,"")}var om={},bt=om,zs="__NG_DI_FLAG__",Ws=class{injector;constructor(e){this.injector=e}retrieve(e,n){let o=xt(n)||0;try{return this.injector.get(e,o&8?null:bt,o)}catch(r){if(ln(r))return r;throw r}}};function rm(t,e=0){let n=sr();if(n===void 0)throw new R(-203,!1);if(n===null)return da(t,void 0,e);{let o=im(e),r=n.retrieve(t,o);if(ln(r)){if(o.optional)return null;throw r}return r}}function W(t,e=0){return(ud()||rm)(Ee(t),e)}function fa(t){throw new R(202,!1)}function $(t,e){return W(t,xt(e))}function xt(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function im(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Js(t){let e=[];for(let n=0;n<t.length;n++){let o=Ee(t[n]);if(Array.isArray(o)){if(o.length===0)throw new R(900,!1);let r,i=0;for(let s=0;s<o.length;s++){let l=o[s],c=sm(l);typeof c=="number"?c===-1?r=l.token:i|=c:r=l}e.push(W(r,i))}else e.push(W(o))}return e}function pn(t,e){return t[zs]=e,t.prototype[zs]=e,t}function sm(t){return t[zs]}function Rt(t,e){let n=t.hasOwnProperty(jn);return n?t[jn]:null}function cd(t,e,n){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++){let r=t[o],i=e[o];if(n&&(r=n(r),i=n(i)),i!==r)return!1}return!0}function dd(t){return t.flat(Number.POSITIVE_INFINITY)}function vr(t,e){t.forEach(n=>Array.isArray(n)?vr(n,e):e(n))}function pa(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function eo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Er(t,e){let n=[];for(let o=0;o<t;o++)n.push(e);return n}function fd(t,e,n,o){let r=t.length;if(r==e)t.push(n,o);else if(r===1)t.push(o,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let i=r-2;t[r]=t[i],r--}t[e]=n,t[e+1]=o}}function Cr(t,e,n){let o=hn(t,e);return o>=0?t[o|1]=n:(o=~o,fd(t,o,e,n)),o}function Ir(t,e){let n=hn(t,e);if(n>=0)return t[n|1]}function hn(t,e){return am(t,e,1)}function am(t,e,n){let o=0,r=t.length>>n;for(;r!==o;){let i=o+(r-o>>1),s=t[i<<n];if(e===s)return i<<n;s>e?r=i:o=i+1}return~(r<<n)}var Ot={},Ce=[],to=new B(""),ha=new B("",-1),ga=new B(""),Zn=class{get(e,n=bt){if(n===bt){let r=ld("",-201);throw r.name="\u0275NotFound",r}return n}};function ma(t){return{\u0275providers:t}}function pd(...t){return{\u0275providers:ya(!0,t),\u0275fromNgModule:!0}}function ya(t,...e){let n=[],o=new Set,r,i=s=>{n.push(s)};return vr(e,s=>{let l=s;ur(l,i,[],o)&&(r||=[],r.push(l))}),r!==void 0&&hd(r,i),n}function hd(t,e){for(let n=0;n<t.length;n++){let{ngModule:o,providers:r}=t[n];va(r,i=>{e(i,o)})}}function ur(t,e,n,o){if(t=Ee(t),!t)return!1;let r=null,i=$s(t),s=!i&&Lt(t);if(!i&&!s){let c=t.ngModule;if(i=$s(c),i)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let l=o.has(r);if(s){if(l)return!1;if(o.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of c)ur(d,e,n,o)}}else if(i){if(i.imports!=null&&!l){o.add(r);let d;vr(i.imports,f=>{ur(f,e,n,o)&&(d||=[],d.push(f))}),d!==void 0&&hd(d,e)}if(!l){let d=Rt(r)||(()=>new r);e({provide:r,useFactory:d,deps:Ce},r),e({provide:ga,useValue:r,multi:!0},r),e({provide:to,useValue:()=>W(r),multi:!0},r)}let c=i.providers;if(c!=null&&!l){let d=t;va(c,f=>{e(f,d)})}}else return!1;return r!==t&&t.providers!==void 0}function va(t,e){for(let n of t)oa(n)&&(n=n.\u0275providers),Array.isArray(n)?va(n,e):e(n)}var lm=z({provide:String,useValue:z});function gd(t){return t!==null&&typeof t=="object"&&lm in t}function um(t){return!!(t&&t.useExisting)}function cm(t){return!!(t&&t.useFactory)}function cr(t){return typeof t=="function"}var no=new B(""),ar={},nd={},Gs;function oo(){return Gs===void 0&&(Gs=new Zn),Gs}var Me=class{},Pt=class extends Me{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,o,r){super(),this.parent=n,this.source=o,this.scopes=r,Ks(e,s=>this.processProvider(s)),this.records.set(ha,un(void 0,this)),r.has("environment")&&this.records.set(Me,un(void 0,this));let i=this.records.get(no);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(ga,Ce,{self:!0}))}retrieve(e,n){let o=xt(n)||0;try{return this.get(e,bt,o)}catch(r){if(ln(r))return r;throw r}}destroy(){Kn(this),this._destroyed=!0;let e=N(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),N(e)}}onDestroy(e){return Kn(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Kn(this);let n=je(this),o=me(void 0),r;try{return e()}finally{je(n),me(o)}}get(e,n=bt,o){if(Kn(this),e.hasOwnProperty(td))return e[td](this);let r=xt(o),i,s=je(this),l=me(void 0);try{if(!(r&4)){let d=this.records.get(e);if(d===void 0){let f=gm(e)&&mr(e);f&&this.injectableDefInScope(f)?d=un(Ys(e),ar):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,r)}let c=r&2?oo():this.parent;return n=r&8&&n===bt?null:n,c.get(e,n)}catch(c){let d=nm(c);throw d===-200||d===-201?new R(d,null):c}finally{me(l),je(s)}}resolveInjectorInitializers(){let e=N(null),n=je(this),o=me(void 0),r;try{let i=this.get(to,Ce,{self:!0});for(let s of i)s()}finally{je(n),me(o),N(e)}}toString(){let e=[],n=this.records;for(let o of n.keys())e.push(It(o));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ee(e);let n=cr(e)?e:Ee(e&&e.provide),o=fm(e);if(!cr(e)&&e.multi===!0){let r=this.records.get(n);r||(r=un(void 0,ar,!0),r.factory=()=>Js(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,o)}hydrate(e,n,o){let r=N(null);try{if(n.value===nd)throw ca(It(e));return n.value===ar&&(n.value=nd,n.value=n.factory(void 0,o)),typeof n.value=="object"&&n.value&&hm(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{N(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ee(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ys(t){let e=mr(t),n=e!==null?e.factory:Rt(t);if(n!==null)return n;if(t instanceof B)throw new R(204,!1);if(t instanceof Function)return dm(t);throw new R(204,!1)}function dm(t){if(t.length>0)throw new R(204,!1);let n=Xg(t);return n!==null?()=>n.factory(t):()=>new t}function fm(t){if(gd(t))return un(void 0,t.useValue);{let e=md(t);return un(e,ar)}}function md(t,e,n){let o;if(cr(t)){let r=Ee(t);return Rt(r)||Ys(r)}else if(gd(t))o=()=>Ee(t.useValue);else if(cm(t))o=()=>t.useFactory(...Js(t.deps||[]));else if(um(t))o=(r,i)=>W(Ee(t.useExisting),i!==void 0&&i&8?8:void 0);else{let r=Ee(t&&(t.useClass||t.provide));if(pm(t))o=()=>new r(...Js(t.deps));else return Rt(r)||Ys(r)}return o}function Kn(t){if(t.destroyed)throw new R(205,!1)}function un(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pm(t){return!!t.deps}function hm(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function gm(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Ks(t,e){for(let n of t)Array.isArray(n)?Ks(n,e):n&&oa(n)?Ks(n.\u0275providers,e):e(n)}function _r(t,e){let n;t instanceof Pt?(Kn(t),n=t):n=new Ws(t);let o,r=je(n),i=me(void 0);try{return e()}finally{je(r),me(i)}}function yd(){return ud()!==void 0||sr()!=null}var Be=0,b=1,P=2,se=3,be=4,xe=5,gn=6,mn=7,te=8,pt=9,Ze=10,oe=11,yn=12,Ea=13,Vt=14,Re=15,Dt=16,Ut=17,Qe=18,ht=19,Ca=20,ct=21,Dr=22,ro=23,Se=24,Tr=25,Ht=26,ae=27,vd=1,Ia=6,Tt=7,io=8,Bt=9,ee=10;function gt(t){return Array.isArray(t)&&typeof t[vd]=="object"}function Ge(t){return Array.isArray(t)&&t[vd]===!0}function _a(t){return(t.flags&4)!==0}function vn(t){return t.componentOffset>-1}function Da(t){return(t.flags&1)===1}function En(t){return!!t.template}function Cn(t){return(t[P]&512)!==0}function Gt(t){return(t[P]&256)===256}var Ta="svg",Ed="math";function Pe(t){for(;Array.isArray(t);)t=t[Be];return t}function Sa(t,e){return Pe(e[t])}function Xe(t,e){return Pe(e[t.index])}function so(t,e){return t.data[e]}function wa(t,e){return t[e]}function Aa(t,e,n,o){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=o}function mt(t,e){let n=e[t];return gt(n)?n:n[Be]}function Cd(t){return(t[P]&4)===4}function Sr(t){return(t[P]&128)===128}function Id(t){return Ge(t[se])}function et(t,e){return e==null?null:t[e]}function Ma(t){t[Ut]=0}function Na(t){t[P]&1024||(t[P]|=1024,Sr(t)&&lo(t))}function _d(t,e){for(;t>0;)e=e[Vt],t--;return e}function ao(t){return!!(t[P]&9216||t[Se]?.dirty)}function wr(t){t[Ze].changeDetectionScheduler?.notify(8),t[P]&64&&(t[P]|=1024),ao(t)&&lo(t)}function lo(t){t[Ze].changeDetectionScheduler?.notify(0);let e=_t(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!Sr(e)));)e=_t(e)}function ba(t,e){if(Gt(t))throw new R(911,!1);t[ct]===null&&(t[ct]=[]),t[ct].push(e)}function Dd(t,e){if(t[ct]===null)return;let n=t[ct].indexOf(e);n!==-1&&t[ct].splice(n,1)}function _t(t){let e=t[se];return Ge(e)?e[se]:e}function xa(t){return t[mn]??=[]}function Ra(t){return t.cleanup??=[]}function Td(t,e,n,o){let r=xa(e);r.push(n),t.firstCreatePass&&Ra(t).push(o,r.length-1)}var k={lFrame:Bd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var js=!1;function Sd(){return k.lFrame.elementDepthCount}function wd(){k.lFrame.elementDepthCount++}function Ad(){k.lFrame.elementDepthCount--}function Md(){return k.skipHydrationRootTNode!==null}function Nd(t){return k.skipHydrationRootTNode===t}function bd(){k.skipHydrationRootTNode=null}function K(){return k.lFrame.lView}function we(){return k.lFrame.tView}function J(t){return k.lFrame.contextLView=t,t[te]}function Y(t){return k.lFrame.contextLView=null,t}function tt(){let t=Pa();for(;t!==null&&t.type===64;)t=t.parent;return t}function Pa(){return k.lFrame.currentTNode}function xd(){let t=k.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function In(t,e){let n=k.lFrame;n.currentTNode=t,n.isParent=e}function ka(){return k.lFrame.isParent}function Rd(){k.lFrame.isParent=!1}function Pd(){return k.lFrame.contextLView}function Fa(){return js}function La(t){let e=js;return js=t,e}function kd(){let t=k.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Fd(t){return k.lFrame.bindingIndex=t}function uo(){return k.lFrame.bindingIndex++}function Oa(t){let e=k.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ld(){return k.lFrame.inI18n}function Od(t,e){let n=k.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ar(e)}function Vd(){return k.lFrame.currentDirectiveIndex}function Ar(t){k.lFrame.currentDirectiveIndex=t}function Ud(t){let e=k.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Va(){return k.lFrame.currentQueryIndex}function Mr(t){k.lFrame.currentQueryIndex=t}function mm(t){let e=t[b];return e.type===2?e.declTNode:e.type===1?t[xe]:null}function Ua(t,e,n){if(n&4){let r=e,i=t;for(;r=r.parent,r===null&&!(n&1);)if(r=mm(i),r===null||(i=i[Vt],r.type&10))break;if(r===null)return!1;e=r,t=i}let o=k.lFrame=Hd();return o.currentTNode=e,o.lView=t,!0}function Nr(t){let e=Hd(),n=t[b];k.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Hd(){let t=k.lFrame,e=t===null?null:t.child;return e===null?Bd(t):e}function Bd(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Gd(){let t=k.lFrame;return k.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ha=Gd;function br(){let t=Gd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $d(t){return(k.lFrame.contextLView=_d(t,k.lFrame.contextLView))[te]}function yt(){return k.lFrame.selectedIndex}function St(t){k.lFrame.selectedIndex=t}function qd(){let t=k.lFrame;return so(t.tView,t.selectedIndex)}function Ie(){k.lFrame.currentNamespace=Ta}function ke(){ym()}function ym(){k.lFrame.currentNamespace=null}function zd(){return k.lFrame.currentNamespace}var Wd=!0;function xr(){return Wd}function Rr(t){Wd=t}function Zs(t,e=null,n=null,o){let r=Jd(t,e,n,o);return r.resolveInjectorInitializers(),r}function Jd(t,e=null,n=null,o,r=new Set){let i=[n||Ce,pd(t)];return o=o||(typeof t=="object"?void 0:It(t)),new Pt(i,e||oo(),o||null,r)}var kt=class t{static THROW_IF_NOT_FOUND=bt;static NULL=new Zn;static create(e,n){if(Array.isArray(e))return Zs({name:""},n,e,"");{let o=e.name??"";return Zs({name:o},e.parent,e.providers,o)}}static \u0275prov=X({token:t,providedIn:"any",factory:()=>W(ha)});static __NG_ELEMENT_ID__=-1},$e=new B(""),Pr=(()=>{class t{static __NG_ELEMENT_ID__=vm;static __NG_ENV_ID__=n=>n}return t})(),Qs=class extends Pr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Gt(this._lView)}onDestroy(e){let n=this._lView;return ba(n,e),()=>Dd(n,e)}};function vm(){return new Qs(K())}var Yd=!1,Kd=new B(""),_n=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Yn(!1);debugTaskTracker=$(Kd,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new an(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}return t})(),Xs=class extends lt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,yd()&&(this.destroyRef=$(Pr,{optional:!0})??void 0,this.pendingTasks=$(_n,{optional:!0})??void 0)}emit(e){let n=N(null);try{super.next(e)}finally{N(n)}}subscribe(e,n,o){let r=e,i=n||(()=>null),s=o;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:r,error:i,complete:s});return e instanceof ge&&e.add(l),l}wrapInTimeout(e){return n=>{let o=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{o!==void 0&&this.pendingTasks?.remove(o)}})}}},ut=Xs;function dr(...t){}function Ba(t){let e,n;function o(){t=dr;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),o()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),o()})),()=>o()}function jd(t){return queueMicrotask(()=>t()),()=>{t=dr}}var Ga="isAngularZone",Qn=Ga+"_ID",Em=0,Ne=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ut(!1);onMicrotaskEmpty=new ut(!1);onStable=new ut(!1);onError=new ut(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:i=Yd}=e;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&o,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=i,_m(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ga)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new R(909,!1)}run(e,n,o){return this._inner.run(e,n,o)}runTask(e,n,o,r){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Cm,dr,dr);try{return i.runTask(s,n,o)}finally{i.cancelTask(s)}}runGuarded(e,n,o){return this._inner.runGuarded(e,n,o)}runOutsideAngular(e){return this._outer.run(e)}},Cm={};function $a(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Im(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Ba(()=>{t.callbackScheduled=!1,ea(t),t.isCheckStableRunning=!0,$a(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ea(t)}function _m(t){let e=()=>{Im(t)},n=Em++;t._inner=t._inner.fork({name:"angular",properties:{[Ga]:!0,[Qn]:n,[Qn+n]:!0},onInvokeTask:(o,r,i,s,l,c)=>{if(Dm(c))return o.invokeTask(i,s,l,c);try{return od(t),o.invokeTask(i,s,l,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),rd(t)}},onInvoke:(o,r,i,s,l,c,d)=>{try{return od(t),o.invoke(i,s,l,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Tm(c)&&e(),rd(t)}},onHasTask:(o,r,i,s)=>{o.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ea(t),$a(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(o,r,i,s)=>(o.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ea(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function od(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rd(t){t._nesting--,$a(t)}var Xn=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ut;onMicrotaskEmpty=new ut;onStable=new ut;onError=new ut;run(e,n,o){return e.apply(n,o)}runGuarded(e,n,o){return e.apply(n,o)}runOutsideAngular(e){return e()}runTask(e,n,o,r){return e.apply(n,o)}};function Dm(t){return Zd(t,"__ignore_ng_zone__")}function Tm(t){return Zd(t,"__scheduler_tick__")}function Zd(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var dt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},$t=new B("",{factory:()=>{let t=$(Ne),e=$(Me),n;return o=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw o}):(n??=e.get(dt),n.handleError(o))})}}}),Qd={provide:to,useValue:()=>{let t=$(dt,{optional:!0})},multi:!0};function de(t,e){let[n,o,r]=xs(t,e?.equal),i=n,s=i[Ae];return i.set=o,i.update=r,i.asReadonly=Xd.bind(i),i}function Xd(){let t=this[Ae];if(t.readonlyFn===void 0){let e=()=>this();e[Ae]=t,t.readonlyFn=e}return t.readonlyFn}var cn=class{},co=new B("",{factory:()=>!0});var qa=new B("");var za=(()=>{class t{static \u0275prov=X({token:t,providedIn:"root",factory:()=>new ta})}return t})(),ta=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,o=this.queues.get(n);o.has(e)&&(o.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let o=this.queues.get(n);o.has(e)||o.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,o]of this.queues)n===null?e||=this.flushQueue(o):e||=n.run(()=>this.flushQueue(o));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let o of e)o.dirty&&(this.dirtyEffectCount--,n=!0,o.run());return n}},na=class{[Ae];constructor(e){this[Ae]=e}destroy(){this[Ae].destroy()}};function To(t){return{toString:t}.toString()}var Dn="__annotations__",Tn="__parameters__",ef="__prop__metadata__";function Pm(t,e,n,o,r){return To(()=>{let i=xf(e);function s(...l){if(this instanceof s)return i.call(this,...l),this;let c=new s(...l);return function(f){return r&&r(f,...l),(f.hasOwnProperty(Dn)?f[Dn]:Object.defineProperty(f,Dn,{value:[]})[Dn]).push(c),f}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function xf(t){return function(...n){if(t){let o=t(...n);for(let r in o)this[r]=o[r]}}}function xn(t,e,n){return To(()=>{let o=xf(e);function r(...i){if(this instanceof r)return o.apply(this,i),this;let s=new r(...i);return l.annotation=s,l;function l(c,d,f){let p=c.hasOwnProperty(Tn)?c[Tn]:Object.defineProperty(c,Tn,{value:[]})[Tn];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),c}}return r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Rf=pn(xn("Inject",t=>({token:t})),-1),Pf=pn(xn("Optional"),8),kf=pn(xn("Self"),2),Ff=pn(xn("SkipSelf"),4),Lf=pn(xn("Host"),1);function tl(t){let e=ft.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}var tf={\u0275\u0275defineInjectable:X,\u0275\u0275defineInjector:dn,\u0275\u0275inject:W,\u0275\u0275invalidFactoryDep:fa,resolveForwardRef:Ee},Of=Function;function po(t){return typeof t=="function"}var km=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Fm=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Lm=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Om=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;function Vm(t){return km.test(t)||Om.test(t)||Fm.test(t)&&!Lm.test(t)}var Hr=class{_reflect;constructor(e){this._reflect=e||ft.Reflect}factory(e){return(...n)=>new e(...n)}_zipTypesAndAnnotations(e,n){let o;typeof e>"u"?o=Er(n.length):o=Er(e.length);for(let r=0;r<o.length;r++)typeof e>"u"?o[r]=[]:e[r]&&e[r]!=Object?o[r]=[e[r]]:o[r]=[],n&&n[r]!=null&&(o[r]=o[r].concat(n[r]));return o}_ownParameters(e,n){let o=e.toString();if(Vm(o))return null;if(e.parameters&&e.parameters!==n.parameters)return e.parameters;let r=e.ctorParameters;if(r&&r!==n.ctorParameters){let l=typeof r=="function"?r():r,c=l.map(f=>f&&f.type),d=l.map(f=>f&&Wa(f.decorators));return this._zipTypesAndAnnotations(c,d)}let i=e.hasOwnProperty(Tn)&&e[Tn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||i?this._zipTypesAndAnnotations(s,i):Er(e.length)}parameters(e){if(!po(e))return[];let n=kr(e),o=this._ownParameters(e,n);return!o&&n!==Object&&(o=this.parameters(n)),o||[]}_ownAnnotations(e,n){if(e.annotations&&e.annotations!==n.annotations){let o=e.annotations;return typeof o=="function"&&o.annotations&&(o=o.annotations),o}return e.decorators&&e.decorators!==n.decorators?Wa(e.decorators):e.hasOwnProperty(Dn)?e[Dn]:null}annotations(e){if(!po(e))return[];let n=kr(e),o=this._ownAnnotations(e,n)||[];return(n!==Object?this.annotations(n):[]).concat(o)}_ownPropMetadata(e,n){if(e.propMetadata&&e.propMetadata!==n.propMetadata){let o=e.propMetadata;return typeof o=="function"&&o.propMetadata&&(o=o.propMetadata),o}if(e.propDecorators&&e.propDecorators!==n.propDecorators){let o=e.propDecorators,r={};return Object.keys(o).forEach(i=>{r[i]=Wa(o[i])}),r}return e.hasOwnProperty(ef)?e[ef]:null}propMetadata(e){if(!po(e))return{};let n=kr(e),o={};if(n!==Object){let i=this.propMetadata(n);Object.keys(i).forEach(s=>{o[s]=i[s]})}let r=this._ownPropMetadata(e,n);return r&&Object.keys(r).forEach(i=>{let s=[];o.hasOwnProperty(i)&&s.push(...o[i]),s.push(...r[i]),o[i]=s}),o}ownPropMetadata(e){return po(e)?this._ownPropMetadata(e,kr(e))||{}:{}}hasLifecycleHook(e,n){return e instanceof Of&&n in e.prototype}};function Wa(t){return t?t.map(e=>{let o=e.type.annotationCls,r=e.args?e.args:[];return new o(...r)}):[]}function kr(t){let e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}function Vf(t,e,n,o){e!==null?e.applyValueToInputSignal(e,o):t[n]=o}var Br=class{previousValue;currentValue;firstChange;constructor(e,n,o){this.previousValue=e,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}};function Um(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bm),Hm}function Hm(){let t=Hf(this),e=t?.current;if(e){let n=t.previous;if(n===Ot)t.previous=e;else for(let o in e)n[o]=e[o];t.current=null,this.ngOnChanges(e)}}function Bm(t,e,n,o,r){let i=this.declaredInputs[o],s=Hf(t)||Gm(t,{previous:Ot,current:null}),l=s.current||(s.current={}),c=s.previous,d=c[i];l[i]=new Br(d&&d.currentValue,n,c===Ot),Vf(t,e,r,n)}var Uf="__ngSimpleChanges__";function Hf(t){return t[Uf]||null}function Gm(t,e){return t[Uf]=e}var nf=[];var j=function(t,e=null,n){for(let o=0;o<nf.length;o++){let r=nf[o];r(t,e,n)}},q=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(q||{});function $m(t,e,n){let{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(o){let s=Um(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function qm(t,e){for(let n=e.directiveStart,o=e.directiveEnd;n<o;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=i;s&&(t.contentHooks??=[]).push(-n,s),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),c&&(t.viewHooks??=[]).push(-n,c),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Lr(t,e,n){Bf(t,e,3,n)}function Or(t,e,n,o){(t[P]&3)===n&&Bf(t,e,n,o)}function Ja(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function Bf(t,e,n,o){let r=o!==void 0?t[Ut]&65535:0,i=o??-1,s=e.length-1,l=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(l=e[c],o!=null&&l>=o)break}else e[c]<0&&(t[Ut]+=65536),(l<i||i==-1)&&(zm(t,n,e,c),t[Ut]=(t[Ut]&4294901760)+c+2),c++}function of(t,e){j(q.LifecycleHookStart,t,e);let n=N(null);try{e.call(t)}finally{N(n),j(q.LifecycleHookEnd,t,e)}}function zm(t,e,n,o){let r=n[o]<0,i=n[o+1],s=r?-n[o]:n[o],l=t[s];r?t[P]>>14<t[Ut]>>16&&(t[P]&3)===e&&(t[P]+=16384,of(l,i)):of(l,i)}var wn=-1,mo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,o,r){this.factory=e,this.name=r,this.canSeeViewProviders=n,this.injectImpl=o}};function Wm(t,e,n){let o=0;for(;o<n.length;){let r=n[o];if(typeof r=="number"){if(r!==0)break;o++;let i=n[o++],s=n[o++],l=n[o++];t.setAttribute(e,s,l,i)}else{let i=r,s=n[++o];Ym(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),o++}}return o}function Jm(t){return t===3||t===4||t===6}function Ym(t){return t.charCodeAt(0)===64}function ti(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let o=0;o<e.length;o++){let r=e[o];typeof r=="number"?n=r:n===0||(n===-1||n===2?rf(t,n,r,null,e[++o]):rf(t,n,r,null,null))}}return t}function rf(t,e,n,o,r){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let l=t[i++];if(typeof l=="number"){if(l===e){s=-1;break}else if(l>e){s=i-1;break}}}for(;i<t.length;){let l=t[i];if(typeof l=="number")break;if(l===n){r!==null&&(t[i+1]=r);return}i++,r!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r)}function Gf(t){return t!==wn}function Gr(t){return t&32767}function Km(t){return t>>16}function $r(t,e){let n=Km(t),o=e;for(;n>0;)o=o[Vt],n--;return o}var nl=!0;function qr(t){let e=nl;return nl=t,e}var jm=256,$f=jm-1,qf=5,Zm=0,nt={};function Qm(t,e,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty(Ft)&&(o=n[Ft]),o==null&&(o=n[Ft]=Zm++);let r=o&$f,i=1<<r;e.data[t+(r>>qf)]|=i}function zf(t,e){let n=Wf(t,e);if(n!==-1)return n;let o=e[b];o.firstCreatePass&&(t.injectorIndex=e.length,Ya(o.data,t),Ya(e,null),Ya(o.blueprint,null));let r=Ml(t,e),i=t.injectorIndex;if(Gf(r)){let s=Gr(r),l=$r(r,e),c=l[b].data;for(let d=0;d<8;d++)e[i+d]=l[s+d]|c[s+d]}return e[i+8]=r,i}function Ya(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Wf(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ml(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,o=null,r=e;for(;r!==null;){if(o=Zf(r),o===null)return wn;if(n++,r=r[Vt],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return wn}function Xm(t,e,n){Qm(t,e,n)}function ey(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let o=n.length,r=0;for(;r<o;){let i=n[r];if(Jm(i))break;if(i===0)r=r+2;else if(typeof i=="number")for(r++;r<o&&typeof n[r]=="string";)r++;else{if(i===e)return n[r+1];r=r+2}}}return null}function Jf(t,e,n){if(n&8||t!==void 0)return t;yr(e,"NodeInjector")}function Yf(t,e,n,o){if(n&8&&o===void 0&&(o=null),(n&3)===0){let r=t[pt],i=me(void 0);try{return r?r.get(e,o,n&8):da(e,o,n&8)}finally{me(i)}}return Jf(o,e,n)}function Kf(t,e,n,o=0,r){if(t!==null){if(e[P]&2048&&!(o&2)){let s=ry(t,e,n,o,nt);if(s!==nt)return s}let i=jf(t,e,n,o,nt);if(i!==nt)return i}return Yf(e,n,o,r)}function jf(t,e,n,o,r){let i=ny(n);if(typeof i=="function"){if(!Ua(e,t,o))return o&1?Jf(r,n,o):Yf(e,n,o,r);try{let s;if(s=i(o),s==null&&!(o&8))yr(n);else return s}finally{Ha()}}else if(typeof i=="number"){let s=null,l=Wf(t,e),c=wn,d=o&1?e[Re][xe]:null;for((l===-1||o&4)&&(c=l===-1?Ml(t,e):e[l+8],c===wn||!af(o,!1)?l=-1:(s=e[b],l=Gr(c),e=$r(c,e)));l!==-1;){let f=e[b];if(sf(i,l,f.data)){let p=ty(l,e,n,s,o,d);if(p!==nt)return p}c=e[l+8],c!==wn&&af(o,e[b].data[l+8]===d)&&sf(i,l,e)?(s=f,l=Gr(c),e=$r(c,e)):l=-1}}return r}function ty(t,e,n,o,r,i){let s=e[b],l=s.data[t+8],c=o==null?vn(l)&&nl:o!=s&&(l.type&3)!==0,d=r&1&&i===l,f=Vr(l,s,n,c,d);return f!==null?zr(e,s,f,l,r):nt}function Vr(t,e,n,o,r){let i=t.providerIndexes,s=e.data,l=i&1048575,c=t.directiveStart,d=t.directiveEnd,f=i>>20,p=o?l:l+f,h=r?l+f:d;for(let g=p;g<h;g++){let m=s[g];if(g<c&&n===m||g>=c&&m.type===n)return g}if(r){let g=s[c];if(g&&En(g)&&g.type===n)return c}return null}function zr(t,e,n,o,r){let i=t[n],s=e.data;if(i instanceof mo){let l=i;if(l.resolving)throw ca("");let c=qr(l.canSeeViewProviders);l.resolving=!0;let d=s[n].type||s[n],f,p=l.injectImpl?me(l.injectImpl):null,h=Ua(t,o,0);try{i=t[n]=l.factory(void 0,r,s,t,o),e.firstCreatePass&&n>=o.directiveStart&&$m(n,s[n],e)}finally{p!==null&&me(p),qr(c),l.resolving=!1,Ha()}}return i}function ny(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ft)?t[Ft]:void 0;return typeof e=="number"?e>=0?e&$f:oy:e}function sf(t,e,n){let o=1<<t;return!!(n[e+(t>>qf)]&o)}function af(t,e){return!(t&2)&&!(t&1&&e)}var qt=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,o){return Kf(this._tNode,this._lView,e,xt(o),n)}};function oy(){return new qt(tt(),K())}function ry(t,e,n,o,r){let i=t,s=e;for(;i!==null&&s!==null&&s[P]&2048&&!Cn(s);){let l=jf(i,s,n,o|2,nt);if(l!==nt)return l;let c=i.parent;if(!c){let d=s[Ca];if(d){let f=d.get(n,nt,o);if(f!==nt)return f}c=Zf(s),s=s[Vt]}i=c}return r}function Zf(t){let e=t[b],n=e.type;return n===2?e.declTNode:n===1?t[xe]:null}function Nl(t){return ey(tt(),t)}var Qf=xn("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>Nl(t)})),lf=null;function iy(){return lf=lf||new Hr}function sy(t){return Xf(iy().parameters(t))}function Xf(t){return t.map(e=>ay(e))}function ay(t){let e={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let n=0;n<t.length;n++){let o=t[n];if(o===void 0)continue;let r=Object.getPrototypeOf(o);if(o instanceof Pf||r.ngMetadataName==="Optional")e.optional=!0;else if(o instanceof Ff||r.ngMetadataName==="SkipSelf")e.skipSelf=!0;else if(o instanceof kf||r.ngMetadataName==="Self")e.self=!0;else if(o instanceof Lf||r.ngMetadataName==="Host")e.host=!0;else if(o instanceof Rf)e.token=o.token;else if(o instanceof Qf){if(o.attributeName===void 0)throw new R(204,!1);e.attribute=o.attributeName}else e.token=o}else t===void 0||Array.isArray(t)&&t.length===0?e.token=null:e.token=t;return e}function ly(t,e){let n=null,o=null;t.hasOwnProperty(fn)||Object.defineProperty(t,fn,{get:()=>(n===null&&(n=tl({usage:0,kind:"injectable",type:t}).compileInjectable(tf,`ng:///${t.name}/\u0275prov.js`,fy(t,e))),n)}),t.hasOwnProperty(jn)||Object.defineProperty(t,jn,{get:()=>{if(o===null){let r=tl({usage:0,kind:"injectable",type:t});o=r.compileFactory(tf,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:sy(t),target:r.FactoryTarget.Injectable})}return o},configurable:!0})}var uy=z({provide:String,useValue:z});function uf(t){return t.useClass!==void 0}function cy(t){return uy in t}function cf(t){return t.useFactory!==void 0}function dy(t){return t.useExisting!==void 0}function fy(t,e){let n=e||{providedIn:null},o={name:t.name,type:t,typeArgumentCount:0,providedIn:n.providedIn};return(uf(n)||cf(n))&&n.deps!==void 0&&(o.deps=Xf(n.deps)),uf(n)?o.useClass=n.useClass:cy(n)?o.useValue=n.useValue:cf(n)?o.useFactory=n.useFactory:dy(n)&&(o.useExisting=n.useExisting),o}var bl=Pm("Injectable",void 0,void 0,void 0,(t,e)=>ly(t,e));function py(){return Rn(tt(),K())}function Rn(t,e){return new Pn(Xe(t,e))}var Pn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=py}return t})();function hy(t){return t instanceof Pn?t.nativeElement:t}function gy(){return this._results[Symbol.iterator]()}var Wr=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new lt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let o=dd(e);(this._changesDetected=!cd(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=gy};function ep(t){return(t.flags&128)===128}var xl=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(xl||{}),tp=new Map,my=0;function yy(){return my++}function vy(t){tp.set(t[ht],t)}function ol(t){tp.delete(t[ht])}var df="__ngContext__";function An(t,e){gt(e)?(t[df]=e[ht],vy(e)):t[df]=e}function np(t){return rp(t[yn])}function op(t){return rp(t[be])}function rp(t){for(;t!==null&&!Ge(t);)t=t[be];return t}var Ey;function Rl(t){Ey=t}var ni=new B("",{factory:()=>Cy}),Cy="ng";var oi=new B(""),So=new B("",{providedIn:"platform",factory:()=>"unknown"});var ri=new B("",{factory:()=>$($e).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ip="r";var sp="di";var ap=!1,lp=new B("",{factory:()=>ap});var Iy=(t,e,n,o)=>{};function _y(t,e,n,o){Iy(t,e,n,o)}function Pl(t){return(t.flags&32)===32}var Dy=()=>null;function up(t,e,n=!1){return Dy(t,e,n)}function cp(t,e){let n=t.contentQueries;if(n!==null){let o=N(null);try{for(let r=0;r<n.length;r+=2){let i=n[r],s=n[r+1];if(s!==-1){let l=t.data[s];Mr(i),l.contentQueries(2,e[s],s)}}}finally{N(o)}}}function rl(t,e,n){Mr(0);let o=N(null);try{e(t,n)}finally{N(o)}}function Ty(t,e,n){if(_a(e)){let o=N(null);try{let r=e.directiveStart,i=e.directiveEnd;for(let s=r;s<i;s++){let l=t.data[s];if(l.contentQueries){let c=n[s];l.contentQueries(1,c,s)}}}finally{N(o)}}}var ze=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(ze||{});var Jr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fr})`}};function ii(t){return t instanceof Jr?t.changingThisBreaksApplicationSecurity:t}function dp(t,e){let n=fp(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${fr})`)}return n===e}function fp(t){return t instanceof Jr&&t.getTypeName()||null}var Sy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pp(t){return t=String(t),t.match(Sy)?t:"unsafe:"+t}function wy(t,e){return t.createText(e)}function Ay(t,e,n){t.setValue(e,n)}function hp(t,e,n){return t.createElement(e,n)}function Yr(t,e,n,o,r){t.insertBefore(e,n,o,r)}function gp(t,e,n){t.appendChild(e,n)}function ff(t,e,n,o,r){o!==null?Yr(t,e,n,o,r):gp(t,e,n)}function mp(t,e,n,o){t.removeChild(null,e,n,o)}function My(t,e,n){t.setAttribute(e,"style",n)}function Ny(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function yp(t,e,n){let{mergedAttrs:o,classes:r,styles:i}=n;o!==null&&Wm(t,e,o),r!==null&&Ny(t,e,r),i!==null&&My(t,e,i)}var kl=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(kl||{});function si(t){let e=by();return e?e.sanitize(kl.URL,t)||"":dp(t,"URL")?ii(t):pp(ua(t))}function by(){let t=K();return t&&t[Ze].sanitizer}var xy="ng-template";function Ry(t){return t.type===4&&t.value!==xy}function il(t){return(t&1)===0}function pf(t,e){return t?":not("+e.trim()+")":e}function Py(t){let e=t[0],n=1,o=2,r="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(o&2){let l=t[++n];r+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else o&8?r+="."+s:o&4&&(r+=" "+s);else r!==""&&!il(s)&&(e+=pf(i,r),r=""),o=s,i=i||!il(o);n++}return r!==""&&(e+=pf(i,r)),e}function ky(t){return t.map(Py).join(",")}function Fy(t){let e=[],n=[],o=1,r=2;for(;o<t.length;){let i=t[o];if(typeof i=="string")r===2?i!==""&&e.push(i,t[++o]):r===8&&n.push(i);else{if(!il(r))break;r=i}o++}return n.length&&e.push(1,...n),e}var Fe={};function Fl(t,e,n,o,r,i,s,l,c,d,f){let p=ae+o,h=p+r,g=Ly(p,h),m=typeof d=="function"?d():d;return g[b]={type:t,blueprint:g,template:n,queries:null,viewQuery:l,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:f}}function Ly(t,e){let n=[];for(let o=0;o<e;o++)n.push(o<t?null:Fe);return n}function Oy(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Fl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ll(t,e,n,o,r,i,s,l,c,d,f){let p=e.blueprint.slice();return p[Be]=r,p[P]=o|4|128|8|64|1024,(d!==null||t&&t[P]&2048)&&(p[P]|=2048),Ma(p),p[se]=p[Vt]=t,p[te]=n,p[Ze]=s||t&&t[Ze],p[oe]=l||t&&t[oe],p[pt]=c||t&&t[pt]||null,p[xe]=i,p[ht]=yy(),p[gn]=f,p[Ca]=d,p[Re]=e.type==2?t[Re]:p,p}function Vy(t,e,n){let o=Xe(e,t),r=Oy(n),i=t[Ze].rendererFactory,s=Ol(t,Ll(t,r,null,vp(n),o,e,null,i.createRenderer(o,n),null,null,null));return t[e.index]=s}function vp(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Ep(t,e,n,o){if(n===0)return-1;let r=e.length;for(let i=0;i<n;i++)e.push(o),t.blueprint.push(o),t.data.push(null);return r}function Ol(t,e){return t[yn]?t[Ea][be]=e:t[yn]=e,t[Ea]=e,e}function V(t=1){Cp(we(),K(),yt()+t,!1)}function Cp(t,e,n,o){if(!o)if((e[P]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Lr(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Or(e,i,0,n)}St(n)}var ai=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(ai||{});function sl(t,e,n,o){let r=N(null);try{let[i,s,l]=t.inputs[n],c=null;(s&ai.SignalBased)!==0&&(c=e[i][Ae]),c!==null&&c.transformFn!==void 0?o=c.transformFn(o):l!==null&&(o=l.call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,i):Vf(e,c,i,o)}finally{N(r)}}var ot=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(ot||{}),Uy;function Vl(t,e){return Uy(t,e)}var zt=new Set,Ul=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Ul||{}),wo=new B(""),hf=new Set;function Yt(t){hf.has(t)||(hf.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Ip=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}return t})();var _p=new B("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:$(Me)})});function Dp(t,e,n){let o=t.get(_p);if(Array.isArray(e))for(let r of e)o.queue.add(r),n?.detachedLeaveAnimationFns?.push(r);else o.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);o.scheduler&&o.scheduler(t)}function Hy(t,e){let n=t.get(_p);if(e.detachedLeaveAnimationFns){for(let o of e.detachedLeaveAnimationFns)n.queue.delete(o);e.detachedLeaveAnimationFns=void 0}}function By(t,e){for(let[n,o]of e)Dp(t,o.animateFns)}function gf(t,e,n,o){let r=t?.[Ht]?.enter;e!==null&&r&&r.has(n.index)&&By(o,r)}function Sn(t,e,n,o,r,i,s,l){if(r!=null){let c,d=!1;Ge(r)?c=r:gt(r)&&(d=!0,r=r[Be]);let f=Pe(r);t===0&&o!==null?(gf(l,o,i,n),s==null?gp(e,o,f):Yr(e,o,f,s||null,!0)):t===1&&o!==null?(gf(l,o,i,n),Yr(e,o,f,s||null,!0)):t===2?mf(l,i,n,p=>{mp(e,f,d,p)}):t===3&&mf(l,i,n,()=>{e.destroyNode(f)}),c!=null&&ev(e,t,n,c,i,o,s)}}function Gy(t,e){Tp(t,e),e[Be]=null,e[xe]=null}function $y(t,e,n,o,r,i){o[Be]=r,o[xe]=e,ui(t,o,n,1,r,i)}function Tp(t,e){e[Ze].changeDetectionScheduler?.notify(9),ui(t,e,e[oe],2,null,null)}function qy(t){let e=t[yn];if(!e)return Ka(t[b],t);for(;e;){let n=null;if(gt(e))n=e[yn];else{let o=e[ee];o&&(n=o)}if(!n){for(;e&&!e[be]&&e!==t;)gt(e)&&Ka(e[b],e),e=e[se];e===null&&(e=t),gt(e)&&Ka(e[b],e),n=e&&e[be]}e=n}}function Hl(t,e){let n=t[Bt],o=n.indexOf(e);n.splice(o,1)}function li(t,e){if(Gt(e))return;let n=e[oe];n.destroyNode&&ui(t,e,n,3,null,null),qy(e)}function Ka(t,e){if(Gt(e))return;let n=N(null);try{e[P]&=-129,e[P]|=256,e[Se]&&Xo(e[Se]),Jy(t,e),Wy(t,e),e[b].type===1&&e[oe].destroy();let o=e[Dt];if(o!==null&&Ge(e[se])){o!==e[se]&&Hl(o,e);let r=e[Qe];r!==null&&r.detachView(t)}ol(e)}finally{N(n)}}function mf(t,e,n,o){let r=t?.[Ht];if(r==null||r.leave==null||!r.leave.has(e.index))return o(!1);t&&zt.add(t[ht]),Dp(n,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),l=[];if(s){for(let c=0;c<s.animateFns.length;c++){let d=s.animateFns[c],{promise:f}=d();l.push(f)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(l),zy(t,o)}else t&&zt.delete(t[ht]),o(!1)},r)}function zy(t,e){let n=t[Ht]?.running;if(n){n.then(()=>{t[Ht].running=void 0,zt.delete(t[ht]),e(!0)});return}e(!1)}function Wy(t,e){let n=t.cleanup,o=e[mn];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let l=n[s+3];l>=0?o[l]():o[-l].unsubscribe(),s+=2}else{let l=o[n[s+1]];n[s].call(l)}o!==null&&(e[mn]=null);let r=e[ct];if(r!==null){e[ct]=null;for(let s=0;s<r.length;s++){let l=r[s];l()}}let i=e[ro];if(i!==null){e[ro]=null;for(let s of i)s.destroy()}}function Jy(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let r=e[n[o]];if(!(r instanceof mo)){let i=n[o+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let l=r[i[s]],c=i[s+1];j(q.LifecycleHookStart,l,c);try{c.call(l)}finally{j(q.LifecycleHookEnd,l,c)}}else{j(q.LifecycleHookStart,r,i);try{i.call(r)}finally{j(q.LifecycleHookEnd,r,i)}}}}}function Yy(t,e,n){return Ky(t,e.parent,n)}function Ky(t,e,n){let o=e;for(;o!==null&&o.type&168;)e=o,o=e.parent;if(o===null)return n[Be];if(vn(o)){let{encapsulation:r}=t.data[o.directiveStart+o.componentOffset];if(r===ze.None||r===ze.Emulated)return null}return Xe(o,n)}function jy(t,e,n){return Qy(t,e,n)}function Zy(t,e,n){return t.type&40?Xe(t,n):null}var Qy=Zy,yf;function Bl(t,e,n,o){let r=Yy(t,o,e),i=e[oe],s=o.parent||e[xe],l=jy(s,o,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)ff(i,r,n[c],l,!1);else ff(i,r,n,l,!1);yf!==void 0&&yf(i,o,e,n,r)}function ho(t,e){if(e!==null){let n=e.type;if(n&3)return Xe(e,t);if(n&4)return al(-1,t[e.index]);if(n&8){let o=e.child;if(o!==null)return ho(t,o);{let r=t[e.index];return Ge(r)?al(-1,r):Pe(r)}}else{if(n&128)return ho(t,e.next);if(n&32)return Vl(e,t)()||Pe(t[e.index]);{let o=Sp(t,e);if(o!==null){if(Array.isArray(o))return o[0];let r=_t(t[Re]);return ho(r,o)}else return ho(t,e.next)}}}return null}function Sp(t,e){if(e!==null){let o=t[Re][xe],r=e.projection;return o.projection[r]}return null}function al(t,e){let n=ee+t+1;if(n<e.length){let o=e[n],r=o[b].firstChild;if(r!==null)return ho(o,r)}return e[Tt]}function Gl(t,e,n,o,r,i,s){for(;n!=null;){let l=o[pt];if(n.type===128){n=n.next;continue}let c=o[n.index],d=n.type;if(s&&e===0&&(c&&An(Pe(c),o),n.flags|=2),!Pl(n))if(d&8)Gl(t,e,n.child,o,r,i,!1),Sn(e,t,l,r,c,n,i,o);else if(d&32){let f=Vl(n,o),p;for(;p=f();)Sn(e,t,l,r,p,n,i,o);Sn(e,t,l,r,c,n,i,o)}else d&16?Xy(t,e,o,n,r,i):Sn(e,t,l,r,c,n,i,o);n=s?n.projectionNext:n.next}}function ui(t,e,n,o,r,i){Gl(n,o,t.firstChild,e,r,i,!1)}function Xy(t,e,n,o,r,i){let s=n[Re],c=s[xe].projection[o.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let f=c[d];Sn(e,t,n[pt],r,f,o,i,n)}else{let d=c,f=s[se];ep(o)&&(d.flags|=128),Gl(t,e,d,f,r,i,!0)}}function ev(t,e,n,o,r,i,s){let l=o[Tt],c=Pe(o);l!==c&&Sn(e,t,n,i,l,r,s);for(let d=ee;d<o.length;d++){let f=o[d];ui(f[b],f,t,e,i,l)}}function tv(t,e,n,o,r){if(e)r?t.addClass(n,o):t.removeClass(n,o);else{let i=o.indexOf("-")===-1?void 0:ot.DashCase;r==null?t.removeStyle(n,o,i):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),i|=ot.Important),t.setStyle(n,o,r,i))}}function wp(t,e,n,o,r){let i=yt(),s=o&2;try{St(-1),s&&e.length>ae&&Cp(t,e,ae,!1);let l=s?q.TemplateUpdateStart:q.TemplateCreateStart;j(l,r,n),n(o,r)}finally{St(i);let l=s?q.TemplateUpdateEnd:q.TemplateCreateEnd;j(l,r,n)}}function nv(t,e,n){av(t,e,n),(n.flags&64)===64&&lv(t,e,n)}function Ap(t,e,n=Xe){let o=e.localNames;if(o!==null){let r=e.index+1;for(let i=0;i<o.length;i+=2){let s=o[i+1],l=s===-1?n(e,t):t[s];t[r++]=l}}}function ov(t,e,n,o){let i=o.get(lp,ap)||n===ze.ShadowDom||n===ze.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,i);return rv(s),s}function rv(t){iv(t)}var iv=()=>null;function sv(t,e,n,o,r,i){if(t.type&3){let s=Xe(t,e);o=i!=null?i(o,t.value||"",n):o,r.setProperty(s,n,o)}else t.type&12}function av(t,e,n){let o=n.directiveStart,r=n.directiveEnd;vn(n)&&Vy(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||zf(n,e);let i=n.initialInputs;for(let s=o;s<r;s++){let l=t.data[s],c=zr(e,t,s,n);if(An(c,e),i!==null&&cv(e,s-o,c,l,n,i),En(l)){let d=mt(n.index,e);d[te]=zr(e,t,s,n)}}}function lv(t,e,n){let o=n.directiveStart,r=n.directiveEnd,i=n.index,s=Vd();try{St(i);for(let l=o;l<r;l++){let c=t.data[l],d=e[l];Ar(l),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&uv(c,d)}}finally{St(-1),Ar(s)}}function uv(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function cv(t,e,n,o,r,i){let s=i[e];if(s!==null)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1];sl(o,n,c,d)}}function dv(t,e,n,o,r){let i=ae+n,s=e[b],l=r(s,e,t,o,n);e[i]=l,In(t,!0);let c=t.type===2;return c?(yp(e[oe],l,t),(Sd()===0||Da(t))&&An(l,e),wd()):An(l,e),xr()&&(!c||!Pl(t))&&Bl(s,e,l,t),t}function fv(t){let e=t;return ka()?Rd():(e=e.parent,In(e,!1)),e}function pv(t,e){let n=t[pt];if(!n)return;let o;try{o=n.get($t,null)}catch{o=null}o?.(e)}function Mp(t,e,n,o,r){let i=t.inputs?.[o],s=t.hostDirectiveInputs?.[o],l=!1;if(s)for(let c=0;c<s.length;c+=2){let d=s[c],f=s[c+1],p=e.data[d];sl(p,n[d],f,r),l=!0}if(i)for(let c of i){let d=n[c],f=e.data[c];sl(f,d,o,r),l=!0}return l}function hv(t,e){let n=mt(e,t),o=n[b];gv(o,n);let r=n[Be];r!==null&&n[gn]===null&&(n[gn]=up(r,n[pt])),j(q.ComponentStart);try{$l(o,n,n[te])}finally{j(q.ComponentEnd,n[te])}}function gv(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function $l(t,e,n){Nr(e);try{let o=t.viewQuery;o!==null&&rl(1,o,n);let r=t.template;r!==null&&wp(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Qe]?.finishViewCreation(t),t.staticContentQueries&&cp(t,e),t.staticViewQueries&&rl(2,t.viewQuery,n);let i=t.components;i!==null&&mv(e,i)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{e[P]&=-5,br()}}function mv(t,e){for(let n=0;n<e.length;n++)hv(t,e[n])}function ci(t,e,n,o){let r=N(null);try{let i=e.tView,l=t[P]&4096?4096:16,c=Ll(t,i,n,l,null,e,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),d=t[e.index];c[Dt]=d;let f=t[Qe];return f!==null&&(c[Qe]=f.createEmbeddedView(i)),$l(i,c,n),c}finally{N(r)}}function yo(t,e){return!e||e.firstChild===null||ep(t)}function vo(t,e,n,o,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&o.push(Pe(i)),Ge(i)&&Np(i,o);let s=n.type;if(s&8)vo(t,e,n.child,o);else if(s&32){let l=Vl(n,e),c;for(;c=l();)o.push(c)}else if(s&16){let l=Sp(e,n);if(Array.isArray(l))o.push(...l);else{let c=_t(e[Re]);vo(c[b],c,l,o,!0)}}n=r?n.projectionNext:n.next}return o}function Np(t,e){for(let n=ee;n<t.length;n++){let o=t[n],r=o[b].firstChild;r!==null&&vo(o[b],o,r,e)}t[Tt]!==t[Be]&&e.push(t[Tt])}function bp(t){if(t[Tr]!==null){for(let e of t[Tr])e.impl.addSequence(e);t[Tr].length=0}}var xp=[];function yv(t){return t[Se]??vv(t)}function vv(t){let e=xp.pop()??Object.create(Cv);return e.lView=t,e}function Ev(t){t.lView[Se]!==t&&(t.lView=null,xp.push(t))}var Cv=he(le({},Wn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{lo(t.lView)},consumerOnSignalRead(){this.lView[Se]=this}});function Iv(t){let e=t[Se]??Object.create(_v);return e.lView=t,e}var _v=he(le({},Wn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=_t(t.lView);for(;e&&!Rp(e[b]);)e=_t(e);e&&Na(e)},consumerOnSignalRead(){this.lView[Se]=this}});function Rp(t){return t.type!==2}function Pp(t){if(t[ro]===null)return;let e=!0;for(;e;){let n=!1;for(let o of t[ro])o.dirty&&(n=!0,o.zone===null||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));e=n&&!!(t[P]&8192)}}var Dv=100;function kp(t,e=0){let o=t[Ze].rendererFactory,r=!1;r||o.begin?.();try{Tv(t,e)}finally{r||o.end?.()}}function Tv(t,e){let n=Fa();try{La(!0),ll(t,e);let o=0;for(;ao(t);){if(o===Dv)throw new R(103,!1);o++,ll(t,1)}}finally{La(n)}}function Sv(t,e,n,o){if(Gt(e))return;let r=e[P],i=!1,s=!1;Nr(e);let l=!0,c=null,d=null;i||(Rp(t)?(d=yv(e),c=Qo(d)):Zo()===null?(l=!1,d=Iv(e),c=Qo(d)):e[Se]&&(Xo(e[Se]),e[Se]=null));try{Ma(e),Fd(t.bindingStartIndex),n!==null&&wp(t,e,n,2,o);let f=(r&3)===3;if(!i)if(f){let g=t.preOrderCheckHooks;g!==null&&Lr(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Or(e,g,0,null),Ja(e,0)}if(s||wv(e),Pp(e),Fp(e,0),t.contentQueries!==null&&cp(t,e),!i)if(f){let g=t.contentCheckHooks;g!==null&&Lr(e,g)}else{let g=t.contentHooks;g!==null&&Or(e,g,1),Ja(e,1)}Mv(t,e);let p=t.components;p!==null&&Op(e,p,0);let h=t.viewQuery;if(h!==null&&rl(2,h,o),!i)if(f){let g=t.viewCheckHooks;g!==null&&Lr(e,g)}else{let g=t.viewHooks;g!==null&&Or(e,g,2),Ja(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Dr]){for(let g of e[Dr])g();e[Dr]=null}i||(bp(e),e[P]&=-73)}catch(f){throw i||lo(e),f}finally{d!==null&&(Ss(d,c),l&&Ev(d)),br()}}function Fp(t,e){for(let n=np(t);n!==null;n=op(n))for(let o=ee;o<n.length;o++){let r=n[o];Lp(r,e)}}function wv(t){for(let e=np(t);e!==null;e=op(e)){if(!(e[P]&2))continue;let n=e[Bt];for(let o=0;o<n.length;o++){let r=n[o];Na(r)}}}function Av(t,e,n){j(q.ComponentStart);let o=mt(e,t);try{Lp(o,n)}finally{j(q.ComponentEnd,o[te])}}function Lp(t,e){Sr(t)&&ll(t,e)}function ll(t,e){let o=t[b],r=t[P],i=t[Se],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(i?.dirty&&ws(i)),s||=!1,i&&(i.dirty=!1),t[P]&=-9217,s)Sv(o,t,o.template,t[te]);else if(r&8192){let l=N(null);try{Pp(t),Fp(t,1);let c=o.components;c!==null&&Op(t,c,1),bp(t)}finally{N(l)}}}function Op(t,e,n){for(let o=0;o<e.length;o++)Av(t,e[o],n)}function Mv(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let r=n[o];if(r<0)St(~r);else{let i=r,s=n[++o],l=n[++o];Od(s,i);let c=e[i];j(q.HostBindingsUpdateStart,c);try{l(2,c)}finally{j(q.HostBindingsUpdateEnd,c)}}}}finally{St(-1)}}function ql(t,e){let n=Fa()?64:1088;for(t[Ze].changeDetectionScheduler?.notify(e);t;){t[P]|=n;let o=_t(t);if(Cn(t)&&!o)return t;t=o}return null}function Vp(t,e,n,o){return[t,!0,0,e,null,o,null,n,null,null]}function Up(t,e){let n=ee+e;if(n<t.length)return t[n]}function di(t,e,n,o=!0){let r=e[b];if(Nv(r,e,t,n),o){let s=al(n,t),l=e[oe],c=l.parentNode(t[Tt]);c!==null&&$y(r,t[xe],l,e,c,s)}let i=e[gn];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Hp(t,e){let n=Eo(t,e);return n!==void 0&&li(n[b],n),n}function Eo(t,e){if(t.length<=ee)return;let n=ee+e,o=t[n];if(o){let r=o[Dt];r!==null&&r!==t&&Hl(r,o),e>0&&(t[n-1][be]=o[be]);let i=eo(t,ee+e);Gy(o[b],o);let s=i[Qe];s!==null&&s.detachView(i[b]),o[se]=null,o[be]=null,o[P]&=-129}return o}function Nv(t,e,n,o){let r=ee+o,i=n.length;o>0&&(n[r-1][be]=e),o<i-ee?(e[be]=n[r],pa(n,ee+o,e)):(n.push(e),e[be]=null),e[se]=n;let s=e[Dt];s!==null&&n!==s&&Bp(s,e);let l=e[Qe];l!==null&&l.insertView(t),wr(e),e[P]|=128}function Bp(t,e){let n=t[Bt],o=e[se];if(gt(o))t[P]|=2;else{let r=o[se][Re];e[Re]!==r&&(t[P]|=2)}n===null?t[Bt]=[e]:n.push(e)}var Mn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[b];return vo(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[te]}set context(e){this._lView[te]=e}get destroyed(){return Gt(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[se];if(Ge(e)){let n=e[io],o=n?n.indexOf(this):-1;o>-1&&(Eo(e,o),eo(n,o))}this._attachedToViewContainer=!1}li(this._lView[b],this._lView)}onDestroy(e){ba(this._lView,e)}markForCheck(){ql(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){wr(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,kp(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Cn(this._lView),n=this._lView[Dt];n!==null&&!e&&Hl(n,this._lView),Tp(this._lView[b],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e;let n=Cn(this._lView),o=this._lView[Dt];o!==null&&!n&&Bp(o,this._lView),wr(this._lView)}};var Nn=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=bv;constructor(n,o,r){this._declarationLView=n,this._declarationTContainer=o,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,r){let i=ci(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:o,dehydratedView:r});return new Mn(i)}}return t})();function bv(){return zl(tt(),K())}function zl(t,e){return t.type&4?new Nn(e,t,Rn(t,e)):null}function fi(t,e,n,o,r){let i=t.data[e];if(i===null)i=xv(t,e,n,o,r),Ld()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=o,i.attrs=r;let s=xd();i.injectorIndex=s===null?-1:s.injectorIndex}return In(i,!0),i}function xv(t,e,n,o,r){let i=Pa(),s=ka(),l=s?i:i&&i.parent,c=t.data[e]=Pv(t,l,n,e,o,r);return Rv(t,c,i,s),c}function Rv(t,e,n,o){t.firstChild===null&&(t.firstChild=e),n!==null&&(o?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Pv(t,e,n,o,r,i){let s=e?e.injectorIndex:-1,l=0;return Md()&&(l|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kv(t){let e=t[Ia]??[],o=t[se][oe],r=[];for(let i of e)i.data[sp]!==void 0?r.push(i):Fv(i,o);t[Ia]=r}function Fv(t,e){let n=0,o=t.firstChild;if(o){let r=t.data[ip];for(;n<r;){let i=o.nextSibling;mp(e,o,!1),o=i,n++}}}var Lv=()=>null,Ov=()=>null;function ul(t,e){return Lv(t,e)}function Gp(t,e,n){return Ov(t,e,n)}var $p=class{},pi=class{},cl=class{resolveComponentFactory(e){throw new R(917,!1)}},hi=class{static NULL=new cl},Wt=class{};var qp=(()=>{class t{static \u0275prov=X({token:t,providedIn:"root",factory:()=>null})}return t})();var Ur={},dl=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,o){let r=this.injector.get(e,Ur,o);return r!==Ur||n===Ur?r:this.parentInjector.get(e,n,o)}};function Kr(t,e,n){let o=n?t.styles:null,r=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")i=l;else if(i==1)r=hr(r,l);else if(i==2){let c=l,d=e[++s];o=hr(o,c+": "+d+";")}}n?t.styles=o:t.stylesWithoutHost=o,n?t.classes=r:t.classesWithoutHost=r}function Ao(t,e=0){let n=K();if(n===null)return W(t,e);let o=tt();return Kf(o,n,Ee(t),e)}function Vv(t,e,n,o,r){let i=o===null?null:{"":-1},s=r(t,n);if(s!==null){let l=s,c=null,d=null;for(let f of s)if(f.resolveHostDirectives!==null){[l,c,d]=f.resolveHostDirectives(s);break}Bv(t,e,n,l,i,c,d)}i!==null&&o!==null&&Uv(n,o,i)}function Uv(t,e,n){let o=t.localNames=[];for(let r=0;r<e.length;r+=2){let i=n[e[r+1]];if(i==null)throw new R(-301,!1);o.push(e[r],i)}}function Hv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Bv(t,e,n,o,r,i,s){let l=o.length,c=null;for(let h=0;h<l;h++){let g=o[h];c===null&&En(g)&&(c=g,Hv(t,n,h)),Xm(zf(n,e),t,g.type)}Jv(n,t.data.length,l),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<l;h++){let g=o[h];g.providersResolver&&g.providersResolver(g)}let d=!1,f=!1,p=Ep(t,e,l,null);l>0&&(n.directiveToIndex=new Map);for(let h=0;h<l;h++){let g=o[h];if(n.mergedAttrs=ti(n.mergedAttrs,g.hostAttrs),$v(t,n,e,p,g),Wv(p,g,r),s!==null&&s.has(g)){let[y,E]=s.get(g);n.directiveToIndex.set(g.type,[p,y+n.directiveStart,E+n.directiveStart])}else(i===null||!i.has(g))&&n.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let m=g.type.prototype;!d&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!f&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}Gv(t,n,i)}function Gv(t,e,n){for(let o=e.directiveStart;o<e.directiveEnd;o++){let r=t.data[o];if(n===null||!n.has(r))vf(0,e,r,o),vf(1,e,r,o),Cf(e,o,!1);else{let i=n.get(r);Ef(0,e,i,o),Ef(1,e,i,o),Cf(e,o,!0)}}}function vf(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(o),zp(e,i)}}function Ef(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s=r[i],l;t===0?l=e.hostDirectiveInputs??={}:l=e.hostDirectiveOutputs??={},l[s]??=[],l[s].push(o,i),zp(e,s)}}function zp(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Cf(t,e,n){let{attrs:o,inputs:r,hostDirectiveInputs:i}=t;if(o===null||!n&&r===null||n&&i===null||Ry(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,l=0;for(;l<o.length;){let c=o[l];if(c===0){l+=4;continue}else if(c===5){l+=2;continue}else if(typeof c=="number")break;if(!n&&r.hasOwnProperty(c)){let d=r[c];for(let f of d)if(f===e){s??=[],s.push(c,o[l+1]);break}}else if(n&&i.hasOwnProperty(c)){let d=i[c];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],o[l+1]);break}}l+=2}t.initialInputs??=[],t.initialInputs.push(s)}function $v(t,e,n,o,r){t.data[o]=r;let i=r.factory||(r.factory=Rt(r.type,!0)),s=new mo(i,En(r),Ao,null);t.blueprint[o]=s,n[o]=s,qv(t,e,o,Ep(t,n,r.hostVars,Fe),r)}function qv(t,e,n,o,r){let i=r.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let l=~e.index;zv(s)!=l&&s.push(l),s.push(n,o,i)}}function zv(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Wv(t,e,n){if(n){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)n[e.exportAs[o]]=t;En(e)&&(n[""]=t)}}function Jv(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Yv(t,e,n,o,r,i,s,l){let c=e[b],d=c.consts,f=et(d,s),p=fi(c,t,n,o,f);return i&&Vv(c,e,p,et(d,l),r),p.mergedAttrs=ti(p.mergedAttrs,p.attrs),p.attrs!==null&&Kr(p,p.attrs,!1),p.mergedAttrs!==null&&Kr(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function Kv(t,e){qm(t,e),_a(e)&&t.queries.elementEnd(e)}function jv(t,e,n,o,r,i){let s=e.consts,l=et(s,r),c=fi(e,t,n,o,l);if(c.mergedAttrs=ti(c.mergedAttrs,c.attrs),i!=null){let d=et(s,i);c.localNames=[];for(let f=0;f<d.length;f+=2)c.localNames.push(d[f],-1)}return c.attrs!==null&&Kr(c,c.attrs,!1),c.mergedAttrs!==null&&Kr(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Zv(t,e,n){return t[e]=n}function Kt(t,e,n){if(n===Fe)return!1;let o=t[e];return Object.is(o,n)?!1:(t[e]=n,!0)}function Qv(t,e,n){return function o(r){let i=vn(t)?mt(t.index,e):e;ql(i,5);let s=e[te],l=If(e,s,n,r),c=o.__ngNextListenerFn__;for(;c;)l=If(e,s,c,r)&&l,c=c.__ngNextListenerFn__;return l}}function If(t,e,n,o){let r=N(null);try{return j(q.OutputStart,e,n),n(o)!==!1}catch(i){return pv(t,i),!1}finally{j(q.OutputEnd,e,n),N(r)}}function Xv(t,e,n,o,r,i,s,l){let c=Da(t),d=!1,f=null;if(!o&&c&&(f=tE(e,n,i,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,d=!0}else{let p=Xe(t,n),h=o?o(p):p;_y(n,h,i,l);let g=r.listen(h,i,l);if(!eE(i)){let m=o?y=>o(Pe(y[t.index])):t.index;nE(m,e,n,i,l,g,!1)}}return d}function eE(t){return t.startsWith("animation")||t.startsWith("transition")}function tE(t,e,n,o){let r=t.cleanup;if(r!=null)for(let i=0;i<r.length-1;i+=2){let s=r[i];if(s===n&&r[i+1]===o){let l=e[mn],c=r[i+2];return l&&l.length>c?l[c]:null}typeof s=="string"&&(i+=2)}return null}function nE(t,e,n,o,r,i,s){let l=e.firstCreatePass?Ra(e):null,c=xa(n),d=c.length;c.push(r,i),l&&l.push(o,t,d,(d+1)*(s?-1:1))}var fl=Symbol("BINDING");var pl=class extends hi{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Lt(e);return new Co(n,this.ngModule)}};function oE(t){return Object.keys(t).map(e=>{let[n,o,r]=t[e],i={propName:n,templateName:e,isSignal:(o&ai.SignalBased)!==0};return r&&(i.transform=r),i})}function rE(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function iE(t,e,n){let o=e instanceof Me?e:e?.injector;return o&&t.getStandaloneInjector!==null&&(o=t.getStandaloneInjector(o)||o),o?new dl(n,o):n}function sE(t){let e=t.get(Wt,null);if(e===null)throw new R(407,!1);let n=t.get(qp,null),o=t.get(cn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:o,ngReflect:!1}}function aE(t,e){let n=Wp(t);return hp(e,n,n==="svg"?Ta:n==="math"?Ed:null)}function Wp(t){return(t.selectors[0][0]||"div").toLowerCase()}var Co=class extends pi{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=oE(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=rE(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=ky(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,o,r,i,s){j(q.DynamicComponentStart);let l=N(null);try{let c=this.componentDef,d=lE(o,c,s,i),f=iE(c,r||this.ngModule,e),p=sE(f),h=p.rendererFactory.createRenderer(null,c),g=o?ov(h,o,c.encapsulation,f):aE(c,h),m=s?.some(_f)||i?.some(v=>typeof v!="function"&&v.bindings.some(_f)),y=Ll(null,d,null,512|vp(c),null,null,p,h,f,null,up(g,f,!0));y[ae]=g,Nr(y);let E=null;try{let v=Yv(ae,y,2,"#host",()=>d.directiveRegistry,!0,0);yp(h,g,v),An(g,y),nv(d,y,v),Ty(d,v,y),Kv(d,v),n!==void 0&&cE(v,this.ngContentSelectors,n),E=mt(v.index,y),y[te]=E[te],$l(d,y,null)}catch(v){throw E!==null&&ol(E),ol(y),v}finally{j(q.DynamicComponentEnd),br()}return new jr(this.componentType,y,!!m)}finally{N(l)}}};function lE(t,e,n,o){let r=t?["ng-version","21.1.2"]:Fy(e.selectors[0]),i=null,s=null,l=0;if(n)for(let f of n)l+=f[fl].requiredVars,f.create&&(f.targetIdx=0,(i??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(o)for(let f=0;f<o.length;f++){let p=o[f];if(typeof p!="function")for(let h of p.bindings){l+=h[fl].requiredVars;let g=f+1;h.create&&(h.targetIdx=g,(i??=[]).push(h)),h.update&&(h.targetIdx=g,(s??=[]).push(h))}}let c=[e];if(o)for(let f of o){let p=typeof f=="function"?f:f.type,h=aa(p);c.push(h)}return Fl(0,null,uE(i,s),1,l,c,null,null,null,[r],null)}function uE(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let o of t)o.create();if(n&2&&e)for(let o of e)o.update()}}function _f(t){let e=t[fl].kind;return e==="input"||e==="twoWay"}var jr=class extends $p{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,o){super(),this._rootLView=n,this._hasInputBindings=o,this._tNode=so(n[b],ae),this.location=Rn(this._tNode,n),this.instance=mt(this._tNode.index,n)[te],this.hostView=this.changeDetectorRef=new Mn(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView,i=Mp(o,r[b],r,e,n);this.previousInputValues.set(e,n);let s=mt(o.index,r);ql(s,1)}get injector(){return new qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cE(t,e,n){let o=t.projection=[];for(let r=0;r<e.length;r++){let i=n[r];o.push(i!=null&&i.length?Array.from(i):null)}}var Mo=(()=>{class t{static __NG_ELEMENT_ID__=dE}return t})();function dE(){let t=tt();return Yp(t,K())}var fE=Mo,Jp=class extends fE{_lContainer;_hostTNode;_hostLView;constructor(e,n,o){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=o}get element(){return Rn(this._hostTNode,this._hostLView)}get injector(){return new qt(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ml(this._hostTNode,this._hostLView);if(Gf(e)){let n=$r(e,this._hostLView),o=Gr(e),r=n[b].data[o+8];return new qt(r,n)}else return new qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Df(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ee}createEmbeddedView(e,n,o){let r,i;typeof o=="number"?r=o:o!=null&&(r=o.index,i=o.injector);let s=ul(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(l,r,yo(this._hostTNode,s)),l}createComponent(e,n,o,r,i,s,l){let c=e&&!po(e),d;if(c)d=n;else{let E=n||{};d=E.index,o=E.injector,r=E.projectableNodes,i=E.environmentInjector||E.ngModuleRef,s=E.directives,l=E.bindings}let f=c?e:new Co(Lt(e)),p=o||this.parentInjector;if(!i&&f.ngModule==null){let v=(c?p:this.parentInjector).get(Me,null);v&&(i=v)}let h=Lt(f.componentType??{}),g=ul(this._lContainer,h?.id??null),m=g?.firstChild??null,y=f.create(p,r,m,i,s,l);return this.insertImpl(y.hostView,d,yo(this._hostTNode,g)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,o){let r=e._lView;if(Id(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let c=r[se],d=new Jp(c,c[xe],c[se]);d.detach(d.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return di(s,r,i,o),e.attachToViewContainerRef(),pa(ja(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Df(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),o=Eo(this._lContainer,n);o&&(eo(ja(this._lContainer),n),li(o[b],o))}detach(e){let n=this._adjustIndex(e,-1),o=Eo(this._lContainer,n);return o&&eo(ja(this._lContainer),n)!=null?new Mn(o):null}_adjustIndex(e,n=0){return e??this.length+n}};function Df(t){return t[io]}function ja(t){return t[io]||(t[io]=[])}function Yp(t,e){let n,o=e[t.index];return Ge(o)?n=o:(n=Vp(o,e,null,t),e[t.index]=n,Ol(e,n)),hE(n,e,t,o),new Jp(n,t,e)}function pE(t,e){let n=t[oe],o=n.createComment(""),r=Xe(e,t),i=n.parentNode(r);return Yr(n,i,o,n.nextSibling(r),!1),o}var hE=yE,gE=()=>!1;function mE(t,e,n){return gE(t,e,n)}function yE(t,e,n,o){if(t[Tt])return;let r;n.type&8?r=Pe(o):r=pE(e,n),t[Tt]=r}var hl=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},gl=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let o=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let i=0;i<o;i++){let s=n.getByIndex(i),l=this.queries[s.indexInDeclarationView];r.push(l.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Wl(e,n).matches!==null&&this.queries[n].setDirty()}},ml=class{flags;read;predicate;constructor(e,n,o=null){this.flags=n,this.read=o,typeof e=="string"?this.predicate=SE(e):this.predicate=e}},yl=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let o=0;o<this.length;o++){let r=n!==null?n.length:0,i=this.getByIndex(o).embeddedTView(e,r);i&&(i.indexInDeclarationView=o,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},vl=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,o=e.parent;for(;o!==null&&o.type&8&&o.index!==n;)o=o.parent;return n===(o!==null?o.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let o=this.metadata.predicate;if(Array.isArray(o))for(let r=0;r<o.length;r++){let i=o[r];this.matchTNodeWithReadOption(e,n,vE(n,i)),this.matchTNodeWithReadOption(e,n,Vr(n,e,i,!1,!1))}else o===Nn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Vr(n,e,o,!1,!1))}matchTNodeWithReadOption(e,n,o){if(o!==null){let r=this.metadata.read;if(r!==null)if(r===Pn||r===Mo||r===Nn&&n.type&4)this.addMatch(n.index,-2);else{let i=Vr(n,e,r,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,o)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function vE(t,e){let n=t.localNames;if(n!==null){for(let o=0;o<n.length;o+=2)if(n[o]===e)return n[o+1]}return null}function EE(t,e){return t.type&11?Rn(t,e):t.type&4?zl(t,e):null}function CE(t,e,n,o){return n===-1?EE(e,t):n===-2?IE(t,e,o):zr(t,t[b],n,e)}function IE(t,e,n){if(n===Pn)return Rn(e,t);if(n===Nn)return zl(e,t);if(n===Mo)return Yp(e,t)}function Kp(t,e,n,o){let r=e[Qe].queries[o];if(r.matches===null){let i=t.data,s=n.matches,l=[];for(let c=0;s!==null&&c<s.length;c+=2){let d=s[c];if(d<0)l.push(null);else{let f=i[d];l.push(CE(e,f,s[c+1],n.metadata.read))}}r.matches=l}return r.matches}function El(t,e,n,o){let r=t.queries.getByIndex(n),i=r.matches;if(i!==null){let s=Kp(t,e,r,n);for(let l=0;l<i.length;l+=2){let c=i[l];if(c>0)o.push(s[l/2]);else{let d=i[l+1],f=e[-c];for(let p=ee;p<f.length;p++){let h=f[p];h[Dt]===h[se]&&El(h[b],h,d,o)}if(f[Bt]!==null){let p=f[Bt];for(let h=0;h<p.length;h++){let g=p[h];El(g[b],g,d,o)}}}}}return o}function _E(t,e){return t[Qe].queries[e].queryList}function DE(t,e,n){let o=new Wr((n&4)===4);return Td(t,e,o,o.destroy),(e[Qe]??=new gl).queries.push(new hl(o))-1}function TE(t,e,n){let o=we();return o.firstCreatePass&&(wE(o,new ml(t,e,n),-1),(e&2)===2&&(o.staticViewQueries=!0)),DE(o,K(),e)}function SE(t){return t.split(",").map(e=>e.trim())}function wE(t,e,n){t.queries===null&&(t.queries=new yl),t.queries.track(new vl(e,n))}function Wl(t,e){return t.queries.getByIndex(e)}function AE(t,e){let n=t[b],o=Wl(n,e);return o.crossesNgTemplate?El(n,t,e,[]):Kp(n,t,o,e)}var Io=class{};var _o=class extends Io{injector;componentFactoryResolver=new pl(this);instance=null;constructor(e){super();let n=new Pt([...e.providers,{provide:Io,useValue:this},{provide:hi,useValue:this.componentFactoryResolver}],e.parent||oo(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function jp(t,e,n=null){return new _o({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ME=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let o=ya(!1,n.type),r=o.length>0?jp([o],this._injector,""):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=X({token:t,providedIn:"environment",factory:()=>new t(W(Me))})}return t})();function Jl(t){return To(()=>{let e=RE(t),n=he(le({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(ME).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ze.Emulated,styles:t.styles||Ce,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Yt("NgStandalone"),PE(n);let o=t.dependencies;return n.directiveDefs=Tf(o,NE),n.pipeDefs=Tf(o,sd),n.id=kE(n),n})}function NE(t){return Lt(t)||aa(t)}function gi(t){return To(()=>({type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bE(t,e){if(t==null)return Ot;let n={};for(let o in t)if(t.hasOwnProperty(o)){let r=t[o],i,s,l,c;Array.isArray(r)?(l=r[0],i=r[1],s=r[2]??i,c=r[3]||null):(i=r,s=r,l=ai.None,c=null),n[i]=[o,l,c],e[i]=s}return n}function xE(t){if(t==null)return Ot;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Yl(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function RE(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ot,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:bE(t.inputs,e),outputs:xE(t.outputs),debugInfo:null}}function PE(t){t.features?.forEach(e=>e(t))}function Tf(t,e){return t?()=>{let n=typeof t=="function"?t():t,o=[];for(let r of n){let i=e(r);i!==null&&o.push(i)}return o}:null}function kE(t){let e=0,n=typeof t.consts=="function"?"":t.consts,o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of o.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function FE(t,e,n,o,r,i,s,l){if(n.firstCreatePass){t.mergedAttrs=ti(t.mergedAttrs,t.attrs);let f=t.tView=Fl(2,t,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}l&&(t.flags|=l),In(t,!1);let c=LE(n,e,t,o);xr()&&Bl(n,e,c,t),An(c,e);let d=Vp(c,e,c,t);e[o+ae]=d,Ol(e,d),mE(d,t,e)}function Zr(t,e,n,o,r,i,s,l,c,d,f){let p=n+ae,h;if(e.firstCreatePass){if(h=fi(e,p,4,s||null,l||null),d!=null){let g=et(e.consts,d);h.localNames=[];for(let m=0;m<g.length;m+=2)h.localNames.push(g[m],-1)}}else h=e.data[p];return FE(h,t,e,n,o,r,i,c),d!=null&&Ap(t,h,f),h}var LE=OE;function OE(t,e,n,o){return Rr(!0),e[oe].createComment("")}var Kl=new B("");function mi(t){return!!t&&typeof t.then=="function"}function jl(t){return!!t&&typeof t.subscribe=="function"}var Zp=new B("");var Zl=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o});appInits=$(Zp,{optional:!0})??[];injector=$(kt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let i=_r(this.injector,r);if(mi(i))n.push(i);else if(jl(i)){let s=new Promise((l,c)=>{i.subscribe({complete:l,error:c})});n.push(s)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(r=>{this.reject(r)}),n.length===0&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qp=new B("");function Xp(){bs(()=>{let t="";throw new R(600,t)})}function eh(t){return t.isBoundToModule}var VE=10;var yi=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=$($t);afterRenderManager=$(Ip);zonelessEnabled=$(co);rootEffectScheduler=$(za);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new lt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=$(_n);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Hs(n=>!n))}constructor(){$(wo,{optional:!0})}whenStable(){let n;return new Promise(o=>{n=this.isStable.subscribe({next:r=>{r&&o()}})}).finally(()=>{n.unsubscribe()})}_injector=$(Me);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,o){return this.bootstrapImpl(n,o)}bootstrapImpl(n,o,r=kt.NULL){return this._injector.get(Ne).run(()=>{j(q.BootstrapComponentStart);let s=n instanceof pi;if(!this._injector.get(Zl).done){let m="";throw new R(405,m)}let c;s?c=n:c=this._injector.get(hi).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let d=eh(c)?void 0:this._injector.get(Io),f=o||c.selector,p=c.create(r,[],f,d),h=p.location.nativeElement,g=p.injector.get(Kl,null);return g?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),go(this.components,p),g?.unregisterApplication(h)}),this._loadComponent(p),j(q.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){j(q.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ul.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw j(q.ChangeDetectionEnd),new R(101,!1);let n=N(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,N(n),this.afterTick.next(),j(q.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Wt,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<VE;){j(q.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{j(q.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!o&&!ao(r))continue;let i=o&&!this.zonelessEnabled?0:1;kp(r,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ao(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){let o=n;go(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(Qp,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>go(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new R(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function go(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ib=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Cl=class{destroy(e){}updateValue(e,n){}swap(e,n){let o=Math.min(e,n),r=Math.max(e,n),i=this.detach(r);if(r-o>1){let s=this.detach(o);this.attach(o,i),this.attach(r,s)}else this.attach(o,i)}move(e,n){this.attach(n,this.detach(e))}};function Za(t,e,n,o,r){return t===n&&Object.is(e,o)?1:Object.is(r(t,e),r(n,o))?-1:0}function UE(t,e,n,o){let r,i,s=0,l=t.length-1,c=void 0;if(Array.isArray(e)){N(o);let d=e.length-1;for(N(null);s<=l&&s<=d;){let f=t.at(s),p=e[s],h=Za(s,f,s,p,n);if(h!==0){h<0&&t.updateValue(s,p),s++;continue}let g=t.at(l),m=e[d],y=Za(l,g,d,m,n);if(y!==0){y<0&&t.updateValue(l,m),l--,d--;continue}let E=n(s,f),v=n(l,g),D=n(s,p);if(Object.is(D,v)){let T=n(d,m);Object.is(T,E)?(t.swap(s,l),t.updateValue(l,m),d--,l--):t.move(l,s),t.updateValue(s,p),s++;continue}if(r??=new Qr,i??=wf(t,s,l,n),Il(t,r,s,D))t.updateValue(s,p),s++,l++;else if(i.has(D))r.set(E,t.detach(s)),l--;else{let T=t.create(s,e[s]);t.attach(s,T),s++,l++}}for(;s<=d;)Sf(t,r,n,s,e[s]),s++}else if(e!=null){N(o);let d=e[Symbol.iterator]();N(null);let f=d.next();for(;!f.done&&s<=l;){let p=t.at(s),h=f.value,g=Za(s,p,s,h,n);if(g!==0)g<0&&t.updateValue(s,h),s++,f=d.next();else{r??=new Qr,i??=wf(t,s,l,n);let m=n(s,h);if(Il(t,r,s,m))t.updateValue(s,h),s++,l++,f=d.next();else if(!i.has(m))t.attach(s,t.create(s,h)),s++,l++,f=d.next();else{let y=n(s,p);r.set(y,t.detach(s)),l--}}}for(;!f.done;)Sf(t,r,n,t.length,f.value),f=d.next()}for(;s<=l;)t.destroy(t.detach(l--));r?.forEach(d=>{t.destroy(d)})}function Il(t,e,n,o){return e!==void 0&&e.has(o)?(t.attach(n,e.get(o)),e.delete(o),!0):!1}function Sf(t,e,n,o,r){if(Il(t,e,o,n(o,r)))t.updateValue(o,r);else{let i=t.create(o,r);t.attach(o,i)}}function wf(t,e,n,o){let r=new Set;for(let i=e;i<=n;i++)r.add(o(i,t.at(i)));return r}var Qr=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let o=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(o);)o=r.get(o);r.set(o,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,o]of this.kvMap)if(e(o,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(o);)o=r.get(o),e(o,n)}}};function Le(t,e,n,o,r,i,s,l){Yt("NgControlFlow");let c=K(),d=we(),f=et(d.consts,i);return Zr(c,d,t,e,n,o,r,f,256,s,l),Ql}function Ql(t,e,n,o,r,i,s,l){Yt("NgControlFlow");let c=K(),d=we(),f=et(d.consts,i);return Zr(c,d,t,e,n,o,r,f,512,s,l),Ql}function Oe(t,e){Yt("NgControlFlow");let n=K(),o=uo(),r=n[o]!==Fe?n[o]:-1,i=r!==-1?Xr(n,ae+r):void 0,s=0;if(Kt(n,o,t)){let l=N(null);try{if(i!==void 0&&Hp(i,s),t!==-1){let c=ae+t,d=Xr(n,c),f=Sl(n[b],c),p=Gp(d,f,n),h=ci(n,f,e,{dehydratedView:p});di(d,h,s,yo(f,p))}}finally{N(l)}}else if(i!==void 0){let l=Up(i,s);l!==void 0&&(l[te]=e)}}var _l=class{lContainer;$implicit;$index;constructor(e,n,o){this.lContainer=e,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-ee}};function No(t){return t}var Dl=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,o){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=o}};function kn(t,e,n,o,r,i,s,l,c,d,f,p,h){Yt("NgControlFlow");let g=K(),m=we(),y=c!==void 0,E=K(),v=l?s.bind(E[Re][te]):s,D=new Dl(y,v);E[ae+t]=D,Zr(g,m,t+1,e,n,o,r,et(m.consts,i),256),y&&Zr(g,m,t+2,c,d,f,p,et(m.consts,h),512)}var Tl=class extends Cl{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,o){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=o}get length(){return this.lContainer.length-ee}at(e){return this.getLView(e)[te].$implicit}attach(e,n){let o=n[gn];this.needsIndexUpdate||=e!==this.length,di(this.lContainer,n,e,yo(this.templateTNode,o)),HE(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,BE(this.lContainer,e),GE(this.lContainer,e)}create(e,n){let o=ul(this.lContainer,this.templateTNode.tView.ssrId);return ci(this.hostLView,this.templateTNode,new _l(this.lContainer,n,e),{dehydratedView:o})}destroy(e){li(e[b],e)}updateValue(e,n){this.getLView(e)[te].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[te].$index=e}getLView(e){return $E(this.lContainer,e)}};function Fn(t){let e=N(null),n=yt();try{let o=K(),r=o[b],i=o[n],s=n+1,l=Xr(o,s);if(i.liveCollection===void 0){let d=Sl(r,s);i.liveCollection=new Tl(l,o,d)}else i.liveCollection.reset();let c=i.liveCollection;if(UE(c,t,i.trackByFn,e),c.updateIndexes(),i.hasEmptyBlock){let d=uo(),f=c.length===0;if(Kt(o,d,f)){let p=n+2,h=Xr(o,p);if(f){let g=Sl(r,p),m=Gp(h,g,o),y=ci(o,g,void 0,{dehydratedView:m});di(h,y,0,yo(g,m))}else r.firstUpdatePass&&kv(h),Hp(h,0)}}}finally{N(e)}}function Xr(t,e){return t[e]}function HE(t,e){if(t.length<=ee)return;let n=ee+e,o=t[n],r=o?o[Ht]:void 0;if(o&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let i=o[pt];Hy(i,r),zt.delete(o[ht]),r.detachedLeaveAnimationFns=void 0}}function BE(t,e){if(t.length<=ee)return;let n=ee+e,o=t[n],r=o?o[Ht]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function GE(t,e){return Eo(t,e)}function $E(t,e){return Up(t,e)}function Sl(t,e){return so(t,e)}function qE(t,e,n,o,r){Mp(e,t,n,r?"class":"style",o)}function I(t,e,n,o){let r=K(),i=r[b],s=t+ae,l=i.firstCreatePass?jv(s,i,2,e,n,o):i.data[s];return dv(l,r,t,e,zE),o!=null&&Ap(r,l),I}function _(){let t=tt(),e=fv(t);return Nd(e)&&bd(),Ad(),_}function H(t,e,n,o){return I(t,e,n,o),_(),H}var zE=(t,e,n,o,r)=>(Rr(!0),hp(e[oe],o,zd()));function rt(){return K()}function Ln(t,e,n){let o=K(),r=uo();if(Kt(o,r,e)){let i=we(),s=qd();sv(s,o,t,e,o[oe],n)}return Ln}var fo=void 0;function WE(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var JE=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",fo,fo,fo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",WE],Qa={};function vi(t){let e=YE(t),n=Af(e);if(n)return n;let o=e.split("-")[0];if(n=Af(o),n)return n;if(o==="en")return JE;throw new R(701,!1)}function Af(t){return t in Qa||(Qa[t]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[t]),Qa[t]}var jt=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(jt||{});function YE(t){return t.toLowerCase().replace(/_/g,"-")}var bo="en-US";var KE=bo;function th(t){typeof t=="string"&&(KE=t.toLowerCase().replace(/_/g,"-"))}function Z(t,e,n){let o=K(),r=we(),i=tt();return(i.type&3||n)&&Xv(i,r,o,n,o[oe],t,e,Qv(i,o,e)),Z}function U(t=1){return $d(t)}function Ei(t,e,n){return TE(t,e,n),Ei}function Xl(t){let e=K(),n=we(),o=Va();Mr(o+1);let r=Wl(n,o);if(t.dirty&&Cd(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let i=AE(e,o);t.reset(i,hy),t.notifyOnChanges()}return!0}return!1}function eu(){return _E(K(),Va())}function tu(t){let e=Pd();return wa(e,ae+t)}function Fr(t,e){return t<<17|e<<2}function Jt(t){return t>>17&32767}function jE(t){return(t&2)==2}function ZE(t,e){return t&131071|e<<17}function wl(t){return t|2}function bn(t){return(t&131068)>>2}function Xa(t,e){return t&-131069|e<<2}function QE(t){return(t&1)===1}function Al(t){return t|1}function XE(t,e,n,o,r,i){let s=i?e.classBindings:e.styleBindings,l=Jt(s),c=bn(s);t[o]=n;let d=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||hn(p,f)>0)&&(d=!0)}else f=n;if(r)if(c!==0){let h=Jt(t[l+1]);t[o+1]=Fr(h,l),h!==0&&(t[h+1]=Xa(t[h+1],o)),t[l+1]=ZE(t[l+1],o)}else t[o+1]=Fr(l,0),l!==0&&(t[l+1]=Xa(t[l+1],o)),l=o;else t[o+1]=Fr(c,0),l===0?l=o:t[c+1]=Xa(t[c+1],o),c=o;d&&(t[o+1]=wl(t[o+1])),Mf(t,f,o,!0),Mf(t,f,o,!1),eC(e,f,t,o,i),s=Fr(l,c),i?e.classBindings=s:e.styleBindings=s}function eC(t,e,n,o,r){let i=r?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&hn(i,e)>=0&&(n[o+1]=Al(n[o+1]))}function Mf(t,e,n,o){let r=t[n+1],i=e===null,s=o?Jt(r):bn(r),l=!1;for(;s!==0&&(l===!1||i);){let c=t[s],d=t[s+1];tC(c,e)&&(l=!0,t[s+1]=o?Al(d):wl(d)),s=o?Jt(d):bn(d)}l&&(t[n+1]=o?wl(r):Al(r))}function tC(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?hn(t,e)>=0:!1}var qe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nC(t){return t.substring(qe.key,qe.keyEnd)}function oC(t){return rC(t),nh(t,oh(t,0,qe.textEnd))}function nh(t,e){let n=qe.textEnd;return n===e?-1:(e=qe.keyEnd=iC(t,qe.key=e,n),oh(t,e,n))}function rC(t){qe.key=0,qe.keyEnd=0,qe.value=0,qe.valueEnd=0,qe.textEnd=t.length}function oh(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function iC(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Ci(t,e,n){return rh(t,e,n,!1),Ci}function it(t,e){return rh(t,e,null,!0),it}function nu(t){aC(pC,sC,t,!0)}function sC(t,e){for(let n=oC(e);n>=0;n=nh(e,n))Cr(t,nC(e),!0)}function rh(t,e,n,o){let r=K(),i=we(),s=Oa(2);if(i.firstUpdatePass&&sh(i,t,s,o),e!==Fe&&Kt(r,s,e)){let l=i.data[yt()];ah(i,l,r,r[oe],t,r[s+1]=gC(e,n),o,s)}}function aC(t,e,n,o){let r=we(),i=Oa(2);r.firstUpdatePass&&sh(r,null,i,o);let s=K();if(n!==Fe&&Kt(s,i,n)){let l=r.data[yt()];if(lh(l,o)&&!ih(r,i)){let c=o?l.classesWithoutHost:l.stylesWithoutHost;c!==null&&(n=hr(c,n||"")),qE(r,l,s,n,o)}else hC(r,l,s,s[oe],s[i+1],s[i+1]=fC(t,e,n),o,i)}}function ih(t,e){return e>=t.expandoStartIndex}function sh(t,e,n,o){let r=t.data;if(r[n+1]===null){let i=r[yt()],s=ih(t,n);lh(i,o)&&e===null&&!s&&(e=!1),e=lC(r,i,e,o),XE(r,i,e,n,s,o)}}function lC(t,e,n,o){let r=Ud(t),i=o?e.residualClasses:e.residualStyles;if(r===null)(o?e.classBindings:e.styleBindings)===0&&(n=el(null,t,e,n,o),n=Do(n,e.attrs,o),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=el(r,t,e,n,o),i===null){let c=uC(t,e,o);c!==void 0&&Array.isArray(c)&&(c=el(null,t,e,c[1],o),c=Do(c,e.attrs,o),cC(t,e,o,c))}else i=dC(t,e,o)}return i!==void 0&&(o?e.residualClasses=i:e.residualStyles=i),n}function uC(t,e,n){let o=n?e.classBindings:e.styleBindings;if(bn(o)!==0)return t[Jt(o)]}function cC(t,e,n,o){let r=n?e.classBindings:e.styleBindings;t[Jt(r)]=o}function dC(t,e,n){let o,r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++){let s=t[i].hostAttrs;o=Do(o,s,n)}return Do(o,e.attrs,n)}function el(t,e,n,o,r){let i=null,s=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<s&&(i=e[l],o=Do(o,i.hostAttrs,r),i!==t);)l++;return t!==null&&(n.directiveStylingLast=l),o}function Do(t,e,n){let o=n?1:2,r=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?r=s:r===o&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Cr(t,s,n?!0:e[++i]))}return t===void 0?null:t}function fC(t,e,n){if(n==null||n==="")return Ce;let o=[],r=ii(n);if(Array.isArray(r))for(let i=0;i<r.length;i++)t(o,r[i],!0);else if(r instanceof Set)for(let i of r)t(o,i,!0);else if(typeof r=="object")for(let i in r)r.hasOwnProperty(i)&&t(o,i,r[i]);else typeof r=="string"&&e(o,r);return o}function pC(t,e,n){let o=String(e);o!==""&&!o.includes(" ")&&Cr(t,o,n)}function hC(t,e,n,o,r,i,s,l){r===Fe&&(r=Ce);let c=0,d=0,f=0<r.length?r[0]:null,p=0<i.length?i[0]:null;for(;f!==null||p!==null;){let h=c<r.length?r[c+1]:void 0,g=d<i.length?i[d+1]:void 0,m=null,y;f===p?(c+=2,d+=2,h!==g&&(m=p,y=g)):p===null||f!==null&&f<p?(c+=2,m=f):(d+=2,m=p,y=g),m!==null&&ah(t,e,n,o,m,y,s,l),f=c<r.length?r[c]:null,p=d<i.length?i[d]:null}}function ah(t,e,n,o,r,i,s,l){if(!(e.type&3))return;let c=t.data,d=c[l+1],f=QE(d)?Nf(c,e,n,r,bn(d),s):void 0;if(!ei(f)){ei(i)||jE(d)&&(i=Nf(c,null,n,r,l,s));let p=Sa(yt(),n);tv(o,s,p,r,i)}}function Nf(t,e,n,o,r,i){let s=e===null,l;for(;r>0;){let c=t[r],d=Array.isArray(c),f=d?c[1]:c,p=f===null,h=n[r+1];h===Fe&&(h=p?Ce:void 0);let g=p?Ir(h,o):f===o?h:void 0;if(d&&!ei(g)&&(g=Ir(c,o)),ei(g)&&(l=g,s))return l;let m=t[r+1];r=s?Jt(m):bn(m)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(l=Ir(c,o))}return l}function ei(t){return t!==void 0}function gC(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=It(ii(t)))),t}function lh(t,e){return(t.flags&(e?8:16))!==0}function A(t,e=""){let n=K(),o=we(),r=t+ae,i=o.firstCreatePass?fi(o,r,1,e,null):o.data[r],s=mC(o,n,i,e);n[r]=s,xr()&&Bl(o,n,s,i),In(i,!1)}var mC=(t,e,n,o)=>(Rr(!0),wy(e[oe],o));function yC(t,e,n,o=""){return Kt(t,uo(),n)?e+ua(n)+o:Fe}function vt(t){return Ve("",t),vt}function Ve(t,e,n){let o=K(),r=yC(o,t,e,n);return r!==Fe&&vC(o,yt(),r),Ve}function vC(t,e,n){let o=Sa(e,t);Ay(t[oe],o,n)}function EC(t,e){let n=t[e];return n===Fe?void 0:n}function CC(t,e,n,o,r,i){let s=e+n;return Kt(t,s,r)?Zv(t,s+1,i?o.call(i,r):o(r)):EC(t,s+1)}function Zt(t,e){let n=we(),o,r=t+ae;n.firstCreatePass?(o=IC(e,n.pipeRegistry),n.data[r]=o,o.onDestroy&&(n.destroyHooks??=[]).push(r,o.onDestroy)):o=n.data[r];let i=o.factory||(o.factory=Rt(o.type,!0)),s,l=me(Ao);try{let c=qr(!1),d=i();return qr(c),Aa(n,K(),r,d),d}finally{me(l)}}function IC(t,e){if(e)for(let n=e.length-1;n>=0;n--){let o=e[n];if(t===o.name)return o}}function Qt(t,e,n){let o=t+ae,r=K(),i=wa(r,o);return _C(r,o)?CC(r,kd(),e,i.transform,n,i):i.transform(n)}function _C(t,e){return t[b].data[e].pure}var uh=(()=>{class t{applicationErrorHandler=$($t);appRef=$(yi);taskService=$(_n);ngZone=$(Ne);zonelessEnabled=$(co);tracing=$(wo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ge;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qn):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(qa,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let o=this.useMicrotaskScheduler?jd:Ba;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qn+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){this.applicationErrorHandler(o)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(o){return new(o||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ou(){return Yt("NgZoneless"),ma([...ru(),[]])}function ru(){return[{provide:cn,useExisting:uh},{provide:Ne,useClass:Xn},{provide:co,useValue:!0}]}function DC(){return typeof $localize<"u"&&$localize.locale||bo}var xo=new B("",{factory:()=>$(xo,{optional:!0,skipSelf:!0})||DC()});function Ro(t,e){return er(t,e?.equal)}var iu=new B(""),OC=new B("");function Po(t){return!t.moduleRef}function VC(t){let e=Po(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ne);return n.run(()=>{Po(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let o=e.get($t),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o})}),Po(t)){let i=()=>e.destroy(),s=t.platformInjector.get(iu);s.add(i),e.onDestroy(()=>{r.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(iu);s.add(i),t.moduleRef.onDestroy(()=>{go(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(i)})}return HC(o,n,()=>{let i=e.get(_n),s=i.add(),l=e.get(Zl);return l.runInitializers(),l.donePromise.then(()=>{let c=e.get(xo,bo);if(th(c||bo),!e.get(OC,!0))return Po(t)?e.get(yi):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Po(t)){let f=e.get(yi);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return UC?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{i.remove(s)})})})}var UC;function HC(t,e,n){try{let o=n();return mi(o)?o.catch(r=>{throw e.runOutsideAngular(()=>t(r)),r}):o}catch(o){throw e.runOutsideAngular(()=>t(o)),o}}var Ii=null;function BC(t=[],e){return kt.create({name:e,providers:[{provide:no,useValue:"platform"},{provide:iu,useValue:new Set([()=>Ii=null])},...t]})}function GC(t=[]){if(Ii)return Ii;let e=BC(t);return Ii=e,Xp(),$C(e),e}function $C(t){let e=t.get(oi,null);_r(t,()=>{e?.forEach(n=>n())})}var qC=1e4;var nL=qC-1e3;function ch(t){let{rootComponent:e,appProviders:n,platformProviders:o,platformRef:r}=t;j(q.BootstrapApplicationStart);try{let i=r?.injector??GC(o),s=[ru(),Qd,...n||[]],l=new _o({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return VC({r3Injector:l.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{j(q.BootstrapApplicationEnd)}}var dh=null;function Lo(){return dh}function su(t){dh??=t}var Fo=class{};var uu=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(uu||{});var st={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function On(t,e){let n=vi(t),o=n[jt.NumberSymbols][e];if(typeof o>"u"){if(e===st.CurrencyDecimal)return n[jt.NumberSymbols][st.Decimal];if(e===st.CurrencyGroup)return n[jt.NumberSymbols][st.Group]}return o}function ph(t,e){return vi(t)[jt.NumberFormats][e]}var zC=/^(\d+)?\.((\d+)(-(\d+))?)?$/,fh=22,_i=".",Oo="0",WC=";",JC=",",au="#";function YC(t,e,n,o,r,i,s=!1){let l="",c=!1;if(!isFinite(t))l=On(n,st.Infinity);else{let d=ZC(t);s&&(d=jC(d));let f=e.minInt,p=e.minFrac,h=e.maxFrac;if(i){let D=i.match(zC);if(D===null)throw new R(2306,!1);let T=D[1],w=D[3],C=D[5];T!=null&&(f=lu(T)),w!=null&&(p=lu(w)),C!=null?h=lu(C):w!=null&&p>h&&(h=p)}QC(d,p,h);let g=d.digits,m=d.integerLen,y=d.exponent,E=[];for(c=g.every(D=>!D);m<f;m++)g.unshift(0);for(;m<0;m++)g.unshift(0);m>0?E=g.splice(m,g.length):(E=g,g=[0]);let v=[];for(g.length>=e.lgSize&&v.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)v.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&v.unshift(g.join("")),l=v.join(On(n,o)),E.length&&(l+=On(n,r)+E.join("")),y&&(l+=On(n,st.Exponential)+"+"+y)}return t<0&&!c?l=e.negPre+l+e.negSuf:l=e.posPre+l+e.posSuf,l}function hh(t,e,n){let o=ph(e,uu.Decimal),r=KC(o,On(e,st.MinusSign));return YC(t,r,e,st.Group,st.Decimal,n)}function KC(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=t.split(WC),r=o[0],i=o[1],s=r.indexOf(_i)!==-1?r.split(_i):[r.substring(0,r.lastIndexOf(Oo)+1),r.substring(r.lastIndexOf(Oo)+1)],l=s[0],c=s[1]||"";n.posPre=l.substring(0,l.indexOf(au));for(let f=0;f<c.length;f++){let p=c.charAt(f);p===Oo?n.minFrac=n.maxFrac=f+1:p===au?n.maxFrac=f+1:n.posSuf+=p}let d=l.split(JC);if(n.gSize=d[1]?d[1].length:0,n.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,i){let f=r.length-n.posPre.length-n.posSuf.length,p=i.indexOf(au);n.negPre=i.substring(0,p).replace(/'/g,""),n.negSuf=i.slice(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function jC(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function ZC(t){let e=Math.abs(t)+"",n=0,o,r,i,s,l;for((r=e.indexOf(_i))>-1&&(e=e.replace(_i,"")),(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),i=0;e.charAt(i)===Oo;i++);if(i===(l=e.length))o=[0],r=1;else{for(l--;e.charAt(l)===Oo;)l--;for(r-=i,o=[],s=0;i<=l;i++,s++)o[s]=Number(e.charAt(i))}return r>fh&&(o=o.splice(0,fh-1),n=r-1,r=1),{digits:o,exponent:n,integerLen:r}}function QC(t,e,n){if(e>n)throw new R(2307,!1);let o=t.digits,r=o.length-t.integerLen,i=Math.min(Math.max(e,r),n),s=i+t.integerLen,l=o[s];if(s>0){o.splice(Math.max(t.integerLen,s));for(let p=s;p<o.length;p++)o[p]=0}else{r=Math.max(0,r),t.integerLen=1,o.length=Math.max(1,s=i+1),o[0]=0;for(let p=1;p<s;p++)o[p]=0}if(l>=5)if(s-1<0){for(let p=0;p>s;p--)o.unshift(0),t.integerLen++;o.unshift(1),t.integerLen++}else o[s-1]++;for(;r<Math.max(0,i);r++)o.push(0);let c=i!==0,d=e+t.integerLen,f=o.reduceRight(function(p,h,g,m){return h=h+p,m[g]=h<10?h:h-10,c&&(m[g]===0&&g>=d?m.pop():c=!1),h>=10?1:0},0);f&&(o.unshift(f),t.integerLen++)}function lu(t){let e=parseInt(t);if(isNaN(e))throw new R(2305,!1);return e}function XC(t,e){return new R(2100,!1)}var cu=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,o,r){if(!eI(n))return null;r||=this._locale;try{let i=tI(n);return hh(i,r,o)}catch(i){throw XC(t,i.message)}}static \u0275fac=function(o){return new(o||t)(Ao(xo,16))};static \u0275pipe=Yl({name:"number",type:t,pure:!0})}return t})();function eI(t){return!(t==null||t===""||t!==t)}function tI(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new R(2309,!1);return t}var Di=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=gi({type:t});static \u0275inj=dn({})}return t})();function du(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let o=n.indexOf("="),[r,i]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}var Vo=class{};var gh="browser";var Uo=class{_doc;constructor(e){this._doc=e}manager},Ti=(()=>{class t extends Uo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,r,i){return n.addEventListener(o,r,i),()=>this.removeEventListener(n,o,r,i)}removeEventListener(n,o,r,i){return n.removeEventListener(o,r,i)}static \u0275fac=function(o){return new(o||t)(W($e))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),Ai=new B(""),gu=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,o){this._zone=o,n.forEach(s=>{s.manager=this});let r=n.filter(s=>!(s instanceof Ti));this._plugins=r.slice().reverse();let i=n.find(s=>s instanceof Ti);i&&this._plugins.push(i)}addEventListener(n,o,r,i){return this._findPluginFor(o).addEventListener(n,o,r,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(i=>i.supports(n)),!o)throw new R(5101,!1);return this._eventNameToPlugin.set(n,o),o}static \u0275fac=function(o){return new(o||t)(W(Ai),W(Ne))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),fu="ng-app-id";function mh(t){for(let e of t)e.remove()}function yh(t,e){let n=e.createElement("style");return n.textContent=t,n}function rI(t,e,n,o){let r=t.head?.querySelectorAll(`style[${fu}="${e}"],link[${fu}="${e}"]`);if(r)for(let i of r)i.removeAttribute(fu),i instanceof HTMLLinkElement?o.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function hu(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var mu=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,o,r,i={}){this.doc=n,this.appId=o,this.nonce=r,rI(n,o,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,o){for(let r of n)this.addUsage(r,this.inline,yh);o?.forEach(r=>this.addUsage(r,this.external,hu))}removeStyles(n,o){for(let r of n)this.removeUsage(r,this.inline);o?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,o,r){let i=o.get(n);i?i.usage++:o.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,o){let r=o.get(n);r&&(r.usage--,r.usage<=0&&(mh(r.elements),o.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])mh(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[o,{elements:r}]of this.inline)r.push(this.addElement(n,yh(o,this.doc)));for(let[o,{elements:r}]of this.external)r.push(this.addElement(n,hu(o,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,o){return this.nonce&&o.setAttribute("nonce",this.nonce),n.appendChild(o)}static \u0275fac=function(o){return new(o||t)(W($e),W(ni),W(ri,8),W(So))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),pu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yu=/%COMP%/g;var Eh="%COMP%",iI=`_nghost-${Eh}`,sI=`_ngcontent-${Eh}`,aI=!0,lI=new B("",{factory:()=>aI});function uI(t){return sI.replace(yu,t)}function cI(t){return iI.replace(yu,t)}function Ch(t,e){return e.map(n=>n.replace(yu,t))}var vu=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,o,r,i,s,l,c=null,d=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=r,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=l,this.nonce=c,this.tracingService=d,this.defaultRenderer=new Ho(n,s,l,this.tracingService)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,o);return r instanceof wi?r.applyToHost(n):r instanceof Bo&&r.applyStyles(),r}getOrCreateRenderer(n,o){let r=this.rendererByCompId,i=r.get(o.id);if(!i){let s=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.tracingService;switch(o.encapsulation){case ze.Emulated:i=new wi(c,d,o,this.appId,f,s,l,p);break;case ze.ShadowDom:return new Si(c,n,o,s,l,this.nonce,p,d);case ze.ExperimentalIsolatedShadowDom:return new Si(c,n,o,s,l,this.nonce,p);default:i=new Bo(c,d,o,f,s,l,p);break}r.set(o.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(o){return new(o||t)(W(gu),W(mu),W(ni),W(lI),W($e),W(Ne),W(ri),W(wo,8))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),Ho=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,o,r){this.eventManager=e,this.doc=n,this.ngZone=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(pu[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vh(e)?e.content:e).appendChild(n)}insertBefore(e,n,o){e&&(vh(e)?e.content:e).insertBefore(n,o)}removeChild(e,n){n.remove()}selectRootElement(e,n){let o=typeof e=="string"?this.doc.querySelector(e):e;if(!o)throw new R(-5104,!1);return n||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,o,r){if(r){n=r+":"+n;let i=pu[r];i?e.setAttributeNS(i,n,o):e.setAttribute(n,o)}else e.setAttribute(n,o)}removeAttribute(e,n,o){if(o){let r=pu[o];r?e.removeAttributeNS(r,n):e.removeAttribute(`${o}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,o,r){r&(ot.DashCase|ot.Important)?e.style.setProperty(n,o,r&ot.Important?"important":""):e.style[n]=o}removeStyle(e,n,o){o&ot.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,o){e!=null&&(e[n]=o)}setValue(e,n){e.nodeValue=n}listen(e,n,o,r){if(typeof e=="string"&&(e=Lo().getGlobalEventTarget(this.doc,e),!e))throw new R(5102,!1);let i=this.decoratePreventDefault(o);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,r)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function vh(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Si=class extends Ho{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,o,r,i,s,l,c){super(e,r,i,l),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=Ch(o.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let f=o.getExternalStyles?.();if(f)for(let p of f){let h=hu(p,r);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,o){return super.insertBefore(this.nodeOrShadowRoot(e),n,o)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Bo=class extends Ho{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,o,r,i,s,l,c){super(e,i,s,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let d=o.styles;this.styles=c?Ch(c,d):d,this.styleUrls=o.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&zt.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wi=class extends Bo{contentAttr;hostAttr;constructor(e,n,o,r,i,s,l,c){let d=r+"-"+o.id;super(e,n,o,i,s,l,c,d),this.contentAttr=uI(d),this.hostAttr=cI(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let o=super.createElement(e,n);return super.setAttribute(o,this.contentAttr,""),o}};var Mi=class t extends Fo{supportsDOMEvents=!0;static makeCurrent(){su(new t)}onAndCancel(e,n,o,r){return e.addEventListener(n,o,r),()=>{e.removeEventListener(n,o,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=dI();return n==null?null:fI(n)}resetBaseElement(){Go=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return du(document.cookie,e)}},Go=null;function dI(){return Go=Go||document.head.querySelector("base"),Go?Go.getAttribute("href"):null}function fI(t){return new URL(t,document.baseURI).pathname}var pI=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(o){return new(o||t)};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),Ih=["alt","control","meta","shift"],hI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gI={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_h=(()=>{class t extends Uo{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,o,r,i){let s=t.parseEventName(o),l=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lo().onAndCancel(n,s.domEventName,l,i))}static parseEventName(n){let o=n.toLowerCase().split("."),r=o.shift();if(o.length===0||!(r==="keydown"||r==="keyup"))return null;let i=t._normalizeKey(o.pop()),s="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),s="code."),Ih.forEach(d=>{let f=o.indexOf(d);f>-1&&(o.splice(f,1),s+=d+".")}),s+=i,o.length!=0||i.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(n,o){let r=hI[n.key]||n.key,i="";return o.indexOf("code.")>-1&&(r=n.code,i="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Ih.forEach(s=>{if(s!==r){let l=gI[s];l(n)&&(i+=s+".")}}),i+=r,i===o)}static eventCallback(n,o,r){return i=>{t.matchEventFullKeyCode(i,n)&&r.runGuarded(()=>o(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(o){return new(o||t)(W($e))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})();async function Eu(t,e,n){let o=le({rootComponent:t},mI(e,n));return ch(o)}function mI(t,e){return{platformRef:e?.platformRef,appProviders:[...II,...t?.providers??[]],platformProviders:CI}}function yI(){Mi.makeCurrent()}function vI(){return new dt}function EI(){return Rl(document),document}var CI=[{provide:So,useValue:gh},{provide:oi,useValue:yI,multi:!0},{provide:$e,useFactory:EI}];var II=[{provide:no,useValue:"root"},{provide:dt,useFactory:vI},{provide:Ai,useClass:Ti,multi:!0},{provide:Ai,useClass:_h,multi:!0},vu,mu,gu,{provide:Wt,useExisting:vu},{provide:Vo,useClass:pI},[]];var _I,DI;function TI(){return{geminiUrl:_I,vertexUrl:DI}}function SI(t,e,n,o){var r,i;if(!t?.baseUrl){let s=TI();return e?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(i=s.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}var Ye=class{};function S(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){let i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function u(t,e,n){for(let i=0;i<e.length-1;i++){let s=e[i];if(s.endsWith("[]")){let l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){let c=t[l];if(Array.isArray(n))for(let d=0;d<c.length;d++){let f=c[d];u(f,e.slice(i+1),n[d])}else for(let d of c)u(d,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){let l=s.slice(0,-3);l in t||(t[l]=[{}]);let c=t[l];u(c[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}let o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function a(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;let r=e[o];if(r.endsWith("[]")){let i=r.slice(0,-2);if(i in t){let s=t[i];return Array.isArray(s)?s.map(l=>a(l,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function wI(t,e){for(let[n,o]of Object.entries(e)){let r=n.split("."),i=o.split("."),s=new Set,l=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){l=c;break}if(l!==-1&&i.length>l)for(let c=l;c<i.length;c++){let d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}Du(t,r,i,0,s)}}function Du(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;let i=e[o];if(i.endsWith("[]")){let s=i.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(let c of l[s])Du(c,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let s=t,l=Object.keys(s).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(let d of l)c[d]=s[d];for(let[d,f]of Object.entries(c)){let p=[];for(let h of n.slice(o))h==="*"?p.push(d):p.push(h);u(s,p,f)}for(let d of l)delete s[d]}}else{let s=t;i in s&&Du(s[i],e,n,o+1,r)}}function _c(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function AI(t){let e={},n=a(t,["operationName"]);n!=null&&u(e,["operationName"],n);let o=a(t,["resourceName"]);return o!=null&&u(e,["_url","resourceName"],o),e}function MI(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],bI(s)),e}function NI(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],xI(s)),e}function bI(t){let e={},n=a(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>RI(s))),u(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function xI(t){let e={},n=a(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>PI(s))),u(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function RI(t){let e={},n=a(t,["video"]);return n!=null&&u(e,["video"],UI(n)),e}function PI(t){let e={},n=a(t,["_self"]);return n!=null&&u(e,["video"],HI(n)),e}function kI(t){let e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function FI(t){let e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function LI(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],OI(s)),e}function OI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&u(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function Jh(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],VI(s)),e}function VI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&u(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function UI(t){let e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);let o=a(t,["encodedVideo"]);o!=null&&u(e,["videoBytes"],_c(o));let r=a(t,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function HI(t){let e={},n=a(t,["gcsUri"]);n!=null&&u(e,["uri"],n);let o=a(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],_c(o));let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}var re=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(re||{});var Tu=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(Tu||{});var Yh=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(Yh||{});var Kh=(function(t){return t.COLLECTION="COLLECTION",t})(Kh||{});var qo=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(qo||{});var Wo=class{constructor(e){let n={};for(let o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var en=class{get text(){var e,n,o,r,i,s,l,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let h of(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(let[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(m!==null||m!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,s,l,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(let[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,s,l,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,o,r,i,s,l,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,s,l,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},Li=class{},Oi=class{},Su=class{},wu=class{},Au=class{},Mu=class{},Vi=class{},Ui=class{},Hi=class{},Nu=class{};var Bi=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,r,i=e;return n?r=NI(i):r=MI(i),Object.assign(o,r),o}},Gi=class{},$i=class{},qi=class{},zi=class{},bu=class{},xu=class{},Ru=class{};var Pu=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=LI(e);return Object.assign(o,i),o}},ku=class{},Fu=class{},Lu=class{},Ou=class{};var Wi=class{};var Vu=class{get text(){var e,n,o;let r="",i=!1,s=[];for(let l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[c,d]of Object.entries(l))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;i=!0,r+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="",i=[];for(let s of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[l,c]of Object.entries(s))l!=="inlineData"&&c!==null&&i.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}};var Uu=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var Hu=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=Jh(e);return Object.assign(o,i),o}};function G(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function jh(t,e){let n=G(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Zh(t){return Array.isArray(t)?t.map(e=>Ji(e)):[Ji(t)]}function Ji(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Qh(t){let e=Ji(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Xh(t){let e=Ji(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Dh(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function eg(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Dh(e)):[Dh(t)]}function Bu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Th(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Sh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function fe(t){if(t==null)throw new Error("ContentUnion is required");return Bu(t)?t:{role:"user",parts:eg(t)}}function Dc(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let o=fe(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){let n=fe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>fe(n)):[fe(e)]}function Ue(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Th(t)||Sh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[fe(t)]}let e=[],n=[],o=Bu(t[0]);for(let r of t){let i=Bu(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(Th(r)||Sh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:eg(n)}),e}function BI(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(re).includes(n[0].toUpperCase())?n[0].toUpperCase():re.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let o of n)e.anyOf.push({type:Object.values(re).includes(o.toUpperCase())?o.toUpperCase():re.TYPE_UNSPECIFIED})}}function Un(t){let e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&BI(t.type,e);for(let[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(re).includes(l.toUpperCase())?l.toUpperCase():re.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Un(l);else if(o.includes(s)){let c=[];for(let d of l){if(d.type=="null"){e.nullable=!0;continue}c.push(Un(d))}e[s]=c}else if(r.includes(s)){let c={};for(let[d,f]of Object.entries(l))c[d]=Un(f);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=l}return e}function Tc(t){return Un(t)}function Sc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function $n(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Un(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Un(e.response));return t}function qn(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function GI(t,e,n,o=1){let r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Ct(t,e){if(typeof e!="string")throw new Error("name must be a string");return GI(t,e,"cachedContents")}function tg(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function wt(t){return _c(t)}function $I(t){return t!=null&&typeof t=="object"&&"name"in t}function qI(t){return t!=null&&typeof t=="object"&&"video"in t}function zI(t){return t!=null&&typeof t=="object"&&"uri"in t}function ng(t){var e;let n;if($I(t)&&(n=t.name),!(zI(t)&&(n=t.uri,n===void 0))&&!(qI(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function og(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function rg(t){for(let e of["models","tunedModels","publisherModels"])if(WI(t,e))return t[e];return[]}function WI(t,e){return t!==null&&typeof t=="object"&&e in t}function JI(t,e={}){let n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function YI(t,e={}){let n=[],o=new Set;for(let r of t){let i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);let s=JI(r,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function ig(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function KI(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function sg(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(let s of r){if(typeof s!="object"||s===null)continue;let c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function zn(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ag(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function jI(t){let e={},n=a(t,["responsesFile"]);n!=null&&u(e,["fileName"],n);let o=a(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>b_(s))),u(e,["inlinedResponses"],i)}let r=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["inlinedEmbedContentResponses"],i)}return e}function ZI(t){let e={},n=a(t,["predictionsFormat"]);n!=null&&u(e,["format"],n);let o=a(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);let r=a(t,["bigqueryDestination","outputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function QI(t){let e={},n=a(t,["format"]);n!=null&&u(e,["predictionsFormat"],n);let o=a(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);let r=a(t,["bigqueryUri"]);if(r!=null&&u(e,["bigqueryDestination","outputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ki(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);let r=a(t,["metadata","state"]);r!=null&&u(e,["state"],ag(r));let i=a(t,["metadata","createTime"]);i!=null&&u(e,["createTime"],i);let s=a(t,["metadata","endTime"]);s!=null&&u(e,["endTime"],s);let l=a(t,["metadata","updateTime"]);l!=null&&u(e,["updateTime"],l);let c=a(t,["metadata","model"]);c!=null&&u(e,["model"],c);let d=a(t,["metadata","output"]);return d!=null&&u(e,["dest"],jI(sg(d))),e}function Gu(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["displayName"]);o!=null&&u(e,["displayName"],o);let r=a(t,["state"]);r!=null&&u(e,["state"],ag(r));let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["createTime"]);s!=null&&u(e,["createTime"],s);let l=a(t,["startTime"]);l!=null&&u(e,["startTime"],l);let c=a(t,["endTime"]);c!=null&&u(e,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);let f=a(t,["model"]);f!=null&&u(e,["model"],f);let p=a(t,["inputConfig"]);p!=null&&u(e,["src"],XI(p));let h=a(t,["outputConfig"]);h!=null&&u(e,["dest"],ZI(sg(h)));let g=a(t,["completionStats"]);return g!=null&&u(e,["completionStats"],g),e}function XI(t){let e={},n=a(t,["instancesFormat"]);n!=null&&u(e,["format"],n);let o=a(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);let r=a(t,["bigquerySource","inputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function e_(t,e){let n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let o=a(e,["fileName"]);o!=null&&u(n,["fileName"],o);let r=a(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>N_(t,s))),u(n,["requests","requests"],i)}return n}function t_(t){let e={},n=a(t,["format"]);n!=null&&u(e,["instancesFormat"],n);let o=a(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);let r=a(t,["bigqueryUri"]);if(r!=null&&u(e,["bigquerySource","inputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function n_(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function o_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function r_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function i_(t){let e={},n=a(t,["content"]);n!=null&&u(e,["content"],n);let o=a(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],s_(o));let r=a(t,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);let i=a(t,["finishReason"]);i!=null&&u(e,["finishReason"],i);let s=a(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);let l=a(t,["groundingMetadata"]);l!=null&&u(e,["groundingMetadata"],l);let c=a(t,["index"]);c!=null&&u(e,["index"],c);let d=a(t,["logprobsResult"]);d!=null&&u(e,["logprobsResult"],d);let f=a(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),u(e,["safetyRatings"],h)}let p=a(t,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],p),e}function s_(t){let e={},n=a(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["citations"],o)}return e}function lg(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>O_(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function a_(t,e){let n={},o=a(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function l_(t,e){let n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);let r=a(t,["dest"]);return e!==void 0&&r!=null&&u(e,["outputConfig"],QI(KI(r))),n}function wh(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));let r=a(e,["src"]);r!=null&&u(n,["batch","inputConfig"],e_(t,ig(t,r)));let i=a(e,["config"]);return i!=null&&a_(i,n),n}function u_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["model"],G(t,o));let r=a(e,["src"]);r!=null&&u(n,["inputConfig"],t_(ig(t,r)));let i=a(e,["config"]);return i!=null&&l_(i,n),n}function c_(t,e){let n={},o=a(t,["displayName"]);return e!==void 0&&o!=null&&u(e,["batch","displayName"],o),n}function d_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));let r=a(e,["src"]);r!=null&&u(n,["batch","inputConfig"],v_(t,r));let i=a(e,["config"]);return i!=null&&c_(i,n),n}function f_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function p_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function h_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);return i!=null&&u(e,["error"],i),e}function g_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);return i!=null&&u(e,["error"],i),e}function m_(t,e){let n={},o=a(e,["contents"]);if(o!=null){let i=Dc(t,o);Array.isArray(i)&&(i=i.map(s=>s)),u(n,["requests[]","request","content"],i)}let r=a(e,["config"]);return r!=null&&(u(n,["_self"],y_(r,n)),wI(n,{"requests[].*":"requests[].request.*"})),n}function y_(t,e){let n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);let r=a(t,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);let i=a(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function v_(t,e){let n={},o=a(e,["fileName"]);o!=null&&u(n,["file_name"],o);let r=a(e,["inlinedRequests"]);return r!=null&&u(n,["requests"],m_(t,r)),n}function E_(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function C_(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function I_(t){let e={},n=a(t,["allowedFunctionNames"]);n!=null&&u(e,["allowedFunctionNames"],n);let o=a(t,["mode"]);if(o!=null&&u(e,["mode"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function __(t,e,n){let o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&u(n,["systemInstruction"],lg(fe(r)));let i=a(e,["temperature"]);i!=null&&u(o,["temperature"],i);let s=a(e,["topP"]);s!=null&&u(o,["topP"],s);let l=a(e,["topK"]);l!=null&&u(o,["topK"],l);let c=a(e,["candidateCount"]);c!=null&&u(o,["candidateCount"],c);let d=a(e,["maxOutputTokens"]);d!=null&&u(o,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&u(o,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&u(o,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&u(o,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&u(o,["frequencyPenalty"],m);let y=a(e,["seed"]);y!=null&&u(o,["seed"],y);let E=a(e,["responseMimeType"]);E!=null&&u(o,["responseMimeType"],E);let v=a(e,["responseSchema"]);v!=null&&u(o,["responseSchema"],Tc(v));let D=a(e,["responseJsonSchema"]);if(D!=null&&u(o,["responseJsonSchema"],D),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let pe=T;Array.isArray(pe)&&(pe=pe.map(ue=>V_(ue))),u(n,["safetySettings"],pe)}let w=a(e,["tools"]);if(n!==void 0&&w!=null){let pe=qn(w);Array.isArray(pe)&&(pe=pe.map(ue=>H_($n(ue)))),u(n,["tools"],pe)}let C=a(e,["toolConfig"]);if(n!==void 0&&C!=null&&u(n,["toolConfig"],U_(C)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let L=a(e,["cachedContent"]);n!==void 0&&L!=null&&u(n,["cachedContent"],Ct(t,L));let F=a(e,["responseModalities"]);F!=null&&u(o,["responseModalities"],F);let Q=a(e,["mediaResolution"]);Q!=null&&u(o,["mediaResolution"],Q);let M=a(e,["speechConfig"]);if(M!=null&&u(o,["speechConfig"],Sc(M)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let O=a(e,["thinkingConfig"]);O!=null&&u(o,["thinkingConfig"],O);let ne=a(e,["imageConfig"]);ne!=null&&u(o,["imageConfig"],M_(ne));let Te=a(e,["enableEnhancedCivicAnswers"]);if(Te!=null&&u(o,["enableEnhancedCivicAnswers"],Te),a(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function D_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>i_(d))),u(e,["candidates"],c)}let r=a(t,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);let i=a(t,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);let s=a(t,["responseId"]);s!=null&&u(e,["responseId"],s);let l=a(t,["usageMetadata"]);return l!=null&&u(e,["usageMetadata"],l),e}function T_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function S_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function w_(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function A_(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function M_(t){let e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);let o=a(t,["imageSize"]);if(o!=null&&u(e,["imageSize"],o),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function N_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["request","model"],G(t,o));let r=a(e,["contents"]);if(r!=null){let l=Ue(r);Array.isArray(l)&&(l=l.map(c=>lg(c))),u(n,["request","contents"],l)}let i=a(e,["metadata"]);i!=null&&u(n,["metadata"],i);let s=a(e,["config"]);return s!=null&&u(n,["request","generationConfig"],__(t,s,a(n,["request"],{}))),n}function b_(t){let e={},n=a(t,["response"]);n!=null&&u(e,["response"],D_(n));let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["error"]);return r!=null&&u(e,["error"],r),e}function x_(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);if(e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function R_(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);let i=a(t,["filter"]);return e!==void 0&&i!=null&&u(e,["_query","filter"],i),n}function P_(t){let e={},n=a(t,["config"]);return n!=null&&x_(n,e),e}function k_(t){let e={},n=a(t,["config"]);return n!=null&&R_(n,e),e}function F_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>ki(s))),u(e,["batchJobs"],i)}return e}function L_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Gu(s))),u(e,["batchJobs"],i)}return e}function O_(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],E_(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],C_(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],n_(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function V_(t){let e={},n=a(t,["category"]);if(n!=null&&u(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=a(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function U_(t){let e={},n=a(t,["retrievalConfig"]);n!=null&&u(e,["retrievalConfig"],n);let o=a(t,["functionCallingConfig"]);return o!=null&&u(e,["functionCallingConfig"],I_(o)),e}function H_(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&u(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&u(e,["googleMaps"],w_(s));let l=a(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],A_(l));let c=a(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}var At=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents",t})(At||{}),Et=class{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var $u=class extends Ye{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Et(At.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){let n=wh(this.apiClient,e),o=n._url,r=S("{model}:batchGenerateContent",o),l=n.batch.inputConfig.requests,c=l.requests,d=[];for(let f of c){let p=Object.assign({},f);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let g=p.request;g.systemInstruction=h,p.request=g}d.push(p)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){let i=this.getGcsUri(e),s=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(s)o.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=u_(this.apiClient,e);return l=S("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Gu(f))}else{let d=wh(this.apiClient,e);return l=S("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>ki(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=d_(this.apiClient,e);return i=S("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>ki(c))}}async get(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=S_(this.apiClient,e);return l=S("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Gu(f))}else{let d=T_(this.apiClient,e);return l=S("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>ki(f))}}async cancel(e){var n,o,r,i;let s="",l={};if(this.apiClient.isVertexAI()){let c=r_(this.apiClient,e);s=S("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let c=o_(this.apiClient,e);s=S("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=k_(e);return l=S("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=L_(f),h=new Wi;return Object.assign(h,p),h})}else{let d=P_(e);return l=S("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=F_(f),h=new Wi;return Object.assign(h,p),h})}}async delete(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=p_(this.apiClient,e);return l=S("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>g_(f))}else{let d=f_(this.apiClient,e);return l=S("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>h_(f))}}};function B_(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Ah(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>cD(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function G_(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);let i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let f=Ue(s);Array.isArray(f)&&(f=f.map(p=>Ah(p))),u(e,["contents"],f)}let l=a(t,["systemInstruction"]);e!==void 0&&l!=null&&u(e,["systemInstruction"],Ah(fe(l)));let c=a(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>fD(p))),u(e,["tools"],f)}let d=a(t,["toolConfig"]);if(e!==void 0&&d!=null&&u(e,["toolConfig"],dD(d)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function $_(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);let i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let p=Ue(s);Array.isArray(p)&&(p=p.map(h=>h)),u(e,["contents"],p)}let l=a(t,["systemInstruction"]);e!==void 0&&l!=null&&u(e,["systemInstruction"],fe(l));let c=a(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>pD(h))),u(e,["tools"],p)}let d=a(t,["toolConfig"]);e!==void 0&&d!=null&&u(e,["toolConfig"],d);let f=a(t,["kmsKeyName"]);return e!==void 0&&f!=null&&u(e,["encryption_spec","kmsKeyName"],f),n}function q_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["model"],jh(t,o));let r=a(e,["config"]);return r!=null&&G_(r,n),n}function z_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["model"],jh(t,o));let r=a(e,["config"]);return r!=null&&$_(r,n),n}function W_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Ct(t,o)),n}function J_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Ct(t,o)),n}function Y_(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function K_(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function j_(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Z_(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Q_(t){let e={},n=a(t,["allowedFunctionNames"]);n!=null&&u(e,["allowedFunctionNames"],n);let o=a(t,["mode"]);if(o!=null&&u(e,["mode"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function X_(t){let e={},n=a(t,["description"]);n!=null&&u(e,["description"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["parameters"]);r!=null&&u(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&u(e,["response"],s);let l=a(t,["responseJsonSchema"]);if(l!=null&&u(e,["responseJsonSchema"],l),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function eD(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Ct(t,o)),n}function tD(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Ct(t,o)),n}function nD(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function oD(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function rD(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function iD(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function sD(t){let e={},n=a(t,["config"]);return n!=null&&rD(n,e),e}function aD(t){let e={},n=a(t,["config"]);return n!=null&&iD(n,e),e}function lD(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function uD(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function cD(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],j_(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],Z_(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],B_(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function dD(t){let e={},n=a(t,["retrievalConfig"]);n!=null&&u(e,["retrievalConfig"],n);let o=a(t,["functionCallingConfig"]);return o!=null&&u(e,["functionCallingConfig"],Q_(o)),e}function fD(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&u(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&u(e,["googleMaps"],nD(s));let l=a(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],oD(l));let c=a(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function pD(t){let e={},n=a(t,["retrieval"]);n!=null&&u(e,["retrieval"],n);let o=a(t,["computerUse"]);if(o!=null&&u(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let r=a(t,["codeExecution"]);r!=null&&u(e,["codeExecution"],r);let i=a(t,["enterpriseWebSearch"]);i!=null&&u(e,["enterpriseWebSearch"],i);let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>X_(h))),u(e,["functionDeclarations"],p)}let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],l);let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);let d=a(t,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function hD(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),n}function gD(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),n}function mD(t,e){let n={},o=a(e,["name"]);o!=null&&u(n,["_url","name"],Ct(t,o));let r=a(e,["config"]);return r!=null&&hD(r,n),n}function yD(t,e){let n={},o=a(e,["name"]);o!=null&&u(n,["_url","name"],Ct(t,o));let r=a(e,["config"]);return r!=null&&gD(r,n),n}var qu=class extends Ye{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Et(At.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=z_(this.apiClient,e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=q_(this.apiClient,e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=tD(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=eD(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=J_(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=K_(f),h=new qi;return Object.assign(h,p),h})}else{let d=W_(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Y_(f),h=new qi;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=yD(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=mD(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=aD(e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=uD(f),h=new zi;return Object.assign(h,p),h})}else{let d=sD(e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=lD(f),h=new zi;return Object.assign(h,p),h})}}};function Yi(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function Mh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(t){return this instanceof x?(this.v=t,this):new x(t)}function We(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(m){return Promise.resolve(m).then(g,p)}}function l(g,m){o[g]&&(r[g]=function(y){return new Promise(function(E,v){i.push([g,y,E,v])>1||c(g,y)})},m&&(r[g]=m(r[g])))}function c(g,m){try{d(o[g](m))}catch(y){h(i[0][3],y)}}function d(g){g.value instanceof x?Promise.resolve(g.value.v).then(f,p):h(i[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function h(g,m){g(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Je(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Mh=="function"?Mh(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(s){return new Promise(function(l,c){s=t[i](s),r(l,c,s.done,s.value)})}}function r(i,s,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},s)}}function vD(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ug(n)}function ug(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ED(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Nh(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{let r=[],i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!ug(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}var zu=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Wu(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},Wu=class{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),ED(i)}async sendMessage(e){var n;await this.sendPromise;let o=fe(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,l;let c=await r,d=(s=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];f!=null&&(h=(l=f.slice(p))!==null&&l!==void 0?l:[]);let g=d?[d]:[];this.recordHistory(o,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;let o=fe(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});let i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){let n=e?Nh(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return We(this,arguments,function*(){var r,i,s,l,c,d;let f=[];try{for(var p=!0,h=Je(e),g;g=yield x(h.next()),r=g.done,!r;p=!0){l=g.value,p=!1;let m=l;if(vD(m)){let y=(d=(c=m.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;y!==void 0&&f.push(y)}yield yield x(m)}}catch(m){i={error:m}}finally{try{!p&&!r&&(s=h.return)&&(yield x(s.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Nh(o)):this.history.push(e),this.history.push(...r)}};var Jo=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function CD(t){let e={},n=a(t,["file"]);return n!=null&&u(e,["file"],n),e}function ID(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function _D(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],ng(n)),e}function DD(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function TD(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],ng(n)),e}function SD(t){let e={},n=a(t,["uris"]);return n!=null&&u(e,["uris"],n),e}function wD(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function AD(t){let e={},n=a(t,["config"]);return n!=null&&wD(n,e),e}function MD(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["files"],i)}return e}function ND(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(e,["files"],r)}return e}var Ju=class extends Ye{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Et(At.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=AD(e);return i=S("files",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=MD(c),f=new ku;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=CD(e);return i=S("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=ID(c),f=new Fu;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=TD(e);return i=S("files/{file}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=_D(e);return i=S("files/{file}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=DD(c),f=new Lu;return Object.assign(f,d),f})}}async registerFilesInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=SD(e);return i=S("files:register",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=ND(c),f=new Ou;return Object.assign(f,d),f})}}};function Fi(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function bD(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>WD(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function xD(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function RD(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PD(t){let e={},n=a(t,["description"]);n!=null&&u(e,["description"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["parameters"]);r!=null&&u(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&u(e,["response"],s);let l=a(t,["responseJsonSchema"]);if(l!=null&&u(e,["responseJsonSchema"],l),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function kD(t){let e={},n=a(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);let o=a(t,["responseJsonSchema"]);o!=null&&u(e,["responseJsonSchema"],o);let r=a(t,["audioTimestamp"]);r!=null&&u(e,["audioTimestamp"],r);let i=a(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);let s=a(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);let l=a(t,["frequencyPenalty"]);l!=null&&u(e,["frequencyPenalty"],l);let c=a(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);let d=a(t,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);let f=a(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);let p=a(t,["presencePenalty"]);p!=null&&u(e,["presencePenalty"],p);let h=a(t,["responseLogprobs"]);h!=null&&u(e,["responseLogprobs"],h);let g=a(t,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);let m=a(t,["responseModalities"]);m!=null&&u(e,["responseModalities"],m);let y=a(t,["responseSchema"]);y!=null&&u(e,["responseSchema"],y);let E=a(t,["routingConfig"]);E!=null&&u(e,["routingConfig"],E);let v=a(t,["seed"]);v!=null&&u(e,["seed"],v);let D=a(t,["speechConfig"]);D!=null&&u(e,["speechConfig"],D);let T=a(t,["stopSequences"]);T!=null&&u(e,["stopSequences"],T);let w=a(t,["temperature"]);w!=null&&u(e,["temperature"],w);let C=a(t,["thinkingConfig"]);C!=null&&u(e,["thinkingConfig"],C);let L=a(t,["topK"]);L!=null&&u(e,["topK"],L);let F=a(t,["topP"]);if(F!=null&&u(e,["topP"],F),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function FD(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function LD(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function OD(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],wc(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["setup","systemInstruction"],bD(fe(m)));let y=a(t,["tools"]);if(e!==void 0&&y!=null){let L=qn(y);Array.isArray(L)&&(L=L.map(F=>YD($n(F)))),u(e,["setup","tools"],L)}let E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&u(e,["setup","sessionResumption"],JD(E));let v=a(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&u(e,["setup","inputAudioTranscription"],v);let D=a(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&u(e,["setup","outputAudioTranscription"],D);let T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);let w=a(t,["contextWindowCompression"]);e!==void 0&&w!=null&&u(e,["setup","contextWindowCompression"],w);let C=a(t,["proactivity"]);if(e!==void 0&&C!=null&&u(e,["setup","proactivity"],C),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function VD(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],kD(o));let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],wc(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["setup","systemInstruction"],fe(m));let y=a(t,["tools"]);if(e!==void 0&&y!=null){let F=qn(y);Array.isArray(F)&&(F=F.map(Q=>KD($n(Q)))),u(e,["setup","tools"],F)}let E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&u(e,["setup","sessionResumption"],E);let v=a(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&u(e,["setup","inputAudioTranscription"],v);let D=a(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&u(e,["setup","outputAudioTranscription"],D);let T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);let w=a(t,["contextWindowCompression"]);e!==void 0&&w!=null&&u(e,["setup","contextWindowCompression"],w);let C=a(t,["proactivity"]);e!==void 0&&C!=null&&u(e,["setup","proactivity"],C);let L=a(t,["explicitVadSignal"]);return e!==void 0&&L!=null&&u(e,["setup","explicitVadSignal"],L),n}function UD(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["setup","model"],G(t,o));let r=a(e,["config"]);return r!=null&&u(n,["config"],OD(r,n)),n}function HD(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["setup","model"],G(t,o));let r=a(e,["config"]);return r!=null&&u(n,["config"],VD(r,n)),n}function BD(t){let e={},n=a(t,["musicGenerationConfig"]);return n!=null&&u(e,["musicGenerationConfig"],n),e}function GD(t){let e={},n=a(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["weightedPrompts"],o)}return e}function $D(t){let e={},n=a(t,["media"]);if(n!=null){let d=Zh(n);Array.isArray(d)&&(d=d.map(f=>Fi(f))),u(e,["mediaChunks"],d)}let o=a(t,["audio"]);o!=null&&u(e,["audio"],Fi(Xh(o)));let r=a(t,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);let i=a(t,["video"]);i!=null&&u(e,["video"],Fi(Qh(i)));let s=a(t,["text"]);s!=null&&u(e,["text"],s);let l=a(t,["activityStart"]);l!=null&&u(e,["activityStart"],l);let c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function qD(t){let e={},n=a(t,["media"]);if(n!=null){let d=Zh(n);Array.isArray(d)&&(d=d.map(f=>f)),u(e,["mediaChunks"],d)}let o=a(t,["audio"]);o!=null&&u(e,["audio"],Xh(o));let r=a(t,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);let i=a(t,["video"]);i!=null&&u(e,["video"],Qh(i));let s=a(t,["text"]);s!=null&&u(e,["text"],s);let l=a(t,["activityStart"]);l!=null&&u(e,["activityStart"],l);let c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function zD(t){let e={},n=a(t,["setupComplete"]);n!=null&&u(e,["setupComplete"],n);let o=a(t,["serverContent"]);o!=null&&u(e,["serverContent"],o);let r=a(t,["toolCall"]);r!=null&&u(e,["toolCall"],r);let i=a(t,["toolCallCancellation"]);i!=null&&u(e,["toolCallCancellation"],i);let s=a(t,["usageMetadata"]);s!=null&&u(e,["usageMetadata"],jD(s));let l=a(t,["goAway"]);l!=null&&u(e,["goAway"],l);let c=a(t,["sessionResumptionUpdate"]);c!=null&&u(e,["sessionResumptionUpdate"],c);let d=a(t,["voiceActivityDetectionSignal"]);d!=null&&u(e,["voiceActivityDetectionSignal"],d);let f=a(t,["voiceActivity"]);return f!=null&&u(e,["voiceActivity"],ZD(f)),e}function WD(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],xD(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],RD(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],Fi(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function JD(t){let e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function YD(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&u(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&u(e,["googleMaps"],FD(s));let l=a(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],LD(l));let c=a(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function KD(t){let e={},n=a(t,["retrieval"]);n!=null&&u(e,["retrieval"],n);let o=a(t,["computerUse"]);if(o!=null&&u(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let r=a(t,["codeExecution"]);r!=null&&u(e,["codeExecution"],r);let i=a(t,["enterpriseWebSearch"]);i!=null&&u(e,["enterpriseWebSearch"],i);let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>PD(h))),u(e,["functionDeclarations"],p)}let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],l);let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);let d=a(t,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function jD(t){let e={},n=a(t,["promptTokenCount"]);n!=null&&u(e,["promptTokenCount"],n);let o=a(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);let r=a(t,["candidatesTokenCount"]);r!=null&&u(e,["responseTokenCount"],r);let i=a(t,["toolUsePromptTokenCount"]);i!=null&&u(e,["toolUsePromptTokenCount"],i);let s=a(t,["thoughtsTokenCount"]);s!=null&&u(e,["thoughtsTokenCount"],s);let l=a(t,["totalTokenCount"]);l!=null&&u(e,["totalTokenCount"],l);let c=a(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["promptTokensDetails"],g)}let d=a(t,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["cacheTokensDetails"],g)}let f=a(t,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["responseTokensDetails"],g)}let p=a(t,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["toolUsePromptTokensDetails"],g)}let h=a(t,["trafficType"]);return h!=null&&u(e,["trafficType"],h),e}function ZD(t){let e={},n=a(t,["type"]);return n!=null&&u(e,["voiceActivityType"],n),e}function QD(t,e){let n={},o=a(t,["data"]);if(o!=null&&u(n,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=a(t,["mimeType"]);return r!=null&&u(n,["mimeType"],r),n}function XD(t,e){let n={},o=a(t,["content"]);o!=null&&u(n,["content"],o);let r=a(t,["citationMetadata"]);r!=null&&u(n,["citationMetadata"],eT(r));let i=a(t,["tokenCount"]);i!=null&&u(n,["tokenCount"],i);let s=a(t,["finishReason"]);s!=null&&u(n,["finishReason"],s);let l=a(t,["avgLogprobs"]);l!=null&&u(n,["avgLogprobs"],l);let c=a(t,["groundingMetadata"]);c!=null&&u(n,["groundingMetadata"],c);let d=a(t,["index"]);d!=null&&u(n,["index"],d);let f=a(t,["logprobsResult"]);f!=null&&u(n,["logprobsResult"],f);let p=a(t,["safetyRatings"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),u(n,["safetyRatings"],g)}let h=a(t,["urlContextMetadata"]);return h!=null&&u(n,["urlContextMetadata"],h),n}function eT(t,e){let n={},o=a(t,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(n,["citations"],r)}return n}function tT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let s=Ue(i);Array.isArray(s)&&(s=s.map(l=>l)),u(o,["contents"],s)}return o}function nT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(n,["tokensInfo"],i)}return n}function oT(t,e){let n={},o=a(t,["values"]);o!=null&&u(n,["values"],o);let r=a(t,["statistics"]);return r!=null&&u(n,["statistics"],rT(r)),n}function rT(t,e){let n={},o=a(t,["truncated"]);o!=null&&u(n,["truncated"],o);let r=a(t,["token_count"]);return r!=null&&u(n,["tokenCount"],r),n}function us(t,e){let n={},o=a(t,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>p0(s))),u(n,["parts"],i)}let r=a(t,["role"]);return r!=null&&u(n,["role"],r),n}function iT(t,e){let n={},o=a(t,["controlType"]);o!=null&&u(n,["controlType"],o);let r=a(t,["enableControlImageComputation"]);return r!=null&&u(n,["computeControl"],r),n}function sT(t,e){let n={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function aT(t,e,n){let o={},r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&u(e,["systemInstruction"],fe(r));let i=a(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>pg(c))),u(e,["tools"],l)}let s=a(t,["generationConfig"]);return e!==void 0&&s!=null&&u(e,["generationConfig"],QT(s)),o}function lT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let l=Ue(i);Array.isArray(l)&&(l=l.map(c=>us(c))),u(o,["contents"],l)}let s=a(e,["config"]);return s!=null&&sT(s),o}function uT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let l=Ue(i);Array.isArray(l)&&(l=l.map(c=>c)),u(o,["contents"],l)}let s=a(e,["config"]);return s!=null&&aT(s,o),o}function cT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["totalTokens"]);r!=null&&u(n,["totalTokens"],r);let i=a(t,["cachedContentTokenCount"]);return i!=null&&u(n,["cachedContentTokenCount"],i),n}function dT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["totalTokens"]);return r!=null&&u(n,["totalTokens"],r),n}function fT(t,e,n){let o={},r=a(e,["model"]);return r!=null&&u(o,["_url","name"],G(t,r)),o}function pT(t,e,n){let o={},r=a(e,["model"]);return r!=null&&u(o,["_url","name"],G(t,r)),o}function hT(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(n,["sdkHttpResponse"],o),n}function gT(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(n,["sdkHttpResponse"],o),n}function mT(t,e,n){let o={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);let i=a(t,["negativePrompt"]);e!==void 0&&i!=null&&u(e,["parameters","negativePrompt"],i);let s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&u(e,["parameters","sampleCount"],s);let l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);let c=a(t,["guidanceScale"]);e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c);let d=a(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);let f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);let p=a(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);let h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);let g=a(t,["includeRaiReason"]);e!==void 0&&g!=null&&u(e,["parameters","includeRaiReason"],g);let m=a(t,["language"]);e!==void 0&&m!=null&&u(e,["parameters","language"],m);let y=a(t,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);let E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);let v=a(t,["addWatermark"]);e!==void 0&&v!=null&&u(e,["parameters","addWatermark"],v);let D=a(t,["labels"]);e!==void 0&&D!=null&&u(e,["labels"],D);let T=a(t,["editMode"]);e!==void 0&&T!=null&&u(e,["parameters","editMode"],T);let w=a(t,["baseSteps"]);return e!==void 0&&w!=null&&u(e,["parameters","editConfig","baseSteps"],w),o}function yT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["prompt"]);i!=null&&u(o,["instances[0]","prompt"],i);let s=a(e,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>E0(d))),u(o,["instances[0]","referenceImages"],c)}let l=a(e,["config"]);return l!=null&&mT(l,o),o}function vT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>cs(s))),u(n,["generatedImages"],i)}return n}function ET(t,e,n){let o={},r=a(t,["taskType"]);e!==void 0&&r!=null&&u(e,["requests[]","taskType"],r);let i=a(t,["title"]);e!==void 0&&i!=null&&u(e,["requests[]","title"],i);let s=a(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&u(e,["requests[]","outputDimensionality"],s),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function CT(t,e,n){let o={},r=a(t,["taskType"]);e!==void 0&&r!=null&&u(e,["instances[]","task_type"],r);let i=a(t,["title"]);e!==void 0&&i!=null&&u(e,["instances[]","title"],i);let s=a(t,["outputDimensionality"]);e!==void 0&&s!=null&&u(e,["parameters","outputDimensionality"],s);let l=a(t,["mimeType"]);e!==void 0&&l!=null&&u(e,["instances[]","mimeType"],l);let c=a(t,["autoTruncate"]);return e!==void 0&&c!=null&&u(e,["parameters","autoTruncate"],c),o}function IT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let c=Dc(t,i);Array.isArray(c)&&(c=c.map(d=>d)),u(o,["requests[]","content"],c)}let s=a(e,["config"]);s!=null&&ET(s,o);let l=a(e,["model"]);return l!==void 0&&u(o,["requests[]","model"],G(t,l)),o}function _T(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let l=Dc(t,i);Array.isArray(l)&&(l=l.map(c=>c)),u(o,["instances[]","content"],l)}let s=a(e,["config"]);return s!=null&&CT(s,o),o}function DT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),u(n,["embeddings"],s)}let i=a(t,["metadata"]);return i!=null&&u(n,["metadata"],i),n}function TT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>oT(l))),u(n,["embeddings"],s)}let i=a(t,["metadata"]);return i!=null&&u(n,["metadata"],i),n}function ST(t,e){let n={},o=a(t,["endpoint"]);o!=null&&u(n,["name"],o);let r=a(t,["deployedModelId"]);return r!=null&&u(n,["deployedModelId"],r),n}function wT(t,e){let n={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["fileUri"]);o!=null&&u(n,["fileUri"],o);let r=a(t,["mimeType"]);return r!=null&&u(n,["mimeType"],r),n}function AT(t,e){let n={},o=a(t,["id"]);o!=null&&u(n,["id"],o);let r=a(t,["args"]);r!=null&&u(n,["args"],r);let i=a(t,["name"]);if(i!=null&&u(n,["name"],i),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function MT(t,e){let n={},o=a(t,["allowedFunctionNames"]);o!=null&&u(n,["allowedFunctionNames"],o);let r=a(t,["mode"]);if(r!=null&&u(n,["mode"],r),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function NT(t,e){let n={},o=a(t,["description"]);o!=null&&u(n,["description"],o);let r=a(t,["name"]);r!=null&&u(n,["name"],r);let i=a(t,["parameters"]);i!=null&&u(n,["parameters"],i);let s=a(t,["parametersJsonSchema"]);s!=null&&u(n,["parametersJsonSchema"],s);let l=a(t,["response"]);l!=null&&u(n,["response"],l);let c=a(t,["responseJsonSchema"]);if(c!=null&&u(n,["responseJsonSchema"],c),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function bT(t,e,n,o){let r={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&u(n,["systemInstruction"],us(fe(i)));let s=a(e,["temperature"]);s!=null&&u(r,["temperature"],s);let l=a(e,["topP"]);l!=null&&u(r,["topP"],l);let c=a(e,["topK"]);c!=null&&u(r,["topK"],c);let d=a(e,["candidateCount"]);d!=null&&u(r,["candidateCount"],d);let f=a(e,["maxOutputTokens"]);f!=null&&u(r,["maxOutputTokens"],f);let p=a(e,["stopSequences"]);p!=null&&u(r,["stopSequences"],p);let h=a(e,["responseLogprobs"]);h!=null&&u(r,["responseLogprobs"],h);let g=a(e,["logprobs"]);g!=null&&u(r,["logprobs"],g);let m=a(e,["presencePenalty"]);m!=null&&u(r,["presencePenalty"],m);let y=a(e,["frequencyPenalty"]);y!=null&&u(r,["frequencyPenalty"],y);let E=a(e,["seed"]);E!=null&&u(r,["seed"],E);let v=a(e,["responseMimeType"]);v!=null&&u(r,["responseMimeType"],v);let D=a(e,["responseSchema"]);D!=null&&u(r,["responseSchema"],Tc(D));let T=a(e,["responseJsonSchema"]);if(T!=null&&u(r,["responseJsonSchema"],T),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let w=a(e,["safetySettings"]);if(n!==void 0&&w!=null){let ue=w;Array.isArray(ue)&&(ue=ue.map(tn=>C0(tn))),u(n,["safetySettings"],ue)}let C=a(e,["tools"]);if(n!==void 0&&C!=null){let ue=qn(C);Array.isArray(ue)&&(ue=ue.map(tn=>A0($n(tn)))),u(n,["tools"],ue)}let L=a(e,["toolConfig"]);if(n!==void 0&&L!=null&&u(n,["toolConfig"],w0(L)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let F=a(e,["cachedContent"]);n!==void 0&&F!=null&&u(n,["cachedContent"],Ct(t,F));let Q=a(e,["responseModalities"]);Q!=null&&u(r,["responseModalities"],Q);let M=a(e,["mediaResolution"]);M!=null&&u(r,["mediaResolution"],M);let O=a(e,["speechConfig"]);if(O!=null&&u(r,["speechConfig"],Sc(O)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let ne=a(e,["thinkingConfig"]);ne!=null&&u(r,["thinkingConfig"],ne);let Te=a(e,["imageConfig"]);Te!=null&&u(r,["imageConfig"],o0(Te));let pe=a(e,["enableEnhancedCivicAnswers"]);if(pe!=null&&u(r,["enableEnhancedCivicAnswers"],pe),a(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function xT(t,e,n,o){let r={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&u(n,["systemInstruction"],fe(i));let s=a(e,["temperature"]);s!=null&&u(r,["temperature"],s);let l=a(e,["topP"]);l!=null&&u(r,["topP"],l);let c=a(e,["topK"]);c!=null&&u(r,["topK"],c);let d=a(e,["candidateCount"]);d!=null&&u(r,["candidateCount"],d);let f=a(e,["maxOutputTokens"]);f!=null&&u(r,["maxOutputTokens"],f);let p=a(e,["stopSequences"]);p!=null&&u(r,["stopSequences"],p);let h=a(e,["responseLogprobs"]);h!=null&&u(r,["responseLogprobs"],h);let g=a(e,["logprobs"]);g!=null&&u(r,["logprobs"],g);let m=a(e,["presencePenalty"]);m!=null&&u(r,["presencePenalty"],m);let y=a(e,["frequencyPenalty"]);y!=null&&u(r,["frequencyPenalty"],y);let E=a(e,["seed"]);E!=null&&u(r,["seed"],E);let v=a(e,["responseMimeType"]);v!=null&&u(r,["responseMimeType"],v);let D=a(e,["responseSchema"]);D!=null&&u(r,["responseSchema"],Tc(D));let T=a(e,["responseJsonSchema"]);T!=null&&u(r,["responseJsonSchema"],T);let w=a(e,["routingConfig"]);w!=null&&u(r,["routingConfig"],w);let C=a(e,["modelSelectionConfig"]);C!=null&&u(r,["modelConfig"],C);let L=a(e,["safetySettings"]);if(n!==void 0&&L!=null){let at=L;Array.isArray(at)&&(at=at.map(ms=>ms)),u(n,["safetySettings"],at)}let F=a(e,["tools"]);if(n!==void 0&&F!=null){let at=qn(F);Array.isArray(at)&&(at=at.map(ms=>pg($n(ms)))),u(n,["tools"],at)}let Q=a(e,["toolConfig"]);n!==void 0&&Q!=null&&u(n,["toolConfig"],Q);let M=a(e,["labels"]);n!==void 0&&M!=null&&u(n,["labels"],M);let O=a(e,["cachedContent"]);n!==void 0&&O!=null&&u(n,["cachedContent"],Ct(t,O));let ne=a(e,["responseModalities"]);ne!=null&&u(r,["responseModalities"],ne);let Te=a(e,["mediaResolution"]);Te!=null&&u(r,["mediaResolution"],Te);let pe=a(e,["speechConfig"]);pe!=null&&u(r,["speechConfig"],Sc(pe));let ue=a(e,["audioTimestamp"]);ue!=null&&u(r,["audioTimestamp"],ue);let tn=a(e,["thinkingConfig"]);tn!=null&&u(r,["thinkingConfig"],tn);let Mc=a(e,["imageConfig"]);if(Mc!=null&&u(r,["imageConfig"],r0(Mc)),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");let Nc=a(e,["modelArmorConfig"]);return n!==void 0&&Nc!=null&&u(n,["modelArmorConfig"],Nc),r}function bh(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let l=Ue(i);Array.isArray(l)&&(l=l.map(c=>us(c))),u(o,["contents"],l)}let s=a(e,["config"]);return s!=null&&u(o,["generationConfig"],bT(t,s,o)),o}function xh(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let l=Ue(i);Array.isArray(l)&&(l=l.map(c=>c)),u(o,["contents"],l)}let s=a(e,["config"]);return s!=null&&u(o,["generationConfig"],xT(t,s,o)),o}function Rh(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>XD(f))),u(n,["candidates"],d)}let i=a(t,["modelVersion"]);i!=null&&u(n,["modelVersion"],i);let s=a(t,["promptFeedback"]);s!=null&&u(n,["promptFeedback"],s);let l=a(t,["responseId"]);l!=null&&u(n,["responseId"],l);let c=a(t,["usageMetadata"]);return c!=null&&u(n,["usageMetadata"],c),n}function Ph(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),u(n,["candidates"],f)}let i=a(t,["createTime"]);i!=null&&u(n,["createTime"],i);let s=a(t,["modelVersion"]);s!=null&&u(n,["modelVersion"],s);let l=a(t,["promptFeedback"]);l!=null&&u(n,["promptFeedback"],l);let c=a(t,["responseId"]);c!=null&&u(n,["responseId"],c);let d=a(t,["usageMetadata"]);return d!=null&&u(n,["usageMetadata"],d),n}function RT(t,e,n){let o={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let r=a(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);let i=a(t,["aspectRatio"]);e!==void 0&&i!=null&&u(e,["parameters","aspectRatio"],i);let s=a(t,["guidanceScale"]);if(e!==void 0&&s!=null&&u(e,["parameters","guidanceScale"],s),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let l=a(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&u(e,["parameters","safetySetting"],l);let c=a(t,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);let d=a(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&u(e,["parameters","includeSafetyAttributes"],d);let f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&u(e,["parameters","includeRaiReason"],f);let p=a(t,["language"]);e!==void 0&&p!=null&&u(e,["parameters","language"],p);let h=a(t,["outputMimeType"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","mimeType"],h);let g=a(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&u(e,["parameters","outputOptions","compressionQuality"],g),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let m=a(t,["imageSize"]);if(e!==void 0&&m!=null&&u(e,["parameters","sampleImageSize"],m),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function PT(t,e,n){let o={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);let i=a(t,["negativePrompt"]);e!==void 0&&i!=null&&u(e,["parameters","negativePrompt"],i);let s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&u(e,["parameters","sampleCount"],s);let l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);let c=a(t,["guidanceScale"]);e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c);let d=a(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);let f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);let p=a(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);let h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);let g=a(t,["includeRaiReason"]);e!==void 0&&g!=null&&u(e,["parameters","includeRaiReason"],g);let m=a(t,["language"]);e!==void 0&&m!=null&&u(e,["parameters","language"],m);let y=a(t,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);let E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);let v=a(t,["addWatermark"]);e!==void 0&&v!=null&&u(e,["parameters","addWatermark"],v);let D=a(t,["labels"]);e!==void 0&&D!=null&&u(e,["labels"],D);let T=a(t,["imageSize"]);e!==void 0&&T!=null&&u(e,["parameters","sampleImageSize"],T);let w=a(t,["enhancePrompt"]);return e!==void 0&&w!=null&&u(e,["parameters","enhancePrompt"],w),o}function kT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["prompt"]);i!=null&&u(o,["instances[0]","prompt"],i);let s=a(e,["config"]);return s!=null&&RT(s,o),o}function FT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["prompt"]);i!=null&&u(o,["instances[0]","prompt"],i);let s=a(e,["config"]);return s!=null&&PT(s,o),o}function LT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>YT(l))),u(n,["generatedImages"],s)}let i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&u(n,["positivePromptSafetyAttributes"],dg(i)),n}function OT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>cs(l))),u(n,["generatedImages"],s)}let i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&u(n,["positivePromptSafetyAttributes"],fg(i)),n}function VT(t,e,n){let o={},r=a(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let i=a(t,["durationSeconds"]);if(e!==void 0&&i!=null&&u(e,["parameters","durationSeconds"],i),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);let l=a(t,["resolution"]);e!==void 0&&l!=null&&u(e,["parameters","resolution"],l);let c=a(t,["personGeneration"]);if(e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let d=a(t,["negativePrompt"]);e!==void 0&&d!=null&&u(e,["parameters","negativePrompt"],d);let f=a(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&u(e,["parameters","enhancePrompt"],f),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let p=a(t,["lastFrame"]);e!==void 0&&p!=null&&u(e,["instances[0]","lastFrame"],ds(p));let h=a(t,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(m=>H0(m))),u(e,["instances[0]","referenceImages"],g)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function UT(t,e,n){let o={},r=a(t,["numberOfVideos"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);let i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);let s=a(t,["fps"]);e!==void 0&&s!=null&&u(e,["parameters","fps"],s);let l=a(t,["durationSeconds"]);e!==void 0&&l!=null&&u(e,["parameters","durationSeconds"],l);let c=a(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);let d=a(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);let f=a(t,["resolution"]);e!==void 0&&f!=null&&u(e,["parameters","resolution"],f);let p=a(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);let h=a(t,["pubsubTopic"]);e!==void 0&&h!=null&&u(e,["parameters","pubsubTopic"],h);let g=a(t,["negativePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","negativePrompt"],g);let m=a(t,["enhancePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m);let y=a(t,["generateAudio"]);e!==void 0&&y!=null&&u(e,["parameters","generateAudio"],y);let E=a(t,["lastFrame"]);e!==void 0&&E!=null&&u(e,["instances[0]","lastFrame"],Ke(E));let v=a(t,["referenceImages"]);if(e!==void 0&&v!=null){let w=v;Array.isArray(w)&&(w=w.map(C=>B0(C))),u(e,["instances[0]","referenceImages"],w)}let D=a(t,["mask"]);e!==void 0&&D!=null&&u(e,["instances[0]","mask"],U0(D));let T=a(t,["compressionQuality"]);return e!==void 0&&T!=null&&u(e,["parameters","compressionQuality"],T),o}function HT(t,e){let n={},o=a(t,["name"]);o!=null&&u(n,["name"],o);let r=a(t,["metadata"]);r!=null&&u(n,["metadata"],r);let i=a(t,["done"]);i!=null&&u(n,["done"],i);let s=a(t,["error"]);s!=null&&u(n,["error"],s);let l=a(t,["response","generateVideoResponse"]);return l!=null&&u(n,["response"],qT(l)),n}function BT(t,e){let n={},o=a(t,["name"]);o!=null&&u(n,["name"],o);let r=a(t,["metadata"]);r!=null&&u(n,["metadata"],r);let i=a(t,["done"]);i!=null&&u(n,["done"],i);let s=a(t,["error"]);s!=null&&u(n,["error"],s);let l=a(t,["response"]);return l!=null&&u(n,["response"],zT(l)),n}function GT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["prompt"]);i!=null&&u(o,["instances[0]","prompt"],i);let s=a(e,["image"]);s!=null&&u(o,["instances[0]","image"],ds(s));let l=a(e,["video"]);l!=null&&u(o,["instances[0]","video"],hg(l));let c=a(e,["source"]);c!=null&&WT(c,o);let d=a(e,["config"]);return d!=null&&VT(d,o),o}function $T(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["prompt"]);i!=null&&u(o,["instances[0]","prompt"],i);let s=a(e,["image"]);s!=null&&u(o,["instances[0]","image"],Ke(s));let l=a(e,["video"]);l!=null&&u(o,["instances[0]","video"],gg(l));let c=a(e,["source"]);c!=null&&JT(c,o);let d=a(e,["config"]);return d!=null&&UT(d,o),o}function qT(t,e){let n={},o=a(t,["generatedSamples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>jT(l))),u(n,["generatedVideos"],s)}let r=a(t,["raiMediaFilteredCount"]);r!=null&&u(n,["raiMediaFilteredCount"],r);let i=a(t,["raiMediaFilteredReasons"]);return i!=null&&u(n,["raiMediaFilteredReasons"],i),n}function zT(t,e){let n={},o=a(t,["videos"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>ZT(l))),u(n,["generatedVideos"],s)}let r=a(t,["raiMediaFilteredCount"]);r!=null&&u(n,["raiMediaFilteredCount"],r);let i=a(t,["raiMediaFilteredReasons"]);return i!=null&&u(n,["raiMediaFilteredReasons"],i),n}function WT(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let i=a(t,["image"]);e!==void 0&&i!=null&&u(e,["instances[0]","image"],ds(i));let s=a(t,["video"]);return e!==void 0&&s!=null&&u(e,["instances[0]","video"],hg(s)),o}function JT(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let i=a(t,["image"]);e!==void 0&&i!=null&&u(e,["instances[0]","image"],Ke(i));let s=a(t,["video"]);return e!==void 0&&s!=null&&u(e,["instances[0]","video"],gg(s)),o}function YT(t,e){let n={},o=a(t,["_self"]);o!=null&&u(n,["image"],i0(o));let r=a(t,["raiFilteredReason"]);r!=null&&u(n,["raiFilteredReason"],r);let i=a(t,["_self"]);return i!=null&&u(n,["safetyAttributes"],dg(i)),n}function cs(t,e){let n={},o=a(t,["_self"]);o!=null&&u(n,["image"],cg(o));let r=a(t,["raiFilteredReason"]);r!=null&&u(n,["raiFilteredReason"],r);let i=a(t,["_self"]);i!=null&&u(n,["safetyAttributes"],fg(i));let s=a(t,["prompt"]);return s!=null&&u(n,["enhancedPrompt"],s),n}function KT(t,e){let n={},o=a(t,["_self"]);o!=null&&u(n,["mask"],cg(o));let r=a(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(n,["labels"],i)}return n}function jT(t,e){let n={},o=a(t,["video"]);return o!=null&&u(n,["video"],O0(o)),n}function ZT(t,e){let n={},o=a(t,["_self"]);return o!=null&&u(n,["video"],V0(o)),n}function QT(t,e){let n={},o=a(t,["modelSelectionConfig"]);o!=null&&u(n,["modelConfig"],o);let r=a(t,["responseJsonSchema"]);r!=null&&u(n,["responseJsonSchema"],r);let i=a(t,["audioTimestamp"]);i!=null&&u(n,["audioTimestamp"],i);let s=a(t,["candidateCount"]);s!=null&&u(n,["candidateCount"],s);let l=a(t,["enableAffectiveDialog"]);l!=null&&u(n,["enableAffectiveDialog"],l);let c=a(t,["frequencyPenalty"]);c!=null&&u(n,["frequencyPenalty"],c);let d=a(t,["logprobs"]);d!=null&&u(n,["logprobs"],d);let f=a(t,["maxOutputTokens"]);f!=null&&u(n,["maxOutputTokens"],f);let p=a(t,["mediaResolution"]);p!=null&&u(n,["mediaResolution"],p);let h=a(t,["presencePenalty"]);h!=null&&u(n,["presencePenalty"],h);let g=a(t,["responseLogprobs"]);g!=null&&u(n,["responseLogprobs"],g);let m=a(t,["responseMimeType"]);m!=null&&u(n,["responseMimeType"],m);let y=a(t,["responseModalities"]);y!=null&&u(n,["responseModalities"],y);let E=a(t,["responseSchema"]);E!=null&&u(n,["responseSchema"],E);let v=a(t,["routingConfig"]);v!=null&&u(n,["routingConfig"],v);let D=a(t,["seed"]);D!=null&&u(n,["seed"],D);let T=a(t,["speechConfig"]);T!=null&&u(n,["speechConfig"],T);let w=a(t,["stopSequences"]);w!=null&&u(n,["stopSequences"],w);let C=a(t,["temperature"]);C!=null&&u(n,["temperature"],C);let L=a(t,["thinkingConfig"]);L!=null&&u(n,["thinkingConfig"],L);let F=a(t,["topK"]);F!=null&&u(n,["topK"],F);let Q=a(t,["topP"]);if(Q!=null&&u(n,["topP"],Q),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function XT(t,e,n){let o={},r=a(e,["model"]);return r!=null&&u(o,["_url","name"],G(t,r)),o}function e0(t,e,n){let o={},r=a(e,["model"]);return r!=null&&u(o,["_url","name"],G(t,r)),o}function t0(t,e){let n={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let o=a(t,["enableWidget"]);return o!=null&&u(n,["enableWidget"],o),n}function n0(t,e){let n={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let o=a(t,["timeRangeFilter"]);return o!=null&&u(n,["timeRangeFilter"],o),n}function o0(t,e){let n={},o=a(t,["aspectRatio"]);o!=null&&u(n,["aspectRatio"],o);let r=a(t,["imageSize"]);if(r!=null&&u(n,["imageSize"],r),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function r0(t,e){let n={},o=a(t,["aspectRatio"]);o!=null&&u(n,["aspectRatio"],o);let r=a(t,["imageSize"]);r!=null&&u(n,["imageSize"],r);let i=a(t,["personGeneration"]);i!=null&&u(n,["personGeneration"],i);let s=a(t,["outputMimeType"]);s!=null&&u(n,["imageOutputOptions","mimeType"],s);let l=a(t,["outputCompressionQuality"]);return l!=null&&u(n,["imageOutputOptions","compressionQuality"],l),n}function i0(t,e){let n={},o=a(t,["bytesBase64Encoded"]);o!=null&&u(n,["imageBytes"],wt(o));let r=a(t,["mimeType"]);return r!=null&&u(n,["mimeType"],r),n}function cg(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&u(n,["gcsUri"],o);let r=a(t,["bytesBase64Encoded"]);r!=null&&u(n,["imageBytes"],wt(r));let i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function ds(t,e){let n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let o=a(t,["imageBytes"]);o!=null&&u(n,["bytesBase64Encoded"],wt(o));let r=a(t,["mimeType"]);return r!=null&&u(n,["mimeType"],r),n}function Ke(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&u(n,["gcsUri"],o);let r=a(t,["imageBytes"]);r!=null&&u(n,["bytesBase64Encoded"],wt(r));let i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function s0(t,e,n,o){let r={},i=a(e,["pageSize"]);n!==void 0&&i!=null&&u(n,["_query","pageSize"],i);let s=a(e,["pageToken"]);n!==void 0&&s!=null&&u(n,["_query","pageToken"],s);let l=a(e,["filter"]);n!==void 0&&l!=null&&u(n,["_query","filter"],l);let c=a(e,["queryBase"]);return n!==void 0&&c!=null&&u(n,["_url","models_url"],og(t,c)),r}function a0(t,e,n,o){let r={},i=a(e,["pageSize"]);n!==void 0&&i!=null&&u(n,["_query","pageSize"],i);let s=a(e,["pageToken"]);n!==void 0&&s!=null&&u(n,["_query","pageToken"],s);let l=a(e,["filter"]);n!==void 0&&l!=null&&u(n,["_query","filter"],l);let c=a(e,["queryBase"]);return n!==void 0&&c!=null&&u(n,["_url","models_url"],og(t,c)),r}function l0(t,e,n){let o={},r=a(e,["config"]);return r!=null&&s0(t,r,o),o}function u0(t,e,n){let o={},r=a(e,["config"]);return r!=null&&a0(t,r,o),o}function c0(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);let i=a(t,["_self"]);if(i!=null){let s=rg(i);Array.isArray(s)&&(s=s.map(l=>Yu(l))),u(n,["models"],s)}return n}function d0(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);let i=a(t,["_self"]);if(i!=null){let s=rg(i);Array.isArray(s)&&(s=s.map(l=>Ku(l))),u(n,["models"],s)}return n}function f0(t,e){let n={},o=a(t,["maskMode"]);o!=null&&u(n,["maskMode"],o);let r=a(t,["segmentationClasses"]);r!=null&&u(n,["maskClasses"],r);let i=a(t,["maskDilation"]);return i!=null&&u(n,["dilation"],i),n}function Yu(t,e){let n={},o=a(t,["name"]);o!=null&&u(n,["name"],o);let r=a(t,["displayName"]);r!=null&&u(n,["displayName"],r);let i=a(t,["description"]);i!=null&&u(n,["description"],i);let s=a(t,["version"]);s!=null&&u(n,["version"],s);let l=a(t,["_self"]);l!=null&&u(n,["tunedModelInfo"],M0(l));let c=a(t,["inputTokenLimit"]);c!=null&&u(n,["inputTokenLimit"],c);let d=a(t,["outputTokenLimit"]);d!=null&&u(n,["outputTokenLimit"],d);let f=a(t,["supportedGenerationMethods"]);f!=null&&u(n,["supportedActions"],f);let p=a(t,["temperature"]);p!=null&&u(n,["temperature"],p);let h=a(t,["maxTemperature"]);h!=null&&u(n,["maxTemperature"],h);let g=a(t,["topP"]);g!=null&&u(n,["topP"],g);let m=a(t,["topK"]);m!=null&&u(n,["topK"],m);let y=a(t,["thinking"]);return y!=null&&u(n,["thinking"],y),n}function Ku(t,e){let n={},o=a(t,["name"]);o!=null&&u(n,["name"],o);let r=a(t,["displayName"]);r!=null&&u(n,["displayName"],r);let i=a(t,["description"]);i!=null&&u(n,["description"],i);let s=a(t,["versionId"]);s!=null&&u(n,["version"],s);let l=a(t,["deployedModels"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>ST(g))),u(n,["endpoints"],h)}let c=a(t,["labels"]);c!=null&&u(n,["labels"],c);let d=a(t,["_self"]);d!=null&&u(n,["tunedModelInfo"],N0(d));let f=a(t,["defaultCheckpointId"]);f!=null&&u(n,["defaultCheckpointId"],f);let p=a(t,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),u(n,["checkpoints"],h)}return n}function p0(t,e){let n={},o=a(t,["mediaResolution"]);o!=null&&u(n,["mediaResolution"],o);let r=a(t,["codeExecutionResult"]);r!=null&&u(n,["codeExecutionResult"],r);let i=a(t,["executableCode"]);i!=null&&u(n,["executableCode"],i);let s=a(t,["fileData"]);s!=null&&u(n,["fileData"],wT(s));let l=a(t,["functionCall"]);l!=null&&u(n,["functionCall"],AT(l));let c=a(t,["functionResponse"]);c!=null&&u(n,["functionResponse"],c);let d=a(t,["inlineData"]);d!=null&&u(n,["inlineData"],QD(d));let f=a(t,["text"]);f!=null&&u(n,["text"],f);let p=a(t,["thought"]);p!=null&&u(n,["thought"],p);let h=a(t,["thoughtSignature"]);h!=null&&u(n,["thoughtSignature"],h);let g=a(t,["videoMetadata"]);return g!=null&&u(n,["videoMetadata"],g),n}function h0(t,e){let n={},o=a(t,["productImage"]);return o!=null&&u(n,["image"],Ke(o)),n}function g0(t,e,n){let o={},r=a(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);let i=a(t,["baseSteps"]);e!==void 0&&i!=null&&u(e,["parameters","baseSteps"],i);let s=a(t,["outputGcsUri"]);e!==void 0&&s!=null&&u(e,["parameters","storageUri"],s);let l=a(t,["seed"]);e!==void 0&&l!=null&&u(e,["parameters","seed"],l);let c=a(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&u(e,["parameters","safetySetting"],c);let d=a(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);let f=a(t,["addWatermark"]);e!==void 0&&f!=null&&u(e,["parameters","addWatermark"],f);let p=a(t,["outputMimeType"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","mimeType"],p);let h=a(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","compressionQuality"],h);let g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","enhancePrompt"],g);let m=a(t,["labels"]);return e!==void 0&&m!=null&&u(e,["labels"],m),o}function m0(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["source"]);i!=null&&v0(i,o);let s=a(e,["config"]);return s!=null&&g0(s,o),o}function y0(t,e){let n={},o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>cs(i))),u(n,["generatedImages"],r)}return n}function v0(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let i=a(t,["personImage"]);e!==void 0&&i!=null&&u(e,["instances[0]","personImage","image"],Ke(i));let s=a(t,["productImages"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>h0(c))),u(e,["instances[0]","productImages"],l)}return o}function E0(t,e){let n={},o=a(t,["referenceImage"]);o!=null&&u(n,["referenceImage"],Ke(o));let r=a(t,["referenceId"]);r!=null&&u(n,["referenceId"],r);let i=a(t,["referenceType"]);i!=null&&u(n,["referenceType"],i);let s=a(t,["maskImageConfig"]);s!=null&&u(n,["maskImageConfig"],f0(s));let l=a(t,["controlImageConfig"]);l!=null&&u(n,["controlImageConfig"],iT(l));let c=a(t,["styleImageConfig"]);c!=null&&u(n,["styleImageConfig"],c);let d=a(t,["subjectImageConfig"]);return d!=null&&u(n,["subjectImageConfig"],d),n}function dg(t,e){let n={},o=a(t,["safetyAttributes","categories"]);o!=null&&u(n,["categories"],o);let r=a(t,["safetyAttributes","scores"]);r!=null&&u(n,["scores"],r);let i=a(t,["contentType"]);return i!=null&&u(n,["contentType"],i),n}function fg(t,e){let n={},o=a(t,["safetyAttributes","categories"]);o!=null&&u(n,["categories"],o);let r=a(t,["safetyAttributes","scores"]);r!=null&&u(n,["scores"],r);let i=a(t,["contentType"]);return i!=null&&u(n,["contentType"],i),n}function C0(t,e){let n={},o=a(t,["category"]);if(o!=null&&u(n,["category"],o),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=a(t,["threshold"]);return r!=null&&u(n,["threshold"],r),n}function I0(t,e){let n={},o=a(t,["image"]);return o!=null&&u(n,["image"],Ke(o)),n}function _0(t,e,n){let o={},r=a(t,["mode"]);e!==void 0&&r!=null&&u(e,["parameters","mode"],r);let i=a(t,["maxPredictions"]);e!==void 0&&i!=null&&u(e,["parameters","maxPredictions"],i);let s=a(t,["confidenceThreshold"]);e!==void 0&&s!=null&&u(e,["parameters","confidenceThreshold"],s);let l=a(t,["maskDilation"]);e!==void 0&&l!=null&&u(e,["parameters","maskDilation"],l);let c=a(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","binaryColorThreshold"],c);let d=a(t,["labels"]);return e!==void 0&&d!=null&&u(e,["labels"],d),o}function D0(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["source"]);i!=null&&S0(i,o);let s=a(e,["config"]);return s!=null&&_0(s,o),o}function T0(t,e){let n={},o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>KT(i))),u(n,["generatedMasks"],r)}return n}function S0(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let i=a(t,["image"]);e!==void 0&&i!=null&&u(e,["instances[0]","image"],Ke(i));let s=a(t,["scribbleImage"]);return e!==void 0&&s!=null&&u(e,["instances[0]","scribble"],I0(s)),o}function w0(t,e){let n={},o=a(t,["retrievalConfig"]);o!=null&&u(n,["retrievalConfig"],o);let r=a(t,["functionCallingConfig"]);return r!=null&&u(n,["functionCallingConfig"],MT(r)),n}function A0(t,e){let n={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=a(t,["computerUse"]);o!=null&&u(n,["computerUse"],o);let r=a(t,["fileSearch"]);r!=null&&u(n,["fileSearch"],r);let i=a(t,["codeExecution"]);if(i!=null&&u(n,["codeExecution"],i),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>h)),u(n,["functionDeclarations"],p)}let l=a(t,["googleMaps"]);l!=null&&u(n,["googleMaps"],t0(l));let c=a(t,["googleSearch"]);c!=null&&u(n,["googleSearch"],n0(c));let d=a(t,["googleSearchRetrieval"]);d!=null&&u(n,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&u(n,["urlContext"],f),n}function pg(t,e){let n={},o=a(t,["retrieval"]);o!=null&&u(n,["retrieval"],o);let r=a(t,["computerUse"]);if(r!=null&&u(n,["computerUse"],r),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=a(t,["codeExecution"]);i!=null&&u(n,["codeExecution"],i);let s=a(t,["enterpriseWebSearch"]);s!=null&&u(n,["enterpriseWebSearch"],s);let l=a(t,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>NT(g))),u(n,["functionDeclarations"],h)}let c=a(t,["googleMaps"]);c!=null&&u(n,["googleMaps"],c);let d=a(t,["googleSearch"]);d!=null&&u(n,["googleSearch"],d);let f=a(t,["googleSearchRetrieval"]);f!=null&&u(n,["googleSearchRetrieval"],f);let p=a(t,["urlContext"]);return p!=null&&u(n,["urlContext"],p),n}function M0(t,e){let n={},o=a(t,["baseModel"]);o!=null&&u(n,["baseModel"],o);let r=a(t,["createTime"]);r!=null&&u(n,["createTime"],r);let i=a(t,["updateTime"]);return i!=null&&u(n,["updateTime"],i),n}function N0(t,e){let n={},o=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&u(n,["baseModel"],o);let r=a(t,["createTime"]);r!=null&&u(n,["createTime"],r);let i=a(t,["updateTime"]);return i!=null&&u(n,["updateTime"],i),n}function b0(t,e,n){let o={},r=a(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);let i=a(t,["description"]);e!==void 0&&i!=null&&u(e,["description"],i);let s=a(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&u(e,["defaultCheckpointId"],s),o}function x0(t,e,n){let o={},r=a(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);let i=a(t,["description"]);e!==void 0&&i!=null&&u(e,["description"],i);let s=a(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&u(e,["defaultCheckpointId"],s),o}function R0(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","name"],G(t,r));let i=a(e,["config"]);return i!=null&&b0(i,o),o}function P0(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["config"]);return i!=null&&x0(i,o),o}function k0(t,e,n){let o={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);let i=a(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&u(e,["parameters","safetySetting"],i);let s=a(t,["personGeneration"]);e!==void 0&&s!=null&&u(e,["parameters","personGeneration"],s);let l=a(t,["includeRaiReason"]);e!==void 0&&l!=null&&u(e,["parameters","includeRaiReason"],l);let c=a(t,["outputMimeType"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","mimeType"],c);let d=a(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);let f=a(t,["enhanceInputImage"]);e!==void 0&&f!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],f);let p=a(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],p);let h=a(t,["labels"]);e!==void 0&&h!=null&&u(e,["labels"],h);let g=a(t,["numberOfImages"]);e!==void 0&&g!=null&&u(e,["parameters","sampleCount"],g);let m=a(t,["mode"]);return e!==void 0&&m!=null&&u(e,["parameters","mode"],m),o}function F0(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["image"]);i!=null&&u(o,["instances[0]","image"],Ke(i));let s=a(e,["upscaleFactor"]);s!=null&&u(o,["parameters","upscaleConfig","upscaleFactor"],s);let l=a(e,["config"]);return l!=null&&k0(l,o),o}function L0(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>cs(s))),u(n,["generatedImages"],i)}return n}function O0(t,e){let n={},o=a(t,["uri"]);o!=null&&u(n,["uri"],o);let r=a(t,["encodedVideo"]);r!=null&&u(n,["videoBytes"],wt(r));let i=a(t,["encoding"]);return i!=null&&u(n,["mimeType"],i),n}function V0(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&u(n,["uri"],o);let r=a(t,["bytesBase64Encoded"]);r!=null&&u(n,["videoBytes"],wt(r));let i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function U0(t,e){let n={},o=a(t,["image"]);o!=null&&u(n,["_self"],Ke(o));let r=a(t,["maskMode"]);return r!=null&&u(n,["maskMode"],r),n}function H0(t,e){let n={},o=a(t,["image"]);o!=null&&u(n,["image"],ds(o));let r=a(t,["referenceType"]);return r!=null&&u(n,["referenceType"],r),n}function B0(t,e){let n={},o=a(t,["image"]);o!=null&&u(n,["image"],Ke(o));let r=a(t,["referenceType"]);return r!=null&&u(n,["referenceType"],r),n}function hg(t,e){let n={},o=a(t,["uri"]);o!=null&&u(n,["uri"],o);let r=a(t,["videoBytes"]);r!=null&&u(n,["encodedVideo"],wt(r));let i=a(t,["mimeType"]);return i!=null&&u(n,["encoding"],i),n}function gg(t,e){let n={},o=a(t,["uri"]);o!=null&&u(n,["gcsUri"],o);let r=a(t,["videoBytes"]);r!=null&&u(n,["bytesBase64Encoded"],wt(r));let i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function G0(t,e){let n={},o=a(t,["displayName"]);return e!==void 0&&o!=null&&u(e,["displayName"],o),n}function $0(t){let e={},n=a(t,["config"]);return n!=null&&G0(n,e),e}function q0(t,e){let n={},o=a(t,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),n}function z0(t){let e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);let o=a(t,["config"]);return o!=null&&q0(o,e),e}function W0(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function J0(t,e){let n={},o=a(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["customMetadata"],i)}let r=a(t,["chunkingConfig"]);return e!==void 0&&r!=null&&u(e,["chunkingConfig"],r),n}function Y0(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],j0(s)),e}function K0(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);let o=a(t,["fileName"]);o!=null&&u(e,["fileName"],o);let r=a(t,["config"]);return r!=null&&J0(r,e),e}function j0(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&u(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function Z0(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function Q0(t){let e={},n=a(t,["config"]);return n!=null&&Z0(n,e),e}function X0(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["fileSearchStores"],i)}return e}function mg(t,e){let n={},o=a(t,["mimeType"]);e!==void 0&&o!=null&&u(e,["mimeType"],o);let r=a(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);let i=a(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),u(e,["customMetadata"],l)}let s=a(t,["chunkingConfig"]);return e!==void 0&&s!=null&&u(e,["chunkingConfig"],s),n}function eS(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);let o=a(t,["config"]);return o!=null&&mg(o,e),e}function tS(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}var nS="Content-Type",oS="X-Server-Timeout",rS="User-Agent",ju="x-goog-api-client",iS="1.39.0",sS=`google-genai-sdk/${iS}`,aS="v1beta1",lS="v1beta",Zu=class{constructor(e){var n,o,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));let i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");let l=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!l?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:aS}else{if(!this.clientOptions.apiKey)throw new Jo({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:lS,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){let e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){let r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Kh.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e,n),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(let[s,l]of Object.entries(e.queryParams))r.searchParams.append(s,String(l));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){let o=JSON.parse(JSON.stringify(e));for(let[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e,n),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){let i=new AbortController,s=i.signal;if(n.timeout&&n?.timeout>0){let l=setTimeout(()=>i.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&uS(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await kh(r),new Wo(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await kh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return We(this,arguments,function*(){var o;let r=(o=e?.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="",l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:d,value:f}=yield x(r.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let p=i.decode(f,{stream:!0});try{let m=JSON.parse(p);if("error"in m){let y=JSON.parse(JSON.stringify(m.error)),E=y.status,v=y.code,D=`got status: ${E}. ${JSON.stringify(m)}`;if(v>=400&&v<600)throw new Jo({message:D,status:v})}}catch(m){if(m.name==="ApiError")throw m}s+=p;let h=-1,g=0;for(;;){h=-1,g=0;for(let E of c){let v=s.indexOf(E);v!==-1&&(h===-1||v<h)&&(h=v,g=E.length)}if(h===-1)break;let m=s.substring(0,h);s=s.substring(h+g);let y=m.trim();if(y.startsWith(l)){let E=y.substring(l.length).trim();try{let v=new Response(E,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield x(new Wo(v))}catch(v){throw new Error(`exception parsing stream chunk ${E}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){let e={},n=sS+" "+this.clientOptions.userAgentExtra;return e[rS]=n,e[ju]=n,e[nS]="application/json",e}async getHeadersInternal(e,n){let o=new Headers;if(e&&e.headers){for(let[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(oS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;let r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);let i=this.clientOptions.uploader,s=await i.stat(e);r.sizeBytes=String(s.size);let l=(o=n?.mimeType)!==null&&o!==void 0?o:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=l;let c={file:r},d=this.getFileName(e),f=S("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n?.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,o){var r;let i=this.clientOptions.uploader,s=await i.stat(n),l=String(s.size),c=(r=o?.mimeType)!==null&&r!==void 0?r:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};o!=null&&mg(o,p);let h=await this.fetchUploadUrl(d,l,c,f,p,o?.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,s){var l;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};let d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let f=(l=d?.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}};async function kh(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};let r=JSON.stringify(o);throw n>=400&&n<600?new Jo({message:r,status:n}):new Error(r)}}function uS(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,s){let l=Object.assign({},i);for(let c in s)if(Object.prototype.hasOwnProperty.call(s,c)){let d=s[c],f=l[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?l[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),l[c]=d)}return l}let r=o(n,e);t.body=JSON.stringify(r)}var cS="mcp_used/unknown",dS=!1;function yg(t){for(let e of t)if(fS(e)||typeof e=="object"&&"inputSchema"in e)return!0;return dS}function vg(t){var e;let n=(e=t[ju])!==null&&e!==void 0?e:"";t[ju]=(n+` ${cS}`).trimStart()}function fS(t){return t!==null&&typeof t=="object"&&t instanceof Qu}function pS(t){return We(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){let s=yield x(n.listTools({cursor:r}));for(let l of s.tools)yield yield x(l),i++;if(!s.nextCursor)break;r=s.nextCursor}})}var Qu=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;let i={},s=[];for(let f of this.mcpClients)try{for(var l=!0,c=(n=void 0,Je(pS(f))),d;d=await c.next(),e=d.done,!e;l=!0){r=d.value,l=!1;let p=r;s.push(p);let h=p.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=f}}catch(p){n={error:p}}finally{try{!l&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),YI(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let o of e)if(o.name in this.functionNameToMcpClient){let r=this.functionNameToMcpClient[o.name],i;this.config.timeout&&(i={timeout:this.config.timeout});let s=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}};async function hS(t,e,n){let o=new Uu,r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}var Xu=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=mS(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`,d=()=>{},f=new Promise(T=>{d=T}),p=e.callbacks,h=function(){d({})},g=this.apiClient,m={onopen:h,onmessage:T=>{hS(g,p.onmessage,T)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(T){},onclose:(o=p?.onclose)!==null&&o!==void 0?o:function(T){}},y=this.webSocketFactory.create(c,gS(s),m);y.connect(),await f;let D={setup:{model:G(this.apiClient,e.model)}};return y.send(JSON.stringify(D)),new ec(y,this.apiClient)}},ec=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=GD(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=BD(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){let n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(qo.PLAY)}pause(){this.sendPlaybackControl(qo.PAUSE)}stop(){this.sendPlaybackControl(qo.STOP)}resetContext(){this.sendPlaybackControl(qo.RESET_CONTEXT)}close(){this.conn.close()}};function gS(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function mS(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var yS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vS(t,e,n){let o=new Vu,r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;let i=JSON.parse(r);if(t.isVertexAI()){let s=zD(i);Object.assign(o,s)}else Object.assign(o,i);e(o)}var tc=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new Xu(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f,p=this.apiClient.getHeaders();e.config&&e.config.tools&&yg(e.config.tools)&&vg(p);let h=IS(p);if(this.apiClient.isVertexAI()){let M=this.apiClient.getProject(),O=this.apiClient.getLocation(),ne=this.apiClient.getApiKey(),Te=!!M&&!!O||!!ne;this.apiClient.getCustomBaseUrl()&&!Te?f=c:(f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f))}else{let M=this.apiClient.getApiKey(),O="BidiGenerateContent",ne="key";M?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",ne="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${O}?${ne}=${M}`}let g=()=>{},m=new Promise(M=>{g=M}),y=e.callbacks,E=function(){var M;(M=y?.onopen)===null||M===void 0||M.call(y),g({})},v=this.apiClient,D={onopen:E,onmessage:M=>{vS(v,y.onmessage,M)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(M){},onclose:(o=y?.onclose)!==null&&o!==void 0?o:function(M){}},T=this.webSocketFactory.create(f,CS(h),D);T.connect(),await m;let w=G(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){let M=this.apiClient.getProject(),O=this.apiClient.getLocation();M&&O&&(w=`projects/${M}/locations/${O}/`+w)}let C={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Tu.AUDIO]}:e.config.responseModalities=[Tu.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let L=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],F=[];for(let M of L)if(this.isCallableTool(M)){let O=M;F.push(await O.tool())}else F.push(M);F.length>0&&(e.config.tools=F);let Q={model:w,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=HD(this.apiClient,Q):C=UD(this.apiClient,Q),delete C.config,T.send(JSON.stringify(C)),new nc(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},ES={turnComplete:!0},nc=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Ue(n.turns),e.isVertexAI()||(o=o.map(r=>us(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(let i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(yS)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},ES),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:qD(e)}:n={realtimeInput:$D(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function CS(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function IS(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var Fh=10;function Lh(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(let s of(n=t?.tools)!==null&&n!==void 0?n:[])if(Hn(s)){r=!0;break}if(!r)return!0;let i=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Hn(t){return"callTool"in t&&typeof t.callTool=="function"}function _S(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Hn(r)))!==null&&o!==void 0?o:!1}function Oh(t){var e;let n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(Hn(o))return;let i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function Vh(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var oc=class extends Ye{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,s,l;let c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!_S(n)||Lh(n.config))return await this.generateContentInternal(c);let d=Oh(n);if(d.length>0){let y=d.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let f,p,h=Ue(c.contents),g=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Fh,m=0;for(;m<g&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){let y=f.candidates[0].content,E=[];for(let v of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(Hn(v)){let T=await v.callTool(f.functionCalls);E.push(...T)}m++,p={role:"user",parts:E},c.contents=Ue(c.contents),c.contents.push(y),c.contents.push(p),Vh(c.config)&&(h.push(y),h.push(p))}return Vh(c.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var o,r,i,s,l;if(this.maybeMoveToResponseJsonSchem(n),Lh(n.config)){let p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}let c=Oh(n);if(c.length>0){let p=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let d=(i=(r=(o=n?.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(l=(s=n?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i,s=[];if(o?.generatedImages)for(let c of o.generatedImages)c&&c?.safetyAttributes&&((r=c?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c?.safetyAttributes:s.push(c);let l;return i?l={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},l}),this.list=async n=>{var o;let s={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Et(At.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{let o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));let r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,s,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;let i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;let s=await Promise.all(i.map(async c=>Hn(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&yg(e.config.tools)){let c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{},d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),vg(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,o,r;let i=new Map;for(let s of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Hn(s)){let l=s,c=await l.tool();for(let d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,l)}}return i}async processAfcStream(e){var n,o,r;let i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Fh,s=!1,l=0,c=await this.initAfcToolsMap(e);return(function(d,f,p){return We(this,arguments,function*(){for(var h,g,m,y,E,v;l<i;){s&&(l++,s=!1);let C=yield x(d.processParamsMaybeAddMcpUsage(p)),L=yield x(d.generateContentStreamInternal(C)),F=[],Q=[];try{for(var D=!0,T=(g=void 0,Je(L)),w;w=yield x(T.next()),h=w.done,!h;D=!0){y=w.value,D=!1;let M=y;if(yield yield x(M),M.candidates&&(!((E=M.candidates[0])===null||E===void 0)&&E.content)){Q.push(M.candidates[0].content);for(let O of(v=M.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(l<i&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(O.functionCall.name)){let ne=yield x(f.get(O.functionCall.name).callTool([O.functionCall]));F.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(M){g={error:M}}finally{try{!D&&!h&&(m=T.return)&&(yield x(m.call(T)))}finally{if(g)throw g.error}}if(F.length>0){s=!0;let M=new en;M.candidates=[{content:{role:"user",parts:F}}],yield yield x(M);let O=[];O.push(...Q),O.push({role:"user",parts:F});let ne=Ue(p.contents).concat(O);p.contents=ne}else break}})})(this,c,e)}async generateContentInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=xh(this.apiClient,e);return l=S("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Ph(f),h=new en;return Object.assign(h,p),h})}else{let d=bh(this.apiClient,e);return l=S("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Rh(f),h=new en;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=xh(this.apiClient,e);return l=S("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return We(this,arguments,function*(){var h,g,m,y;try{for(var E=!0,v=Je(p),D;D=yield x(v.next()),h=D.done,!h;E=!0){y=D.value,E=!1;let T=y,w=Ph(yield x(T.json()),e);w.sdkHttpResponse={headers:T.headers};let C=new en;Object.assign(C,w),yield yield x(C)}}catch(T){g={error:T}}finally{try{!E&&!h&&(m=v.return)&&(yield x(m.call(v)))}finally{if(g)throw g.error}}})})}else{let d=bh(this.apiClient,e);return l=S("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return We(this,arguments,function*(){var h,g,m,y;try{for(var E=!0,v=Je(p),D;D=yield x(v.next()),h=D.done,!h;E=!0){y=D.value,E=!1;let T=y,w=Rh(yield x(T.json()),e);w.sdkHttpResponse={headers:T.headers};let C=new en;Object.assign(C,w),yield yield x(C)}}catch(T){g={error:T}}finally{try{!E&&!h&&(m=v.return)&&(yield x(m.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=_T(this.apiClient,e);return l=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=TT(f),h=new Li;return Object.assign(h,p),h})}else{let d=IT(this.apiClient,e);return l=S("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=DT(f),h=new Li;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=FT(this.apiClient,e);return l=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=OT(f),h=new Oi;return Object.assign(h,p),h})}else{let d=kT(this.apiClient,e);return l=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=LT(f),h=new Oi;return Object.assign(h,p),h})}}async editImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=yT(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=vT(c),f=new Su;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=F0(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=L0(c),f=new wu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=m0(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=y0(c),f=new Au;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=D0(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=T0(c),f=new Mu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=e0(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Ku(f))}else{let d=XT(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Yu(f))}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=u0(this.apiClient,e);return l=S("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=d0(f),h=new Vi;return Object.assign(h,p),h})}else{let d=l0(this.apiClient,e);return l=S("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=c0(f),h=new Vi;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=P0(this.apiClient,e);return l=S("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Ku(f))}else{let d=R0(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Yu(f))}}async delete(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=pT(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=gT(f),h=new Ui;return Object.assign(h,p),h})}else{let d=fT(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=hT(f),h=new Ui;return Object.assign(h,p),h})}}async countTokens(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=uT(this.apiClient,e);return l=S("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=dT(f),h=new Hi;return Object.assign(h,p),h})}else{let d=lT(this.apiClient,e);return l=S("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=cT(f),h=new Hi;return Object.assign(h,p),h})}}async computeTokens(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=tT(this.apiClient,e);return i=S("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=nT(c),f=new Nu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=$T(this.apiClient,e);return l=S("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{let p=BT(f),h=new Bi;return Object.assign(h,p),h})}else{let d=GT(this.apiClient,e);return l=S("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=HT(f),h=new Bi;return Object.assign(h,p),h})}}};var rc=class extends Ye{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=FI(e);return l=S("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}else{let d=kI(e);return l=S("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=AI(e);return i=S("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}};function DS(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function TS(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>PS(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function SS(t,e,n){let o={},r=a(e,["expireTime"]);n!==void 0&&r!=null&&u(n,["expireTime"],r);let i=a(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&u(n,["newSessionExpireTime"],i);let s=a(e,["uses"]);n!==void 0&&s!=null&&u(n,["uses"],s);let l=a(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&u(n,["bidiGenerateContentSetup"],RS(t,l));let c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),o}function wS(t,e){let n={},o=a(e,["config"]);return o!=null&&u(n,["config"],SS(t,o,n)),n}function AS(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function MS(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NS(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function bS(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function xS(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],wc(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["setup","systemInstruction"],TS(fe(m)));let y=a(t,["tools"]);if(e!==void 0&&y!=null){let L=qn(y);Array.isArray(L)&&(L=L.map(F=>FS($n(F)))),u(e,["setup","tools"],L)}let E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&u(e,["setup","sessionResumption"],kS(E));let v=a(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&u(e,["setup","inputAudioTranscription"],v);let D=a(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&u(e,["setup","outputAudioTranscription"],D);let T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);let w=a(t,["contextWindowCompression"]);e!==void 0&&w!=null&&u(e,["setup","contextWindowCompression"],w);let C=a(t,["proactivity"]);if(e!==void 0&&C!=null&&u(e,["setup","proactivity"],C),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function RS(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["setup","model"],G(t,o));let r=a(e,["config"]);return r!=null&&u(n,["config"],xS(r,n)),n}function PS(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],AS(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],MS(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],DS(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function kS(t){let e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function FS(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&u(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&u(e,["googleMaps"],NS(s));let l=a(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],bS(l));let c=a(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function LS(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){let r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function OS(t,e){let n=null,o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){let i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;let r=t.fieldMask;if(n){let i=LS(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?t.fieldMask=i:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],l=[];r.length>0&&(l=r.map(d=>s.includes(d)?`generationConfig.${d}`:d));let c=[];i&&c.push(i),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}var ic=class extends Ye{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let l=wS(this.apiClient,e);i=S("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;let c=OS(l,e.config);return r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}};function VS(t,e){let n={},o=a(t,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),n}function US(t){let e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);let o=a(t,["config"]);return o!=null&&VS(o,e),e}function HS(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function BS(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function GS(t){let e={},n=a(t,["parent"]);n!=null&&u(e,["_url","parent"],n);let o=a(t,["config"]);return o!=null&&BS(o,e),e}function $S(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["documents"],i)}return e}var sc=class extends Ye{constructor(e){super(),this.apiClient=e,this.list=async n=>new Et(At.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=HS(e);return i=S("{name}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=US(e);r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=GS(e);return i=S("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=$S(c),f=new bu;return Object.assign(f,d),f})}}};var ac=class extends Ye{constructor(e,n=new sc(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new Et(At.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=$0(e);return i=S("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=W0(e);return i=S("{name}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=z0(e);r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=Q0(e);return i=S("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=X0(c),f=new xu;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=eS(e);return i=S("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=tS(c),f=new Ru;return Object.assign(f,d),f})}}async importFile(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=K0(e);return i=S("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=Y0(c),f=new Pu;return Object.assign(f,d),f})}}};var Eg=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return Eg=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))},qS=()=>Eg();function lc(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var uc=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var _e=class extends Error{},De=class t extends _e{constructor(e,n,o,r){super(`${t.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){let r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new Bn({message:o,cause:uc(n)});let i=n;return e===400?new ji(e,i,o,r):e===401?new Zi(e,i,o,r):e===403?new Qi(e,i,o,r):e===404?new Xi(e,i,o,r):e===409?new es(e,i,o,r):e===422?new ts(e,i,o,r):e===429?new ns(e,i,o,r):e>=500?new os(e,i,o,r):new t(e,i,o,r)}},Yo=class extends De{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Bn=class extends De{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},Ki=class extends Bn{constructor({message:e}={}){super({message:e??"Request timed out."})}},ji=class extends De{},Zi=class extends De{},Qi=class extends De{},Xi=class extends De{},es=class extends De{},ts=class extends De{},ns=class extends De{},os=class extends De{};var zS=/^[a-z][a-z0-9+.-]*:/i,WS=t=>zS.test(t),cc=t=>(cc=Array.isArray,cc(t)),JS=cc,YS=JS,Uh=YS;function KS(t){if(!t)return!0;for(let e in t)return!1;return!0}function jS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var ZS=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new _e(`${t} must be an integer`);if(e<0)throw new _e(`${t} must be a positive integer`);return e},QS=t=>{try{return JSON.parse(t)}catch{return}};var XS=t=>new Promise(e=>setTimeout(e,t));var Vn="0.0.1";function ew(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var tw=()=>{var t,e,n,o,r;let i=ew();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vn,"X-Stainless-OS":Bh(Deno.build.os),"X-Stainless-Arch":Hh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vn,"X-Stainless-OS":Bh((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Hh((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};let s=nw();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function nw(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:n}of t){let o=n.exec(navigator.userAgent);if(o){let r=o[1]||0,i=o[2]||0,s=o[3]||0;return{browser:e,version:`${r}.${i}.${s}`}}}return null}var Hh=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Bh=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),Ni,ow=()=>Ni??(Ni=tw());function rw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Cg(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function iw(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Cg({start(){},async pull(n){let{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Ig(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){let n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function sw(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}let o=t.getReader(),r=o.cancel();o.releaseLock(),await r}var aw=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var _g=()=>{var t;if(typeof File>"u"){let{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Cu(t,e,n){return _g(),new File(t,e??"unknown_file",n)}function lw(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var uw=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var Dg=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",cw=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Dg(t),dw=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function fw(t,e,n){if(_g(),t=await t,cw(t))return t instanceof File?t:Cu([await t.arrayBuffer()],t.name);if(dw(t)){let r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Cu(await dc(r),e,n)}let o=await dc(t);if(e||(e=lw(t)),!n?.type){let r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return Cu(o,e,n)}async function dc(t){var e,n,o,r,i;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Dg(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(uw(t))try{for(var l=!0,c=Je(t),d;d=await c.next(),e=d.done,!e;l=!0){r=d.value,l=!1;let f=r;s.push(...await dc(f))}}catch(f){n={error:f}}finally{try{!l&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{let f=(i=t?.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${pw(t)}`)}return s}function pw(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}var hw=(()=>{class t{constructor(n){this._client=n}}t._key=[];return t})();function Tg(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var Gh=Object.freeze(Object.create(null)),gw=(t=Tg)=>function(n,...o){if(n.length===1)return n[0];let r=!1,i=[],s=n.reduce((f,p,h)=>{var g,m,y;/[?#]/.test(p)&&(r=!0);let E=o[h],v=(r?encodeURIComponent:t)(""+E);return h!==o.length&&(E==null||typeof E=="object"&&E.toString===((y=Object.getPrototypeOf((m=Object.getPrototypeOf((g=E.hasOwnProperty)!==null&&g!==void 0?g:Gh))!==null&&m!==void 0?m:Gh))===null||y===void 0?void 0:y.toString))&&(v=E+"",i.push({start:f.length+p.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),f+p+(h===o.length?"":v)},""),l=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,d;for(;(d=c.exec(l))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,p)=>f.start-p.start),i.length>0){let f=0,p=i.reduce((h,g)=>{let m=" ".repeat(g.start-f),y="^".repeat(g.length);return f=g.start+g.length,h+m+y},"");throw new _e(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${s}
${p}`)}return s},bi=gw(Tg);var rs=class extends hw{create(e,n){var o;let{api_version:r=this._client.apiVersion}=e,i=Yi(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new _e("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new _e("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(bi`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){let{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(bi`/${r}/interactions/${e}`,o)}cancel(e,n={},o){let{api_version:r=this._client.apiVersion}=n??{};return this._client.post(bi`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;let i=n??{},{api_version:s=this._client.apiVersion}=i,l=Yi(i,["api_version"]);return this._client.get(bi`/${s}/interactions/${e}`,Object.assign(Object.assign({query:l},o),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}};rs._key=Object.freeze(["interactions"]);var is=class extends rs{};function mw(t){let e=0;for(let r of t)e+=r.length;let n=new Uint8Array(e),o=0;for(let r of t)n.set(r,o),o+=r.length;return n}var xi;function Ac(t){let e;return(xi??(e=new globalThis.TextEncoder,xi=e.encode.bind(e)))(t)}var Ri;function $h(t){let e;return(Ri??(e=new globalThis.TextDecoder,Ri=e.decode.bind(e)))(t)}var Gn=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];let n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ac(e):e;this.buffer=mw([this.buffer,n]);let o=[],r;for(;(r=yw(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push($h(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,s=$h(this.buffer.subarray(0,i));o.push(s),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}};Gn.NEWLINE_CHARS=new Set([`
`,"\r"]);Gn.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function yw(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function vw(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}var ss={off:0,error:200,warn:300,info:400,debug:500},qh=(t,e,n)=>{if(t){if(jS(ss,t))return t;ye(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ss))}`)}};function zo(){}function Pi(t,e,n){return!e||ss[t]>ss[n]?zo:e[t].bind(e)}var Ew={error:zo,warn:zo,info:zo,debug:zo},zh=new WeakMap;function ye(t){var e;let n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Ew;let r=zh.get(n);if(r&&r[0]===o)return r[1];let i={error:Pi("error",n,o),warn:Pi("warn",n,o),info:Pi("info",n,o),debug:Pi("debug",n,o)};return zh.set(n,[o,i]),i}var Xt=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var fc=class t{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1,i=o?ye(o):console;function s(){return We(this,arguments,function*(){var c,d,f,p;if(r)throw new _e("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,m=Je(Cw(e,n)),y;y=yield x(m.next()),c=y.done,!c;g=!0){p=y.value,g=!1;let E=p;if(!h)if(E.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield x(JSON.parse(E.data))}catch(v){throw i.error("Could not parse message into JSON:",E.data),i.error("From chunk:",E.raw),v}}}catch(E){d={error:E}}finally{try{!g&&!c&&(f=m.return)&&(yield x(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(E){if(lc(E))return yield x(void 0);throw E}finally{h||n.abort()}})}return new t(s,n,o)}static fromReadableStream(e,n,o){let r=!1;function i(){return We(this,arguments,function*(){var c,d,f,p;let h=new Gn,g=Ig(e);try{for(var m=!0,y=Je(g),E;E=yield x(y.next()),c=E.done,!c;m=!0){p=E.value,m=!1;let v=p;for(let D of h.decode(v))yield yield x(D)}}catch(v){d={error:v}}finally{try{!m&&!c&&(f=y.return)&&(yield x(f.call(y)))}finally{if(d)throw d.error}}for(let v of h.flush())yield yield x(v)})}function s(){return We(this,arguments,function*(){var c,d,f,p;if(r)throw new _e("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,m=Je(i()),y;y=yield x(m.next()),c=y.done,!c;g=!0){p=y.value,g=!1;let E=p;h||E&&(yield yield x(JSON.parse(E)))}}catch(E){d={error:E}}finally{try{!g&&!c&&(f=m.return)&&(yield x(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(E){if(lc(E))return yield x(void 0);throw E}finally{h||n.abort()}})}return new t(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){let s=o.next();e.push(s),n.push(s)}return i.shift()}});return[new t(()=>r(e),this.controller,this.client),new t(()=>r(n),this.controller,this.client)]}toReadableStream(){let e=this,n;return Cg({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{let{value:r,done:i}=await n.next();if(i)return o.close();let s=Ac(JSON.stringify(r)+`
`);o.enqueue(s)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}};function Cw(t,e){return We(this,arguments,function*(){var o,r,i,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new _e("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new _e("Attempted to iterate over a response with no body");let l=new pc,c=new Gn,d=Ig(t.body);try{for(var f=!0,p=Je(Iw(d)),h;h=yield x(p.next()),o=h.done,!o;f=!0){s=h.value,f=!1;let g=s;for(let m of c.decode(g)){let y=l.decode(m);y&&(yield yield x(y))}}}catch(g){r={error:g}}finally{try{!f&&!o&&(i=p.return)&&(yield x(i.call(p)))}finally{if(r)throw r.error}}for(let g of c.flush()){let m=l.decode(g);m&&(yield yield x(m))}})}function Iw(t){return We(this,arguments,function*(){var n,o,r,i;let s=new Uint8Array;try{for(var l=!0,c=Je(t),d;d=yield x(c.next()),n=d.done,!n;l=!0){i=d.value,l=!1;let f=i;if(f==null)continue;let p=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?Ac(f):f,h=new Uint8Array(s.length+p.length);h.set(s),h.set(p,s.length),s=h;let g;for(;(g=vw(s))!==-1;)yield yield x(s.slice(0,g)),s=s.slice(g)}}catch(f){o={error:f}}finally{try{!l&&!n&&(r=c.return)&&(yield x(r.call(c)))}finally{if(o)throw o.error}}s.length>0&&(yield yield x(s))})}var pc=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=_w(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function _w(t,e){let n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function Dw(t,e){let{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=e,s=await(async()=>{var l;if(e.options.stream)return ye(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):fc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;let c=n.headers.get("content-type"),d=(l=c?.split(";")[0])===null||l===void 0?void 0:l.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return ye(t).debug(`[${o}] response parsed`,Xt({retryOfRequestLogID:r,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}var hc=class t extends Promise{constructor(e,n,o=Dw){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new t(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};var Sg=Symbol("brand.privateNullableHeaders");function*Tw(t){if(!t)return;if(Sg in t){let{values:o,nulls:r}=t;yield*o.entries();for(let i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Uh(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){let r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");let i=Uh(o[1])?o[1]:[o[1]],s=!1;for(let l of i)l!==void 0&&(e&&!s&&(s=!0,yield[r,null]),yield[r,l])}}var $o=t=>{let e=new Headers,n=new Set;for(let o of t){let r=new Set;for(let[i,s]of Tw(o)){let l=i.toLowerCase();r.has(l)||(e.delete(i),r.add(l)),s===null?(e.delete(i),n.add(l)):(e.append(i,s),n.delete(l))}}return{[Sg]:!0,values:e,nulls:n}};var Iu=t=>{var e,n,o,r,i,s;if(typeof globalThis.process<"u")return(o=(n=(e=globalThis.process.env)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t))===null||s===void 0?void 0:s.trim()};var wg,Sw=(()=>{class t{constructor(n){var o,r,i,s,l,c,d,{baseURL:f=Iu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(o=Iu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:h="v1beta"}=n,g=Yi(n,["baseURL","apiKey","apiVersion"]);let m=Object.assign(Object.assign({apiKey:p,apiVersion:h},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:t.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;let y="warn";this.logLevel=y,this.logLevel=(l=(s=qh(m.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:qh(Iu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:y,this.fetchOptions=m.fetchOptions,this.maxRetries=(c=m.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=m.fetch)!==null&&d!==void 0?d:rw(),this.encoder=aw,this._options=m,this.apiKey=p,this.apiVersion=h,this.clientAdapter=m.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:o}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){let o=$o([n.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return $o([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return $o([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([o,r])=>typeof r<"u").map(([o,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(o)}=`;throw new _e(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Vn}`}defaultIdempotencyKey(){return`stainless-node-retry-${qS()}`}makeStatusError(n,o,r,i){return De.generate(n,o,r,i)}buildURL(n,o,r){let i=!this.baseURLOverridden()&&r||this.baseURL,s=WS(n)?new URL(n):new URL(i+(i.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),l=this.defaultQuery();return KS(l)||(o=Object.assign(Object.assign({},l),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(s.search=this.stringifyQuery(o)),s.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){let o=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(n,{url:o,options:r}){}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:n,path:o},i)))}request(n,o=null){return new hc(this,this.makeRequest(n,o,void 0))}async makeRequest(n,o,r){var i,s,l;let c=await n,d=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;o==null&&(o=d),await this.prepareOptions(c);let{req:f,url:p,timeout:h}=await this.buildRequest(c,{retryCount:d-o});await this.prepareRequest(f,{url:p,options:c});let g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(ye(this).debug(`[${g}] sending request`,Xt({retryOfRequestLogID:r,method:c.method,url:p,options:c,headers:f.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new Yo;let E=new AbortController,v=await this.fetchWithTimeout(p,f,h,E).catch(uc),D=Date.now();if(v instanceof globalThis.Error){let w=`retrying, ${o} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new Yo;let C=lc(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(o)return ye(this).info(`[${g}] connection ${C?"timed out":"failed"} - ${w}`),ye(this).debug(`[${g}] connection ${C?"timed out":"failed"} (${w})`,Xt({retryOfRequestLogID:r,url:p,durationMs:D-y,message:v.message})),this.retryRequest(c,o,r??g);throw ye(this).info(`[${g}] connection ${C?"timed out":"failed"} - error; no more retries left`),ye(this).debug(`[${g}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Xt({retryOfRequestLogID:r,url:p,durationMs:D-y,message:v.message})),C?new Ki:new Bn({cause:v})}let T=`[${g}${m}] ${f.method} ${p} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${D-y}ms`;if(!v.ok){let w=await this.shouldRetry(v);if(o&&w){let O=`retrying, ${o} attempts remaining`;return await sw(v.body),ye(this).info(`${T} - ${O}`),ye(this).debug(`[${g}] response error (${O})`,Xt({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:D-y})),this.retryRequest(c,o,r??g,v.headers)}let C=w?"error; no more retries left":"error; not retryable";ye(this).info(`${T} - ${C}`);let L=await v.text().catch(O=>uc(O).message),F=QS(L),Q=F?void 0:L;throw ye(this).debug(`[${g}] response error (${C})`,Xt({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:Q,durationMs:Date.now()-y})),this.makeStatusError(v.status,F,Q,v.headers)}return ye(this).info(T),ye(this).debug(`[${g}] response start`,Xt({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:D-y})),{response:v,options:c,controller:E,requestLogID:g,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(n,o,r,i){let s=o||{},{signal:l,method:c}=s,d=Yi(s,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());let f=setTimeout(()=>i.abort(),r),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);c&&(h.method=c.toUpperCase());try{return await this.fetch.call(void 0,n,h)}finally{clearTimeout(f)}}async shouldRetry(n){let o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,r,i){var s;let l,c=i?.get("retry-after-ms");if(c){let f=parseFloat(c);Number.isNaN(f)||(l=f)}let d=i?.get("retry-after");if(d&&!l){let f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){let f=(s=n.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(o,f)}return await XS(l),this.makeRequest(n,o-1,r)}calculateDefaultRetryTimeoutMillis(n,o){let s=o-n,l=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(n,{retryCount:o=0}={}){var r,i,s;let l=Object.assign({},n),{method:c,path:d,query:f,defaultBaseURL:p}=l,h=this.buildURL(d,f,p);"timeout"in l&&ZS("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;let{bodyHeaders:g,body:m}=this.buildBody({options:l}),y=await this.buildHeaders({options:n,method:c,bodyHeaders:g,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:y},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:h,timeout:l.timeout}}async buildHeaders({options:n,method:o,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&o!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=n.idempotencyKey);let l=await this.authHeaders(n),c=$o([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),ow()),this._options.defaultHeaders,r,n.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:n,headers:o}}){if(!n)return{bodyHeaders:void 0,body:void 0};let r=$o([o]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&r.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:iw(n)}:this.encoder({body:n,headers:r})}}return t.DEFAULT_TIMEOUT=6e4,t})(),ie=class extends Sw{constructor(){super(...arguments),this.interactions=new is(this)}};wg=ie;ie.GeminiNextGenAPIClient=wg;ie.GeminiNextGenAPIClientError=_e;ie.APIError=De;ie.APIConnectionError=Bn;ie.APIConnectionTimeoutError=Ki;ie.APIUserAbortError=Yo;ie.NotFoundError=Xi;ie.ConflictError=es;ie.RateLimitError=ns;ie.BadRequestError=ji;ie.AuthenticationError=Zi;ie.InternalServerError=os;ie.PermissionDeniedError=Qi;ie.UnprocessableEntityError=ts;ie.toFile=fw;ie.Interactions=is;function ww(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function Aw(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function Mw(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(n,["sdkHttpResponse"],o),n}function Nw(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(n,["sdkHttpResponse"],o),n}function bw(t,e,n){let o={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let r=a(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&u(e,["displayName"],r),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let i=a(t,["epochCount"]);e!==void 0&&i!=null&&u(e,["tuningTask","hyperparameters","epochCount"],i);let s=a(t,["learningRateMultiplier"]);if(s!=null&&u(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(a(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(a(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");let l=a(t,["batchSize"]);e!==void 0&&l!=null&&u(e,["tuningTask","hyperparameters","batchSize"],l);let c=a(t,["learningRate"]);if(e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","learningRate"],c),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(a(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(a(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(a(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(a(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return o}function xw(t,e,n){let o={},r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let C=a(t,["validationDataset"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec"],_u(C))}else if(r==="PREFERENCE_TUNING"){let C=a(t,["validationDataset"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec"],_u(C))}else if(r==="DISTILLATION"){let C=a(t,["validationDataset"]);e!==void 0&&C!=null&&u(e,["distillationSpec"],_u(C))}let i=a(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&u(e,["tunedModelDisplayName"],i);let s=a(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);let l=a(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let C=a(t,["epochCount"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(l==="PREFERENCE_TUNING"){let C=a(t,["epochCount"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}else if(l==="DISTILLATION"){let C=a(t,["epochCount"]);e!==void 0&&C!=null&&u(e,["distillationSpec","hyperParameters","epochCount"],C)}let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let C=a(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(c==="PREFERENCE_TUNING"){let C=a(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}else if(c==="DISTILLATION"){let C=a(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&u(e,["distillationSpec","hyperParameters","learningRateMultiplier"],C)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let C=a(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(d==="PREFERENCE_TUNING"){let C=a(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}else if(d==="DISTILLATION"){let C=a(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&u(e,["distillationSpec","exportLastCheckpointOnly"],C)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let C=a(t,["adapterSize"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(f==="PREFERENCE_TUNING"){let C=a(t,["adapterSize"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}else if(f==="DISTILLATION"){let C=a(t,["adapterSize"]);e!==void 0&&C!=null&&u(e,["distillationSpec","hyperParameters","adapterSize"],C)}let p=a(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){let C=a(t,["tuningMode"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","tuningMode"],C)}let h=a(t,["customBaseModel"]);e!==void 0&&h!=null&&u(e,["customBaseModel"],h);let g=a(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){let C=a(t,["batchSize"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","batchSize"],C)}let m=a(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){let C=a(t,["learningRate"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRate"],C)}let y=a(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);let E=a(t,["beta"]);e!==void 0&&E!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],E);let v=a(t,["baseTeacherModel"]);e!==void 0&&v!=null&&u(e,["distillationSpec","baseTeacherModel"],v);let D=a(t,["tunedTeacherModelSource"]);e!==void 0&&D!=null&&u(e,["distillationSpec","tunedTeacherModelSource"],D);let T=a(t,["sftLossWeightMultiplier"]);e!==void 0&&T!=null&&u(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],T);let w=a(t,["outputUri"]);return e!==void 0&&w!=null&&u(e,["outputUri"],w),o}function Rw(t,e){let n={},o=a(t,["baseModel"]);o!=null&&u(n,["baseModel"],o);let r=a(t,["preTunedModel"]);r!=null&&u(n,["preTunedModel"],r);let i=a(t,["trainingDataset"]);i!=null&&$w(i);let s=a(t,["config"]);return s!=null&&bw(s,n),n}function Pw(t,e){let n={},o=a(t,["baseModel"]);o!=null&&u(n,["baseModel"],o);let r=a(t,["preTunedModel"]);r!=null&&u(n,["preTunedModel"],r);let i=a(t,["trainingDataset"]);i!=null&&qw(i,n,e);let s=a(t,["config"]);return s!=null&&xw(s,n,e),n}function kw(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function Fw(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function Lw(t,e,n){let o={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),o}function Ow(t,e,n){let o={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),o}function Vw(t,e){let n={},o=a(t,["config"]);return o!=null&&Lw(o,n),n}function Uw(t,e){let n={},o=a(t,["config"]);return o!=null&&Ow(o,n),n}function Hw(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);let i=a(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Ag(l))),u(n,["tuningJobs"],s)}return n}function Bw(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);let i=a(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>gc(l))),u(n,["tuningJobs"],s)}return n}function Gw(t,e){let n={},o=a(t,["name"]);o!=null&&u(n,["model"],o);let r=a(t,["name"]);return r!=null&&u(n,["endpoint"],r),n}function $w(t,e){let n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let o=a(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(n,["examples","examples"],r)}return n}function qw(t,e,n){let o={},r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(r==="DISTILLATION"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["distillationSpec","promptDatasetUri"],s)}let i=a(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["distillationSpec","promptDatasetUri"],s)}if(a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Ag(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&u(n,["name"],r);let i=a(t,["state"]);i!=null&&u(n,["state"],tg(i));let s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);let l=a(t,["tuningTask","startTime"]);l!=null&&u(n,["startTime"],l);let c=a(t,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(n,["updateTime"],d);let f=a(t,["description"]);f!=null&&u(n,["description"],f);let p=a(t,["baseModel"]);p!=null&&u(n,["baseModel"],p);let h=a(t,["_self"]);return h!=null&&u(n,["tunedModel"],Gw(h)),n}function gc(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&u(n,["name"],r);let i=a(t,["state"]);i!=null&&u(n,["state"],tg(i));let s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);let l=a(t,["startTime"]);l!=null&&u(n,["startTime"],l);let c=a(t,["endTime"]);c!=null&&u(n,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(n,["updateTime"],d);let f=a(t,["error"]);f!=null&&u(n,["error"],f);let p=a(t,["description"]);p!=null&&u(n,["description"],p);let h=a(t,["baseModel"]);h!=null&&u(n,["baseModel"],h);let g=a(t,["tunedModel"]);g!=null&&u(n,["tunedModel"],g);let m=a(t,["preTunedModel"]);m!=null&&u(n,["preTunedModel"],m);let y=a(t,["supervisedTuningSpec"]);y!=null&&u(n,["supervisedTuningSpec"],y);let E=a(t,["preferenceOptimizationSpec"]);E!=null&&u(n,["preferenceOptimizationSpec"],E);let v=a(t,["distillationSpec"]);v!=null&&u(n,["distillationSpec"],v);let D=a(t,["tuningDataStats"]);D!=null&&u(n,["tuningDataStats"],D);let T=a(t,["encryptionSpec"]);T!=null&&u(n,["encryptionSpec"],T);let w=a(t,["partnerModelTuningSpec"]);w!=null&&u(n,["partnerModelTuningSpec"],w);let C=a(t,["customBaseModel"]);C!=null&&u(n,["customBaseModel"],C);let L=a(t,["experiment"]);L!=null&&u(n,["experiment"],L);let F=a(t,["labels"]);F!=null&&u(n,["labels"],F);let Q=a(t,["outputUri"]);Q!=null&&u(n,["outputUri"],Q);let M=a(t,["pipelineJob"]);M!=null&&u(n,["pipelineJob"],M);let O=a(t,["serviceAccount"]);O!=null&&u(n,["serviceAccount"],O);let ne=a(t,["tunedModelDisplayName"]);ne!=null&&u(n,["tunedModelDisplayName"],ne);let Te=a(t,["veoTuningSpec"]);return Te!=null&&u(n,["veoTuningSpec"],Te),n}function zw(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&u(n,["name"],r);let i=a(t,["metadata"]);i!=null&&u(n,["metadata"],i);let s=a(t,["done"]);s!=null&&u(n,["done"],s);let l=a(t,["error"]);return l!=null&&u(n,["error"],l),n}function _u(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&u(n,["validationDatasetUri"],o);let r=a(t,["vertexDatasetResource"]);return r!=null&&u(n,["validationDatasetUri"],r),n}var mc=class extends Ye{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Et(At.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);let i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{let r=Object.assign({},n);return await this.tuneInternal(r)}else{let r=Object.assign({},n),i=await this.tuneMldevInternal(r),s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:Yh.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=Fw(e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>gc(f))}else{let d=kw(e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Ag(f))}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=Uw(e);return l=S("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Bw(f),h=new Gi;return Object.assign(h,p),h})}else{let d=Vw(e);return l=S("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Hw(f),h=new Gi;return Object.assign(h,p),h})}}async cancel(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=Aw(e);return l=S("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Nw(f),h=new $i;return Object.assign(h,p),h})}else{let d=ww(e);return l=S("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Mw(f),h=new $i;return Object.assign(h,p),h})}}async tuneInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=Pw(e,e);return i=S("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>gc(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=Rw(e);return i=S("tunedModels",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>zw(c))}}};var yc=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},Ww=1024*1024*8,Jw=3,Yw=1e3,Kw=2,as="x-goog-upload-status";async function jw(t,e,n){var o;let r=await Mg(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[as])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function Zw(t,e,n){var o;let r=await Mg(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[as])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let s=Jh(i),l=new Hu;return Object.assign(l,s),l}async function Mg(t,e,n){var o,r;let i=0,s=0,l=new Wo(new Response),c="upload";for(i=t.size;s<i;){let d=Math.min(Ww,i-s),f=t.slice(s,s+d);s+d>=i&&(c+=", finalize");let p=0,h=Yw;for(;p<Jw&&(l=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((o=l?.headers)===null||o===void 0)&&o[as]));)p++,await Xw(h),h=h*Kw;if(s+=d,((r=l?.headers)===null||r===void 0?void 0:r[as])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function Qw(t){return{size:t.size,type:t.type}}function Xw(t){return new Promise(e=>setTimeout(e,t))}var vc=class{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jw(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Zw(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Qw(e)}};var Ec=class{create(e,n,o){return new Cc(e,n,o)}},Cc=class{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var Wh="x-goog-api-key",Ic=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Wh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Wh,this.apiKey)}}};var eA="gl-node/",ls=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new ie({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let o=SI(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;let r=new Ic(this.apiKey);this.apiClient=new Zu({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:eA+"web",uploader:new vc,downloader:new yc}),this.models=new oc(this.apiClient),this.live=new tc(this.apiClient,r,new Ec),this.batches=new $u(this.apiClient),this.chats=new zu(this.models,this.apiClient),this.caches=new qu(this.apiClient),this.files=new Ju(this.apiClient),this.operations=new rc(this.apiClient),this.authTokens=new ic(this.apiClient),this.tunings=new mc(this.apiClient),this.fileSearchStores=new ac(this.apiClient)}};var fs=[{id:"BASE_WIRELESS",name:"PRO ALARM PAKET\u0130 (Kablosuz)",purchasePrice:36e3,rentalPrice:2500,category:"base",description:"Geli\u015Fmi\u015F kablosuz alarm paneli, siren, hareket dedekt\xF6r\xFC ve manyetik kontaktan olu\u015Fan profesyonel kablosuz g\xFCvenlik paketi. Kolay kurulum ve geni\u015Fletilebilirlik sunar."},{id:"BASE_WIRED",name:"EBS ALARM PAKET\u0130 (Kablolu)",purchasePrice:28e3,rentalPrice:2100,category:"base",description:"Y\xFCksek g\xFCvenlikli kablolu alarm paneli, siren, hareket dedekt\xF6r\xFC ve manyetik kontaktan olu\u015Fan temel kablolu g\xFCvenlik paketi. Maksimum kararl\u0131l\u0131k ve uzun \xF6m\xFCrl\xFCl\xFCk sa\u011Flar."},{id:"CAM_CUBE_IN",name:"HVN \u0130\xE7 K\xFCp Kamera",purchasePrice:4e3,rentalPrice:325,category:"camera",description:"Full HD \xE7\xF6z\xFCn\xFCrl\xFCkl\xFC, 130\xB0 geni\u015F a\xE7\u0131l\u0131 i\xE7 mekan k\xFCp kamera. Dahili mikrofon ve hoparl\xF6r ile iki y\xF6nl\xFC ses ileti\u015Fimi sa\u011Flar, k\u0131z\u0131l\xF6tesi gece g\xF6r\xFC\u015F\xFCne sahiptir. Wi-Fi veya kablolu ba\u011Flant\u0131 se\xE7enekleri mevcuttur."},{id:"CAM_CUBE_OUT",name:"HVN D\u0131\u015F K\xFCp Kamera",purchasePrice:4e3,rentalPrice:325,category:"camera",description:"Full HD \xE7\xF6z\xFCn\xFCrl\xFCkl\xFC, 130\xB0 geni\u015F a\xE7\u0131l\u0131 d\u0131\u015F mekan k\xFCp kamera. IP66 hava ko\u015Fullar\u0131na dayan\u0131kl\u0131l\u0131k sertifikas\u0131na sahiptir. G\xFC\xE7l\xFC k\u0131z\u0131l\xF6tesi gece g\xF6r\xFC\u015F\xFC ve hareket alg\u0131lama \xF6zellikleri ile d\u0131\u015F alanlar\u0131 g\xFCvenle izler."},{id:"PIR_CAM",name:"Kablosuz PIR-Kamera",purchasePrice:7500,rentalPrice:300,category:"detector",description:"Kablosuz hareket dedekt\xF6r\xFC ve entegre kameran\u0131n birle\u015Fimi. Hareket alg\u0131land\u0131\u011F\u0131nda foto\u011Fraf \xE7ekerek an\u0131nda alarm paneline ve kullan\u0131c\u0131n\u0131n mobil uygulamas\u0131na g\xF6nderir. Evcil hayvan dostu sens\xF6r teknolojisine sahiptir."},{id:"PIR",name:"Kablosuz PIR Dedekt\xF6r\xFC",purchasePrice:2e3,rentalPrice:100,category:"detector",description:"Kablosuz pasif k\u0131z\u0131l\xF6tesi (PIR) hareket dedekt\xF6r\xFC. Geni\u015F kapsama alan\u0131 ile i\xE7 mekanlarda istenmeyen hareketleri alg\u0131lar. D\xFC\u015F\xFCk pil t\xFCketimi ve kolay kurulum avantajlar\u0131 sunar."},{id:"CONTACT",name:"Kablosuz Manyetik Kontak",purchasePrice:1250,rentalPrice:70,category:"detector",description:"Kablosuz manyetik kap\u0131/pencere konta\u011F\u0131. A\xE7\u0131lan kap\u0131 veya pencereleri an\u0131nda alg\u0131layarak alarm sistemini tetikler. Kompakt tasar\u0131m\u0131 ile her t\xFCrl\xFC do\u011Framaya uyum sa\u011Flar."},{id:"SMOKE",name:"Kablosuz Duman Dedekt\xF6r\xFC",purchasePrice:3900,rentalPrice:200,category:"detector",description:"Kablosuz fotoelektrik duman dedekt\xF6r\xFC. Duman\u0131 ve yang\u0131n tehlikesini erken a\u015Famada alg\u0131lar, sirenle uyar\u0131 verir ve alarm paneline sinyal g\xF6nderir. Ak\u0131ll\u0131 ev sistemleriyle entegrasyona uygundur."},{id:"SIREN",name:"Kablosuz Siren (\u0130\xE7 Ortam)",purchasePrice:5200,rentalPrice:450,category:"accessory",description:"Kablosuz i\xE7 ortam alarm sireni. Alarm durumunda y\xFCksek sesli sirenle cayd\u0131r\u0131c\u0131l\u0131k sa\u011Flar ve bina i\xE7indekileri uyar\u0131r. Kolay e\u015Fle\u015Ftirme ve kompakt tasar\u0131m."}];bl({providedIn:"root"});var ps=class{constructor(){let o="AIzaSy"+"AnG06bd5FgLg1yjVKj-E6KNSCWRbb0jAY";this.ai=new ls({apiKey:o})}async analyzeImages(e,n){let o="gemini-1.5-flash",r=fs.filter(c=>c.category!=="base").map(c=>`- ID: ${c.id}, Name: ${c.name}, A\xE7\u0131klama: ${c.description}, Sat\u0131\u015F: ${c.purchasePrice} TL, Kira: ${c.rentalPrice} TL`).join(`
`),i="";switch(n){case"cost":i="MOD: EN D\xDC\u015E\xDCK MAL\u0130YET. Sadece kritik noktalar\u0131 (Giri\u015F/Kasa) koru. Minimum cihaz say\u0131s\u0131 ile \xE7\xF6z\xFCm \xFCret. Her yerle\u015Fim karar\u0131 i\xE7in maliyet etkinli\u011Fini ve temel g\xFCvenlik kapsam\u0131n\u0131 vurgula.";break;case"security":i="MOD: EN Y\xDCKSEK G\xDCVENL\u0130K. S\u0131f\u0131r k\xF6r nokta hedefle. \xC7apraz bak\u0131\u015F a\xE7\u0131s\u0131, maksimum sens\xF6r ve tam koruma sa\u011Fla. Her yerle\u015Fim karar\u0131 i\xE7in kapsaml\u0131 g\xFCvenli\u011Fi, potansiyel riskleri \xF6nlemeyi ve yedeklili\u011Fi vurgula.";break;case"blind_spot":i="MOD: K\xD6R NOKTA TESP\u0130T\u0130 VE KAPATMA. Foto\u011Fraflardaki mimariyi analiz et. Kamera a\xE7\u0131s\u0131n\u0131n g\xF6rmedi\u011Fi, s\xFCtun arkalar\u0131, koridor d\xF6n\xFC\u015Fleri, \xF6l\xFC alanlar gibi her t\xFCrl\xFC k\xF6r noktay\u0131 kusursuz bir \u015Fekilde tespit et. SADECE bu k\xF6r noktalar\u0131 kapatacak optimum ek kameralar\u0131 yerle\u015Ftir. Normal g\xFCvenlik prosed\xFCrlerini ve genel oda g\xF6zetimini yoksay, sadece g\xF6r\xFCnmeyen veya yetersiz g\xF6r\xFCnen alanlara odaklan. Yerle\u015Fim gerek\xE7elerinde spesifik k\xF6r noktay\u0131 ve bu kameran\u0131n o a\xE7\u0131y\u0131 nas\u0131l kapatt\u0131\u011F\u0131n\u0131 detayland\u0131r.";break}let s=`
      Sen Noya G\xFCvenlik Ba\u015F G\xFCvenlik Sistemleri M\xFChendisi ve Fiyatland\u0131rma Uzman\u0131s\u0131n.
      G\xF6revin: Y\xFCklenen ${e.length} adet foto\u011Fraf\u0131 b\xFCt\xFCnle\u015Fik olarak analiz etmek ve se\xE7ilen moda g\xF6re KUSURSUZ ve OPT\u0130MUM bir g\xFCvenlik mimarisi sunmakt\u0131r.

      ANAL\u0130Z PRENS\u0130PLER\u0130:
      1. SE\xC7\u0130LEN MOD:
         - ${i}
      2. \xC7OKLU FOTO\u011ERAF ANAL\u0130Z\u0130:
         - G\xF6nderilen t\xFCm foto\u011Fraflar\u0131 (1-10 adet) tek bir mekan\u0131n farkl\u0131 a\xE7\u0131lardan \xE7ekilmi\u015F par\xE7alar\u0131 olarak kabul et.
         - Foto\u011Fraflar aras\u0131ndaki ge\xE7i\u015Fleri, derinli\u011Fi ve mimari engelleri analiz ederek cihazlar\u0131 en stratejik noktalara yerle\u015Ftir.
         - Gereksiz cihaz tekrar\u0131ndan ka\xE7\u0131n.
      3. TEKN\u0130K GEREK\xC7ELEND\u0130RME:
         - Her kamera yerle\u015Fimi i\xE7in, ideal olarak 130\xB0 geni\u015F a\xE7\u0131l\u0131 g\xF6r\xFC\u015F\xFC nas\u0131l maksimize etti\u011Fini ve k\xF6r nokta b\u0131rakmad\u0131\u011F\u0131n\u0131 a\xE7\u0131kla.
         - Her dedekt\xF6r veya aksesuar yerle\u015Fimi i\xE7in, hangi riski (hareket, kap\u0131 a\xE7\u0131lmas\u0131, duman vb.) hangi b\xF6lgede nas\u0131l ve neden tespit etti\u011Fini belirt.
         - \xD6zellikle 'blind_spot' modunda, her yerle\u015Fim karar\u0131n\u0131n hangi spesifik k\xF6r noktay\u0131 kapatt\u0131\u011F\u0131n\u0131 detayland\u0131r.

      MEVCUT \xDCR\xDCN KATALO\u011EU (Ocak 2026 Fiyat Listesi):
      ${r}

      RAPORLAMA KURALLARI:
      1. Sadece belirtilen modun stratejisine uyarak en iyi \xE7\xF6z\xFCm\xFC sun.
      2. Objektif, profesyonel ve son derece teknik bir ton kullan.
      3. T\xFCm hesaplamalarda "Fiyatlara KDV dahil de\u011Fildir" uyar\u0131s\u0131n\u0131 mutlaka belirt.
      4. 'analysis' metni, kapsaml\u0131 bir m\xFChendislik raporu gibi olmal\u0131, tespitleri ve \xE7\xF6z\xFCm \xF6nerilerini detayl\u0131ca a\xE7\u0131klamal\u0131d\u0131r.

      \xC7IKTI FORMATI (ULTRA-KISA RAPOR):
      'analysis' alan\u0131 \u015Fu formatta d\xFCz metin olmal\u0131 (Ba\u015Fl\u0131klar aynen kalmal\u0131, i\xE7erikler detayl\u0131 olmal\u0131):

      1. MOD: [Maliyet/G\xFCvenlik/K\xF6r Nokta]
      2. TESP\u0130TLER & \xDCR\xDCN \xD6NER\u0130LER\u0130:
         - [Tespit Edilen \u0130htiya\xE7/K\xF6r Nokta B\xF6lgesi]: [\xD6nerilen \xDCr\xFCn Ad\u0131] ([ID]) - [K\u0131sa A\xE7\u0131klama/Gerek\xE7e]
         ...
      3. YERLE\u015E\u0130M PLANI & TEKN\u0130K GEREK\xC7E:
         - [\xDCr\xFCn Ad\u0131] ([Koordinatlar X%, Y%] - Foto\u011Fraf [Index+1]): [Detayl\u0131 Yerle\u015Fim Gerek\xE7esi ve Kapsad\u0131\u011F\u0131 Alan/A\xE7\u0131 (\xF6rn: 130\xB0 g\xF6r\xFC\u015F a\xE7\u0131s\u0131 ile sa\u011F koridoru tamamen kapsar, s\xFCtun arkas\u0131 k\xF6r noktas\u0131n\u0131 ortadan kald\u0131r\u0131r.)]
         ...
      4. TOPLAM MAL\u0130YET (NET - KDV HAR\u0130\xC7):
         - SATI\u015E TOPLAM: [Hesapla] TL
         - K\u0130RA TOPLAM (AYLIK): [Hesapla] TL
      UYARI: Fiyatlara KDV dahil de\u011Fildir.

      'items' JSON Dizisi Kurallar\u0131:
         - Her \xFCr\xFCn i\xE7in 'imageIndex' (0'dan ba\u015Flar) belirterek hangi foto\u011Frafa ait oldu\u011Funu g\xF6ster.
         - X, Y koordinatlar\u0131n\u0131 (0-100) hassas bir \u015Fekilde belirle.
         - 'reason' alan\u0131, \xFCr\xFCn\xFCn yerle\u015Fim gerek\xE7esini ve faydas\u0131n\u0131 (\xF6zellikle kamera a\xE7\u0131s\u0131n\u0131 ve k\xF6r nokta kapatma durumunu) detayl\u0131ca a\xE7\u0131klamal\u0131d\u0131r.
    `,l=e.map(c=>({inlineData:{mimeType:c.mimeType,data:c.data}}));l.push({text:s});try{let c=await this.ai.models.generateContent({model:o,contents:{parts:l},config:{responseMimeType:"application/json",responseSchema:{type:re.OBJECT,properties:{analysis:{type:re.STRING,description:"Ultra short text report following the specified format."},recommendations:{type:re.ARRAY,items:{type:re.STRING},description:"Short technical notes."},items:{type:re.ARRAY,items:{type:re.OBJECT,properties:{itemId:{type:re.STRING},name:{type:re.STRING},x:{type:re.NUMBER},y:{type:re.NUMBER},reason:{type:re.STRING,description:"Detailed justification for placement, including coverage angles and blind spot resolution."},imageIndex:{type:re.INTEGER,description:"Index of the image (0-based) this item belongs to."}}}}}}}});if(c.text)return JSON.parse(c.text);throw new Error("No response text")}catch(c){return console.error("Gemini Analysis Error:",c),{analysis:"Analiz s\u0131ras\u0131nda bir hata olu\u015Ftu. L\xFCtfen g\xF6rsel format\u0131n\u0131 kontrol edip tekrar deneyin.",items:[],recommendations:["Sistem hatas\u0131."]}}}};var hs=class t{constructor(){this.catalog=fs;this.selectedSystem=de("wireless");this.currentItems=de([]);this.calculation=Ro(()=>{let e=this.selectedSystem(),n=this.currentItems(),o=e==="wireless"?"BASE_WIRELESS":"BASE_WIRED",r=this.catalog.find(c=>c.id===o),i=r.purchasePrice,s=r.rentalPrice,l=n.map(c=>{let d=this.catalog.find(f=>f.id===c.itemId)||this.catalog.find(f=>f.name===c.name);return d?(i+=d.purchasePrice,s+=d.rentalPrice,he(le({},c),{price:d.purchasePrice,rental:d.rentalPrice,found:!0})):he(le({},c),{price:0,rental:0,found:!1})});return{basePackage:r,itemDetails:l,subTotalPurchase:i,subTotalRental:s,vatPurchase:i*.2,vatRental:s*.2,grandTotalPurchase:i*1.2,grandTotalRental:s*1.2}})}setSystemType(e){this.selectedSystem.set(e)}setItems(e){this.currentItems.set(e)}addItem(e){let n=this.catalog.find(o=>o.id===e);n&&this.currentItems.update(o=>[...o,{itemId:n.id,name:n.name,x:50,y:50,reason:"Manuel Eklendi"}])}removeItem(e){this.currentItems.update(n=>n.filter((o,r)=>r!==e))}getProductById(e){return this.catalog.find(n=>n.id===e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}};var tA=["videoElement"],nA=(t,e)=>e.id;function oA(t,e){if(t&1){let n=rt();I(0,"button",38),Z("click",function(){J(n);let r=U();return Y(r.reset())}),Ie(),I(1,"svg",39),H(2,"path",40),_(),A(3," Yeni Analiz "),_()}}function rA(t,e){if(t&1){let n=rt();I(0,"div",34)(1,"div",41)(2,"h2",42),A(3,"G\xFCvenlik M\xFChendisli\u011Fi. "),H(4,"br"),I(5,"span",43),A(6,"Yapay Zeka Destekli."),_()(),I(7,"p",44),A(8,"Foto\u011Fraflar\u0131 y\xFCkleyin, Secom standartlar\u0131nda an\u0131nda projelendirelim."),_()(),I(9,"div",45)(10,"div",46)(11,"button",47),Z("click",function(){J(n);let r=U();return Y(r.setMode("cost"))}),A(12," Ekonomik "),_(),I(13,"button",47),Z("click",function(){J(n);let r=U();return Y(r.setMode("security"))}),A(14," Premium "),_(),I(15,"button",48),Z("click",function(){J(n);let r=U();return Y(r.setMode("blind_spot"))}),Ie(),I(16,"svg",49),H(17,"path",50),_(),A(18," K\xF6r Nokta Analizi "),_()()(),ke(),I(19,"div",51),Z("dragover",function(r){J(n);let i=U();return Y(i.onDragOver(r))})("dragleave",function(r){J(n);let i=U();return Y(i.onDragLeave(r))})("drop",function(r){J(n);let i=U();return Y(i.onDrop(r))}),I(20,"input",52,0),Z("change",function(r){J(n);let i=U();return Y(i.onFileSelected(r))}),_(),H(22,"div",53),I(23,"div",54),Z("click",function(){J(n);let r=tu(21);return Y(r.click())}),I(24,"div",55),Ie(),I(25,"svg",56),H(26,"path",57),_()(),ke(),I(27,"div")(28,"p",58),A(29,"Foto\u011Fraflar\u0131 Se\xE7 veya S\xFCr\xFCkle"),_(),I(30,"p",59),A(31,"Maksimum 10 G\xF6rsel"),_()()(),I(32,"div",60),Z("click",function(r){return J(n),Y(r.stopPropagation())}),H(33,"div",61),I(34,"span",62),A(35,"veya"),_(),H(36,"div",61),_(),I(37,"button",63),Z("click",function(r){J(n);let i=U();return r.stopPropagation(),Y(i.openCamera())}),Ie(),I(38,"svg",64),H(39,"path",65)(40,"path",66),_(),A(41," Kameray\u0131 A\xE7 "),_()()()}if(t&2){let n=U();V(11),it("bg-green-600",n.analysisMode()==="cost")("text-white",n.analysisMode()==="cost")("shadow-lg",n.analysisMode()==="cost")("text-zinc-400",n.analysisMode()!=="cost")("hover:text-white",n.analysisMode()!=="cost"),V(2),it("bg-red-600",n.analysisMode()==="security")("text-white",n.analysisMode()==="security")("shadow-lg",n.analysisMode()==="security")("text-zinc-400",n.analysisMode()!=="security")("hover:text-white",n.analysisMode()!=="security"),V(2),it("bg-blue-600",n.analysisMode()==="blind_spot")("text-white",n.analysisMode()==="blind_spot")("shadow-lg",n.analysisMode()==="blind_spot")("text-zinc-400",n.analysisMode()!=="blind_spot")("hover:text-white",n.analysisMode()!=="blind_spot"),V(4),it("ring-2",n.isDragging())("ring-white",n.isDragging())("bg-zinc-800",n.isDragging())}}function iA(t,e){t&1&&(H(0,"span",110),A(1," EKONOM\u0130K MOD "))}function sA(t,e){t&1&&(H(0,"span",111),A(1," PREMIUM G\xDCVENL\u0130K "))}function aA(t,e){t&1&&(H(0,"span",112),A(1," K\xD6R NOKTA ANAL\u0130Z\u0130 "))}function lA(t,e){t&1&&(I(0,"div",76)(1,"div",113),H(2,"div",114)(3,"div",115),_(),I(4,"span",116),A(5,"Analiz Ediliyor..."),_()())}function uA(t,e){if(t&1&&(I(0,"div",118),A(1),I(2,"div",119)(3,"div",120),A(4),_(),I(5,"div",121),A(6),_()()()),t&2){let n=U(),o=n.$implicit,r=n.$index,i=U(3);nu(i.getMarkerColor(o.itemId)),Ci("left",o.x,"%")("top",o.y,"%"),V(),Ve(" ",r+1," "),V(3),vt(o.name),V(2),vt(o.reason)}}function cA(t,e){if(t&1&&Le(0,uA,7,9,"div",117),t&2){let n=e.$implicit,o=U(3);Oe(n.imageIndex===void 0||n.imageIndex===o.selectedImageIndex()?0:-1)}}function dA(t,e){if(t&1&&kn(0,cA,1,1,null,null,No),t&2){let n=U(2);Fn(n.pricingService.currentItems())}}function fA(t,e){if(t&1){let n=rt();I(0,"button",123),Z("click",function(){let r=J(n).$index,i=U(3);return Y(i.selectImage(r))}),H(1,"img",124),_()}if(t&2){let n=e.$implicit,o=e.$index,r=U(3);it("border-white",o===r.selectedImageIndex())("border-transparent",o!==r.selectedImageIndex())("opacity-50",o!==r.selectedImageIndex())("hover:opacity-100",o!==r.selectedImageIndex()),V(),Ln("src",n,si)}}function pA(t,e){if(t&1&&(I(0,"div",77),kn(1,fA,2,9,"button",122,No),_()),t&2){let n=U(2);V(),Fn(n.imagesSrc())}}function hA(t,e){if(t&1&&(I(0,"div",78)(1,"h3",125),Ie(),I(2,"svg",126),H(3,"path",127),_(),A(4," M\xFChendislik Raporu "),_(),ke(),I(5,"div",128),A(6),_()()),t&2){let n,o=U(2);V(6),Ve(" ",(n=o.analysisResult())==null?null:n.analysis," ")}}function gA(t,e){if(t&1){let n=rt();I(0,"div",91)(1,"div",129)(2,"button",130),Z("click",function(){let r=J(n).$index,i=U(2);return Y(i.pricingService.removeItem(r))}),Ie(),I(3,"svg",49),H(4,"path",131),_()(),ke(),I(5,"div",132),A(6),_()(),I(7,"div",133),A(8),Zt(9,"number"),_()()}if(t&2){let n=e.$implicit;V(6),vt(n.name),V(2),Ve("",Qt(9,2,n.price)," \u20BA")}}function mA(t,e){if(t&1){let n=rt();I(0,"div",35)(1,"div",67)(2,"div",68)(3,"div",69)(4,"div",70),Le(5,iA,2,0)(6,sA,2,0)(7,aA,2,0),_(),I(8,"button",71),Z("click",function(){J(n);let r=U();return Y(r.openCamera())}),Ie(),I(9,"svg",72),H(10,"path",73),_()()(),ke(),I(11,"div",74),H(12,"img",75),Le(13,lA,6,0,"div",76),Le(14,dA,2,0),_(),Le(15,pA,3,0,"div",77),_(),Le(16,hA,7,1,"div",78),_(),I(17,"div",79)(18,"div",80)(19,"button",81),Z("click",function(){J(n);let r=U();return Y(r.setSystem("wireless"))}),A(20," KABLOSUZ "),_(),I(21,"button",81),Z("click",function(){J(n);let r=U();return Y(r.setSystem("wired"))}),A(22," KABLOLU "),_()(),I(23,"div",82)(24,"div",83)(25,"h3",84),A(26,"Maliyet \xD6zeti"),_(),I(27,"span",85),A(28,"OCAK 2026"),_()(),I(29,"div",86)(30,"div",87)(31,"div")(32,"div",88),A(33),_(),I(34,"div",89),A(35,"Ana Paket"),_()(),I(36,"div",90),A(37),Zt(38,"number"),_()(),kn(39,gA,10,4,"div",91,No),_(),I(41,"div",92)(42,"div",93)(43,"div",94)(44,"p",95),A(45,"Pe\u015Fin Sat\u0131n Alma"),_(),I(46,"div",96)(47,"span",97),A(48),Zt(49,"number"),_(),I(50,"span",98),A(51,"+ KDV"),_()()(),H(52,"div",99),_(),I(53,"div",100)(54,"div")(55,"p",101),A(56,"Kiralama Modeli"),_(),I(57,"p",102),A(58,"Ayl\u0131k \xD6deme"),_()(),I(59,"div",103)(60,"span",104),A(61),Zt(62,"number"),_(),I(63,"span",105),A(64,"+ KDV"),_()()()()(),I(65,"div",106)(66,"div",107)(67,"button",108),Z("click",function(){J(n);let r=U();return Y(r.addItemManually("CAM_CUBE_IN"))}),A(68," + Kamera (\u0130\xE7) "),_(),I(69,"button",108),Z("click",function(){J(n);let r=U();return Y(r.addItemManually("PIR"))}),A(70," + PIR Dedekt\xF6r "),_(),I(71,"button",108),Z("click",function(){J(n);let r=U();return Y(r.addItemManually("CONTACT"))}),A(72," + Kontak "),_(),I(73,"button",108),Z("click",function(){J(n);let r=U();return Y(r.addItemManually("SMOKE"))}),A(74," + Duman "),_()(),I(75,"button",109),Z("click",function(){J(n);let r=U();return Y(r.openProductModal())}),A(76," T\xFCm Katalo\u011Fu G\xF6r\xFCnt\xFCle "),_()()()()}if(t&2){let n=U();V(5),Oe(n.analysisMode()==="cost"?5:n.analysisMode()==="security"?6:7),V(7),Ln("src",n.imagesSrc()[n.selectedImageIndex()],si),V(),Oe(n.isLoading()?13:-1),V(),Oe(!n.isLoading()&&n.pricingService.currentItems().length>0?14:-1),V(),Oe(n.imagesSrc().length>1?15:-1),V(),Oe(n.analysisResult()?16:-1),V(3),it("bg-white",n.pricingService.selectedSystem()==="wireless")("text-black",n.pricingService.selectedSystem()==="wireless")("text-zinc-500",n.pricingService.selectedSystem()!=="wireless"),V(2),it("bg-white",n.pricingService.selectedSystem()==="wired")("text-black",n.pricingService.selectedSystem()==="wired")("text-zinc-500",n.pricingService.selectedSystem()!=="wired"),V(12),vt(n.pricingService.calculation().basePackage.name),V(4),Ve("",Qt(38,22,n.pricingService.calculation().basePackage.purchasePrice)," \u20BA"),V(2),Fn(n.pricingService.calculation().itemDetails),V(9),Ve("",Qt(49,24,n.pricingService.calculation().subTotalPurchase)," \u20BA"),V(13),Ve("",Qt(62,26,n.pricingService.calculation().subTotalRental)," \u20BA")}}function yA(t,e){if(t&1){let n=rt();I(0,"button",149),Z("click",function(){let r=J(n).$implicit,i=U(2);return Y(i.selectProductFromModal(r))}),I(1,"div")(2,"div",150),A(3),_(),I(4,"div",151),A(5),_()(),I(6,"div",103)(7,"div",152),A(8),Zt(9,"number"),_(),I(10,"div",98),A(11),_()()()}if(t&2){let n=e.$implicit;V(3),vt(n.name),V(2),vt(n.id),V(3),Ve("",Qt(9,4,n.purchasePrice)," \u20BA"),V(3),Ve("Kira: ",n.rentalPrice," \u20BA")}}function vA(t,e){if(t&1){let n=rt();I(0,"div",36)(1,"div",134),Z("click",function(){J(n);let r=U();return Y(r.closeProductModal())}),_(),I(2,"div",135)(3,"div",136)(4,"h3",137),A(5,"\xDCr\xFCn Se\xE7imi"),_(),I(6,"button",138),Z("click",function(){J(n);let r=U();return Y(r.closeProductModal())}),Ie(),I(7,"svg",139),H(8,"path",140),_()()(),ke(),I(9,"div",141)(10,"div",142),Ie(),I(11,"svg",143),H(12,"path",144),_(),ke(),I(13,"input",145),Z("input",function(r){J(n);let i=U();return Y(i.updateSearch(r))}),_()()(),I(14,"div",146)(15,"div",147),kn(16,yA,12,6,"button",148,nA),_()()()()}if(t&2){let n=U();V(13),Ln("value",n.productSearchTerm()),V(3),Fn(n.filteredProducts())}}function EA(t,e){if(t&1){let n=rt();I(0,"div",37)(1,"div",153),H(2,"video",154,1),I(4,"div",155),H(5,"div",156),I(6,"div",157),H(7,"div",158)(8,"div",159)(9,"div",160)(10,"div",161),_()()(),I(11,"div",162)(12,"button",163),Z("click",function(){J(n);let r=U();return Y(r.closeCamera())}),Ie(),I(13,"svg",164),H(14,"path",140),_()(),ke(),I(15,"button",165),Z("click",function(){J(n);let r=U();return Y(r.capturePhoto())}),H(16,"div",166),_(),H(17,"div",167),_()()}}var gs=class t{constructor(){this.geminiService=$(ps);this.pricingService=$(hs);this.imagesSrc=de([]);this.imagesData=de([]);this.selectedImageIndex=de(0);this.isLoading=de(!1);this.analysisResult=de(null);this.analysisMode=de("cost");this.isDragging=de(!1);this.isProductModalOpen=de(!1);this.productSearchTerm=de("");this.isCameraOpen=de(!1);this.stream=null;this.filteredProducts=Ro(()=>{let e=this.productSearchTerm().toLowerCase(),n=this.pricingService.catalog.filter(o=>o.category!=="base");return e?n.filter(o=>o.name.toLowerCase().includes(e)||o.id.toLowerCase().includes(e)):n})}ngOnDestroy(){this.stopCamera()}onDragOver(e){e.preventDefault(),this.isDragging.set(!0)}onDragLeave(e){e.preventDefault(),this.isDragging.set(!1)}onDrop(e){e.preventDefault(),this.isDragging.set(!1),e.dataTransfer?.files&&e.dataTransfer.files.length>0&&this.handleFiles(e.dataTransfer.files)}onFileSelected(e){let n=e.target;n.files&&n.files.length>0&&this.handleFiles(n.files)}setMode(e){this.analysisMode.set(e),this.imagesData().length>0&&!this.isLoading()&&this.runAnalysis(this.imagesData())}async handleFiles(e){let o=(Array.isArray(e)?e:Array.from(e)).filter(i=>i.type.startsWith("image/"));if(o.length===0){alert("L\xFCtfen ge\xE7erli resim dosyalar\u0131 y\xFCkleyin.");return}if(this.imagesSrc().length+o.length>10){alert("En fazla 10 adet foto\u011Fraf y\xFCkleyebilirsiniz.");return}this.isLoading.set(!0),this.imagesSrc().length===0&&this.selectedImageIndex.set(0);let r=o.map(i=>new Promise(s=>{let l=new FileReader;l.onload=c=>{let d=c.target?.result;s({data:d.split(",")[1],mimeType:i.type,displayUrl:d})},l.readAsDataURL(i)}));try{let i=await Promise.all(r);this.imagesSrc.update(l=>[...l,...i.map(c=>c.displayUrl)]);let s=i.map(l=>({data:l.data,mimeType:l.mimeType}));this.imagesData.update(l=>[...l,...s]),await this.runAnalysis(this.imagesData())}catch(i){console.error(i),alert("Dosya okuma hatas\u0131."),this.isLoading.set(!1)}}async runAnalysis(e){this.isLoading.set(!0);try{let n=await this.geminiService.analyzeImages(e,this.analysisMode());this.analysisResult.set(n),this.pricingService.setItems(n.items)}catch(n){console.error(n),alert("Analiz s\u0131ras\u0131nda bir hata olu\u015Ftu.")}finally{this.isLoading.set(!1)}}setSystem(e){this.pricingService.setSystemType(e)}selectImage(e){this.selectedImageIndex.set(e)}getMarkerColor(e){return this.analysisMode()==="blind_spot"?"bg-blue-500 border-blue-300 shadow-[0_0_15px_rgba(59,130,246,0.6)]":e.includes("CAM")?"bg-blue-500 border-blue-300":e.includes("PIR")?"bg-red-500 border-red-300":e.includes("CONTACT")?"bg-green-500 border-green-300":"bg-yellow-500 border-yellow-300"}reset(){this.imagesSrc.set([]),this.imagesData.set([]),this.analysisResult.set(null),this.pricingService.setItems([])}addItemManually(e){let n=this.pricingService.getProductById(e),o=n?n.description:"Manuel olarak eklenen \xFCr\xFCn.";this.pricingService.currentItems.update(r=>[...r,{itemId:e,name:n?n.name:"Bilinmeyen \xDCr\xFCn",x:50,y:50,reason:o,imageIndex:this.selectedImageIndex()}])}openProductModal(){this.isProductModalOpen.set(!0),this.productSearchTerm.set("")}closeProductModal(){this.isProductModalOpen.set(!1)}updateSearch(e){this.productSearchTerm.set(e.target.value)}selectProductFromModal(e){this.pricingService.currentItems.update(n=>[...n,{itemId:e.id,name:e.name,x:50,y:50,reason:e.description,imageIndex:this.selectedImageIndex()}]),this.closeProductModal()}async openCamera(){this.isCameraOpen.set(!0);try{this.stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}),setTimeout(()=>{this.videoElement?.nativeElement&&this.stream&&(this.videoElement.nativeElement.srcObject=this.stream)},100)}catch(e){console.error("Camera access denied:",e),alert("Kamera eri\u015Fimi sa\u011Flanamad\u0131. L\xFCtfen izinleri kontrol edin."),this.closeCamera()}}closeCamera(){this.stopCamera(),this.isCameraOpen.set(!1)}stopCamera(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null)}capturePhoto(){if(!this.videoElement?.nativeElement)return;let e=this.videoElement.nativeElement,n=document.createElement("canvas");n.width=e.videoWidth,n.height=e.videoHeight;let o=n.getContext("2d");o&&(o.drawImage(e,0,0,n.width,n.height),n.toBlob(r=>{if(r){let i=new File([r],`camera_capture_${Date.now()}.jpg`,{type:"image/jpeg"});this.handleFiles([i]),this.closeCamera()}},"image/jpeg",.9))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Jl({type:t,selectors:[["app-root"]],viewQuery:function(n,o){if(n&1&&Ei(tA,5),n&2){let r;Xl(r=eu())&&(o.videoElement=r.first)}},decls:43,vars:4,consts:[["fileInput",""],["videoElement",""],[1,"min-h-screen","font-sans","selection:bg-white","selection:text-black","pb-10"],[1,"fixed","top-0","inset-x-0","h-20","bg-black/80","backdrop-blur-xl","border-b","border-white/10","z-50","flex","items-center","justify-between","px-6","lg:px-12","transition-all","shadow-2xl","shadow-black/50"],[1,"flex","items-center","gap-4","select-none"],[1,"h-12","w-12","relative","filter","drop-shadow-[0_0_15px_rgba(37,99,235,0.4)]"],["viewBox","0 0 100 100",1,"w-full","h-full"],["id","shieldGrad","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","#1e40af","stop-opacity","1"],["offset","50%",2,"stop-color","#172554","stop-opacity","1"],["offset","100%",2,"stop-color","#0f172a","stop-opacity","1"],["id","silverGrad","x1","0%","y1","0%","x2","0%","y2","100%"],["offset","0%",2,"stop-color","#f8fafc","stop-opacity","1"],["offset","100%",2,"stop-color","#cbd5e1","stop-opacity","1"],["d","M50 95 C 15 80 5 45 5 25 L 50 5 L 95 25 C 95 45 85 80 50 95 Z","fill","url(#shieldGrad)","stroke","url(#silverGrad)","stroke-width","3"],["d","M50 15 L 65 28 L 50 40 L 35 28 Z","fill","url(#silverGrad)","filter","drop-shadow(0 2px 2px rgba(0,0,0,0.5))"],["d","M20 55 Q 50 35 80 55 Q 50 75 20 55 Z","fill","#e2e8f0","stroke","#94a3b8","stroke-width","1"],["cx","50","cy","55","r","12","fill","#1d4ed8","stroke","#172554","stroke-width","1"],["cx","50","cy","55","r","5","fill","#000"],["cx","54","cy","51","r","2.5","fill","#fff","opacity","0.9"],[1,"flex","flex-col","justify-center"],[1,"text-3xl","font-black","tracking-tighter","text-white","leading-none","font-sans","drop-shadow-md","bg-gradient-to-br","from-white","to-zinc-400","bg-clip-text","text-transparent"],[1,"text-[10px]","font-bold","text-zinc-400","tracking-[0.35em]","leading-none","mt-1.5","ml-0.5","uppercase"],[1,"hidden","md:flex","items-center","space-x-4"],[1,"text-xs","font-medium","text-zinc-400","hover:text-white","transition","bg-white/5","hover:bg-white/10","px-4","py-1.5","rounded-full","backdrop-blur-md","border","border-white/5","flex","items-center","gap-2"],[1,"flex","items-center","gap-4","pl-6","border-l","border-white/10","h-10"],[1,"text-right","hidden","lg:block"],[1,"text-[9px]","text-zinc-500","uppercase","font-bold","tracking-widest","leading-none"],[1,"text-[9px]","text-zinc-400","uppercase","font-bold","tracking-widest","leading-none","mt-1"],[1,"bg-red-900/20","border","border-red-500/30","px-4","py-2","rounded-lg","flex","items-center","justify-center","hover:bg-red-900/30","transition","cursor-help","group","relative"],[1,"text-red-500","font-black","tracking-widest","text-sm"],[1,"absolute","right-0","top-full","mt-3","w-32","bg-zinc-900","text-white","text-[10px]","rounded","p-2","opacity-0","group-hover:opacity-100","transition","pointer-events-none","border","border-white/10","text-center","shadow-xl","z-50"],[1,"h-28"],[1,"max-w-[1400px]","mx-auto","px-4","sm:px-6","lg:px-8","animate-in","fade-in","duration-700"],[1,"max-w-3xl","mx-auto","mt-12","space-y-8"],[1,"grid","grid-cols-1","lg:grid-cols-12","gap-6","lg:gap-8","h-full"],[1,"fixed","inset-0","z-[100]","flex","items-center","justify-center","p-4"],[1,"fixed","inset-0","z-[100]","bg-black","flex","flex-col","animate-in","fade-in","duration-300"],[1,"text-xs","font-medium","text-zinc-400","hover:text-white","transition","bg-white/5","hover:bg-white/10","px-4","py-1.5","rounded-full","backdrop-blur-md","border","border-white/5","flex","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-3","h-3"],["stroke-linecap","round","stroke-linejoin","round","d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"],[1,"text-center","space-y-3"],[1,"text-4xl","md:text-5xl","font-bold","tracking-tight","text-white"],[1,"text-zinc-500"],[1,"text-lg","text-zinc-400","font-light","max-w-lg","mx-auto"],[1,"flex","justify-center"],[1,"bg-zinc-900","p-1.5","rounded-full","border","border-zinc-800","inline-flex","relative"],[1,"relative","z-10","px-5","py-2","rounded-full","text-xs","font-medium","transition-all","duration-300",3,"click"],[1,"relative","z-10","px-5","py-2","rounded-full","text-xs","font-medium","transition-all","duration-300","flex","items-center","gap-1.5",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-3","h-3"],["fill-rule","evenodd","d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l14.5 14.5a.75.75 0 1 0 1.06-1.06l-1.745-1.745a10.029 10.029 0 0 0 3.3-5.733 2.5 2.5 0 1 0-4.908.686L3.28 2.22Zm8.557 8.558a.75.75 0 0 0-1.06-1.06l1.06 1.06ZM10.5 10a.75.75 0 0 0 .75.75v-.75Z","clip-rule","evenodd"],[1,"group","relative","border","border-dashed","border-zinc-700","hover:border-white/50","rounded-3xl","p-16","text-center","transition-all","duration-300","bg-zinc-900/30","backdrop-blur-sm","cursor-pointer","overflow-hidden",3,"dragover","dragleave","drop"],["type","file","accept","image/*","multiple","",1,"hidden",3,"change"],[1,"absolute","inset-0","bg-gradient-to-tr","from-blue-500/5","via-transparent","to-purple-500/5","opacity-0","group-hover:opacity-100","transition-opacity","duration-500"],[1,"relative","z-10","flex","flex-col","items-center","justify-center","space-y-6",3,"click"],[1,"w-20","h-20","rounded-2xl","bg-zinc-800/80","border","border-zinc-700","flex","items-center","justify-center","shadow-2xl","group-hover:scale-105","transition-transform","duration-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1","stroke","currentColor",1,"w-10","h-10","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"],[1,"text-xl","font-medium","text-white"],[1,"text-sm","text-zinc-500","mt-2"],[1,"relative","flex","items-center","py-8","z-10",3,"click"],[1,"flex-grow","border-t","border-zinc-800"],[1,"flex-shrink-0","mx-4","text-zinc-600","text-xs","font-medium","uppercase","tracking-widest"],[1,"relative","z-10","bg-white","hover:bg-zinc-200","text-black","px-8","py-3.5","rounded-full","font-semibold","transition-transform","active:scale-95","flex","items-center","gap-3","mx-auto","shadow-xl","shadow-white/5",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["d","M12 9a3.75 3.75 0 1 0 0 7.5A3.75 3.75 0 0 0 12 9Z"],["fill-rule","evenodd","d","M9.344 3.071a49.52 49.52 0 0 1 5.312 0c.967.052 1.83.585 2.332 1.39l.821 1.317c.24.383.645.643 1.11.71.386.054.77.113 1.152.177 1.432.239 2.429 1.493 2.429 2.909V18a3 3 0 0 1-3 3h-15a3 3 0 0 1-3-3V9.574c0-1.416.997-2.67 2.429-2.909.382-.064.766-.123 1.151-.178a1.56 1.56 0 0 0 1.11-.71l.822-1.315a2.942 2.942 0 0 1 2.332-1.39ZM6.75 12.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Zm12-1.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule","evenodd"],[1,"lg:col-span-8","flex","flex-col","gap-6"],[1,"bg-zinc-900/60","backdrop-blur-xl","border","border-white/10","rounded-3xl","overflow-hidden","shadow-2xl","relative","flex","flex-col","h-full","min-h-[500px]"],[1,"absolute","top-4","left-4","right-4","z-30","flex","justify-between","items-start","pointer-events-none"],[1,"bg-black/60","backdrop-blur-md","text-white","text-xs","font-bold","px-4","py-2","rounded-full","border","border-white/10","pointer-events-auto","flex","items-center","gap-2","shadow-lg"],[1,"pointer-events-auto","bg-white/10","hover:bg-white/20","text-white","p-2","rounded-full","backdrop-blur-md","transition","border","border-white/10",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4.5v15m7.5-7.5h-15"],[1,"relative","flex-1","bg-black","flex","items-center","justify-center","group","overflow-hidden"],["alt","Analysis",1,"w-full","h-full","object-contain","max-h-[70vh]","transition-transform","duration-500","group-hover:scale-[1.01]",3,"src"],[1,"absolute","inset-0","bg-black/60","backdrop-blur-sm","z-20","flex","flex-col","items-center","justify-center"],[1,"absolute","bottom-6","left-1/2","-translate-x-1/2","flex","gap-3","p-2","bg-black/50","backdrop-blur-xl","rounded-2xl","border","border-white/10","z-20","overflow-x-auto","max-w-[90%]"],[1,"bg-zinc-900/60","backdrop-blur-xl","border","border-white/10","rounded-3xl","p-8","shadow-xl"],[1,"lg:col-span-4","flex","flex-col","gap-6"],[1,"bg-zinc-900/60","backdrop-blur-xl","border","border-white/10","rounded-3xl","p-2","flex","relative"],[1,"flex-1","py-3","text-xs","font-bold","rounded-2xl","transition-all","text-center","relative","overflow-hidden",3,"click"],[1,"bg-zinc-900/60","backdrop-blur-xl","border","border-white/10","rounded-3xl","p-6","shadow-xl","flex","flex-col","flex-1"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-sm","font-semibold","text-white","uppercase","tracking-wider"],[1,"text-[10px]","font-bold","bg-white/10","text-zinc-300","px-2","py-1","rounded"],[1,"flex-1","overflow-y-auto","max-h-[400px]","pr-2","custom-scrollbar","space-y-4"],[1,"flex","justify-between","items-start","pb-4","border-b","border-white/5"],[1,"text-sm","font-medium","text-white"],[1,"text-xs","text-zinc-500","mt-1"],[1,"text-sm","font-semibold","text-zinc-300"],[1,"flex","justify-between","items-center","group"],[1,"mt-6","pt-6","border-t","border-white/10","space-y-4"],[1,"bg-gradient-to-br","from-zinc-800","to-zinc-900","rounded-2xl","p-5","border","border-white/5","relative","overflow-hidden"],[1,"relative","z-10"],[1,"text-xs","text-zinc-400","font-medium","uppercase","mb-1"],[1,"flex","items-baseline","justify-between"],[1,"text-3xl","font-bold","text-white","tracking-tight"],[1,"text-[10px]","text-zinc-500"],[1,"absolute","right-0","top-0","w-24","h-24","bg-blue-500/10","rounded-full","blur-2xl","-mr-10","-mt-10","pointer-events-none"],[1,"bg-zinc-800/30","rounded-2xl","p-5","border","border-white/5","flex","justify-between","items-center"],[1,"text-xs","text-zinc-400","font-medium","uppercase"],[1,"text-[10px]","text-zinc-600"],[1,"text-right"],[1,"text-xl","font-bold","text-emerald-400"],[1,"text-[10px]","text-zinc-500","block"],[1,"bg-zinc-900/60","backdrop-blur-xl","border","border-white/10","rounded-3xl","p-6","shadow-xl","space-y-4"],[1,"grid","grid-cols-2","gap-3"],[1,"bg-white/5","hover:bg-white/10","text-white","py-3","rounded-xl","text-xs","font-medium","transition","border","border-white/5",3,"click"],[1,"w-full","py-4","bg-white","text-black","font-bold","rounded-xl","hover:bg-zinc-200","transition","text-sm","flex","items-center","justify-center","gap-2",3,"click"],[1,"w-2","h-2","rounded-full","bg-green-500","shadow-[0_0_10px_rgba(34,197,94,0.5)]"],[1,"w-2","h-2","rounded-full","bg-red-500","shadow-[0_0_10px_rgba(239,68,68,0.5)]"],[1,"w-2","h-2","rounded-full","bg-blue-500","shadow-[0_0_10px_rgba(59,130,246,0.5)]"],[1,"relative","w-24","h-24","mb-6"],[1,"absolute","inset-0","border-t-2","border-white","rounded-full","animate-spin"],[1,"absolute","inset-3","border-r-2","border-zinc-500","rounded-full","animate-spin","direction-reverse"],[1,"text-white","font-medium","tracking-widest","text-sm","uppercase","opacity-80","animate-pulse"],[1,"absolute","w-10","h-10","-ml-5","-mt-5","rounded-full","border-[3px]","border-white/20","shadow-[0_0_20px_rgba(0,0,0,0.5)]","flex","items-center","justify-center","text-sm","font-bold","text-white","cursor-pointer","z-20","transition-all","hover:scale-110","active:scale-95","backdrop-blur-sm",3,"class","left","top"],[1,"absolute","w-10","h-10","-ml-5","-mt-5","rounded-full","border-[3px]","border-white/20","shadow-[0_0_20px_rgba(0,0,0,0.5)]","flex","items-center","justify-center","text-sm","font-bold","text-white","cursor-pointer","z-20","transition-all","hover:scale-110","active:scale-95","backdrop-blur-sm"],[1,"absolute","bottom-full","mb-3","w-56","bg-zinc-900/95","backdrop-blur-xl","border","border-white/10","rounded-2xl","p-4","shadow-2xl","opacity-0","hover:opacity-100","transition-opacity","pointer-events-none","z-30","transform","-translate-x-1/2","left-1/2"],[1,"text-xs","font-bold","text-white","mb-1"],[1,"text-[10px]","text-zinc-400","leading-relaxed"],[1,"relative","w-12","h-12","rounded-xl","overflow-hidden","border-2","transition-all","flex-shrink-0",3,"border-white","border-transparent","opacity-50","hover:opacity-100"],[1,"relative","w-12","h-12","rounded-xl","overflow-hidden","border-2","transition-all","flex-shrink-0",3,"click"],[1,"w-full","h-full","object-cover",3,"src"],[1,"text-lg","font-semibold","text-white","mb-4","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5","text-indigo-400"],["fill-rule","evenodd","d","M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 0 1 .75.75c0 5.056-2.383 9.555-6.084 12.436h.001c-3.3 2.567-7.268 4.19-11.619 4.676-2.858.32-5.752.128-8.125-.49a.75.75 0 0 1-.58-1.079 24.385 24.385 0 0 1 4.545-6.19 24.385 24.385 0 0 1 6.19-4.545c.87-.51 1.802-.93 2.766-1.259.96-.328 1.94-.567 2.936-.714.498-.073.998-.124 1.498-.153A22.94 22.94 0 0 0 9.315 7.584ZM8.86 8.35c-2.486 2.053-4.484 4.654-5.787 7.55 1.97-.57 3.992-.93 6.039-1.077a22.91 22.91 0 0 0 3.33-6.577 22.91 22.91 0 0 0-3.582.104Z","clip-rule","evenodd"],[1,"text-sm","font-mono","text-zinc-300","leading-7","whitespace-pre-wrap"],[1,"flex","items-center","gap-3"],[1,"w-5","h-5","rounded-full","bg-red-500/10","text-red-500","flex","items-center","justify-center","opacity-0","group-hover:opacity-100","transition","hover:bg-red-500","hover:text-white",3,"click"],["d","M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"],[1,"text-sm","text-zinc-300"],[1,"text-sm","font-medium","text-zinc-400"],[1,"absolute","inset-0","bg-black/80","backdrop-blur-md","transition-opacity",3,"click"],[1,"bg-zinc-900","border","border-white/10","w-full","max-w-2xl","max-h-[80vh]","rounded-3xl","shadow-2xl","z-10","flex","flex-col","overflow-hidden","animate-in","fade-in","zoom-in-95","duration-200"],[1,"p-5","border-b","border-white/10","flex","justify-between","items-center","bg-zinc-900/50","backdrop-blur-xl"],[1,"text-lg","font-bold","text-white"],[1,"w-8","h-8","rounded-full","bg-zinc-800","flex","items-center","justify-center","text-zinc-400","hover:bg-zinc-700","hover:text-white","transition",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"p-5","bg-zinc-900"],[1,"relative","group"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-zinc-500","absolute","left-4","top-3.5","group-focus-within:text-white","transition"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Ara...","autofocus","",1,"w-full","bg-zinc-800","border-none","rounded-xl","py-3.5","pl-12","pr-4","text-white","placeholder-zinc-500","focus:ring-2","focus:ring-blue-500/50","transition",3,"input","value"],[1,"overflow-y-auto","flex-1","p-2"],[1,"space-y-1"],[1,"w-full","flex","items-center","justify-between","p-4","rounded-xl","hover:bg-white/5","transition","group","text-left","border","border-transparent","hover:border-white/5"],[1,"w-full","flex","items-center","justify-between","p-4","rounded-xl","hover:bg-white/5","transition","group","text-left","border","border-transparent","hover:border-white/5",3,"click"],[1,"font-semibold","text-white","group-hover:text-blue-400","transition"],[1,"text-[10px]","text-zinc-500","font-mono","mt-1","uppercase","tracking-wider"],[1,"text-white","font-bold"],[1,"relative","flex-1","overflow-hidden","bg-black","flex","items-center","justify-center"],["autoplay","","playsinline","","muted","",1,"absolute","inset-0","w-full","h-full","object-cover"],[1,"absolute","inset-0","pointer-events-none"],[1,"absolute","top-10","right-10","w-2","h-2","bg-yellow-500","rounded-full","animate-pulse","shadow-[0_0_10px_orange]"],[1,"absolute","inset-x-10","inset-y-24","border","border-white/20","rounded-3xl"],[1,"absolute","top-0","left-0","w-6","h-6","border-t-2","border-l-2","border-white","rounded-tl-lg"],[1,"absolute","top-0","right-0","w-6","h-6","border-t-2","border-r-2","border-white","rounded-tr-lg"],[1,"absolute","bottom-0","left-0","w-6","h-6","border-b-2","border-l-2","border-white","rounded-bl-lg"],[1,"absolute","bottom-0","right-0","w-6","h-6","border-b-2","border-r-2","border-white","rounded-br-lg"],[1,"h-36","bg-black/60","backdrop-blur-xl","flex","items-center","justify-around","pb-6","pt-4"],[1,"w-12","h-12","rounded-full","bg-white/10","flex","items-center","justify-center","text-white","hover:bg-white/20","transition",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-6","h-6"],[1,"w-20","h-20","rounded-full","border-[6px]","border-white","flex","items-center","justify-center","hover:scale-105","active:scale-95","transition-transform",3,"click"],[1,"w-16","h-16","bg-white","rounded-full"],[1,"w-12"]],template:function(n,o){n&1&&(I(0,"div",2)(1,"header",3)(2,"div",4)(3,"div",5),Ie(),I(4,"svg",6)(5,"defs")(6,"linearGradient",7),H(7,"stop",8)(8,"stop",9)(9,"stop",10),_(),I(10,"linearGradient",11),H(11,"stop",12)(12,"stop",13),_()(),H(13,"path",14)(14,"path",15)(15,"path",16)(16,"circle",17)(17,"circle",18)(18,"circle",19),_()(),ke(),I(19,"div",20)(20,"span",21),A(21,"NOYA"),_(),I(22,"span",22),A(23,"G\xFCvenlik"),_()()(),I(24,"div",23),Le(25,oA,4,0,"button",24),_(),I(26,"div",25)(27,"div",26)(28,"div",27),A(29,"Yetkili"),_(),I(30,"div",28),A(31,"\xC7\xF6z\xFCm Orta\u011F\u0131"),_()(),I(32,"div",29)(33,"span",30),A(34,"SECOM"),_(),I(35,"div",31),A(36," Resmi Partner "),_()()()(),H(37,"div",32),I(38,"main",33),Le(39,rA,42,36,"div",34)(40,mA,77,28,"div",35),Le(41,vA,18,1,"div",36),Le(42,EA,18,0,"div",37),_()()),n&2&&(V(25),Oe(o.imagesSrc().length>0?25:-1),V(14),Oe(o.imagesSrc().length===0?39:40),V(2),Oe(o.isProductModalOpen()?41:-1),V(),Oe(o.isCameraOpen()?42:-1))},dependencies:[Di,cu],encapsulation:2})}};Eu(gs,{providers:[ou()]}).catch(t=>console.error(t));
