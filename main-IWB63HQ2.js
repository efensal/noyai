var tg=Object.defineProperty,ng=Object.defineProperties;var og=Object.getOwnPropertyDescriptors;var mc=Object.getOwnPropertySymbols;var rg=Object.prototype.hasOwnProperty,ig=Object.prototype.propertyIsEnumerable;var yc=(t,e,n)=>e in t?tg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,le=(t,e)=>{for(var n in e||={})rg.call(e,n)&&yc(t,n,e[n]);if(mc)for(var n of mc(e))ig.call(e,n)&&yc(t,n,e[n]);return t},he=(t,e)=>ng(t,og(e));var ce=null,Bo=!1,cs=1,sg=null,Ae=Symbol("SIGNAL");function N(t){let e=ce;return ce=t,e}function $o(){return ce}var Bn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ds(t){if(Bo)throw new Error("");if(ce===null)return;ce.consumerOnSignalRead(t);let e=ce.producersTail;if(e!==void 0&&e.producer===t)return;let n,o=ce.recomputing;if(o&&(n=e!==void 0?e.nextProducer:ce.producers,n!==void 0&&n.producer===t)){ce.producersTail=n,n.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===ce&&(!o||lg(r,ce)))return;let i=nn(ce),s={producer:t,consumer:ce,nextProducer:n,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};ce.producersTail=s,e!==void 0?e.nextProducer=s:ce.producers=s,i&&Ic(t,s)}function vc(){cs++}function fs(t){if(!(nn(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cs)){if(!t.producerMustRecompute(t)&&!ms(t)){us(t);return}t.producerRecomputeValue(t),us(t)}}function ps(t){if(t.consumers===void 0)return;let e=Bo;Bo=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let o=n.consumer;o.dirty||ag(o)}}finally{Bo=e}}function hs(){return ce?.consumerAllowSignalWrites!==!1}function ag(t){t.dirty=!0,ps(t),t.consumerMarkedDirty?.(t)}function us(t){t.dirty=!1,t.lastCleanEpoch=cs}function qo(t){return t&&Ec(t),N(t)}function Ec(t){t.producersTail=void 0,t.recomputing=!0}function gs(t,e){N(e),t&&Cc(t)}function Cc(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(nn(t))do n=ys(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function ms(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,o=e.lastReadVersion;if(o!==n.version||(fs(n),o!==n.version))return!0}return!1}function zo(t){if(nn(t)){let e=t.producers;for(;e!==void 0;)e=ys(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Ic(t,e){let n=t.consumersTail,o=nn(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!o)for(let r=t.producers;r!==void 0;r=r.nextProducer)Ic(r.producer,r)}function ys(t){let e=t.producer,n=t.nextProducer,o=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,o!==void 0?o.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=o;else if(e.consumers=o,!nn(e)){let i=e.producers;for(;i!==void 0;)i=ys(i)}return n}function nn(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function vs(t){sg?.(t)}function lg(t,e){let n=e.producersTail;if(n!==void 0){let o=e.producers;do{if(o===t)return!0;if(o===n)break;o=o.nextProducer}while(o!==void 0)}return!1}function Es(t,e){return Object.is(t,e)}function Wo(t,e){let n=Object.create(ug);n.computation=t,e!==void 0&&(n.equal=e);let o=()=>{if(fs(n),ds(n),n.value===Go)throw n.error;return n.value};return o[Ae]=n,vs(n),o}var as=Symbol("UNSET"),ls=Symbol("COMPUTING"),Go=Symbol("ERRORED"),ug=he(le({},Bn),{value:as,dirty:!0,error:null,equal:Es,kind:"computed",producerMustRecompute(t){return t.value===as||t.value===ls},producerRecomputeValue(t){if(t.value===ls)throw new Error("");let e=t.value;t.value=ls;let n=qo(t),o,r=!1;try{o=t.computation(),N(null),r=e!==as&&e!==Go&&o!==Go&&t.equal(e,o)}catch(i){o=Go,t.error=i}finally{gs(t,n)}if(r){t.value=e;return}t.value=o,t.version++}});function cg(){throw new Error}var _c=cg;function Dc(t){_c(t)}function Cs(t){_c=t}var dg=null;function Is(t,e){let n=Object.create(wc);n.value=t,e!==void 0&&(n.equal=e);let o=()=>Tc(n);return o[Ae]=n,vs(n),[o,s=>_s(n,s),s=>Sc(n,s)]}function Tc(t){return ds(t),t.value}function _s(t,e){hs()||Dc(t),t.equal(t.value,e)||(t.value=e,fg(t))}function Sc(t,e){hs()||Dc(t),_s(t,e(t.value))}var wc=he(le({},Bn),{equal:Es,value:void 0,kind:"signal"});function fg(t){t.version++,vc(),ps(t),dg?.(t)}function ve(t){return typeof t=="function"}function Jo(t){let n=t(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Yo=Jo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,r)=>`${r+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Gn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(ve(o))try{o()}catch(i){e=i instanceof Yo?i.errors:[i]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let i of r)try{Ac(i)}catch(s){e=e??[],s instanceof Yo?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Yo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ac(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Gn(n,e)}remove(e){let{_finalizers:n}=this;n&&Gn(n,e),e instanceof t&&e._removeParent(this)}};ge.EMPTY=(()=>{let t=new ge;return t.closed=!0,t})();var Ds=ge.EMPTY;function Ko(t){return t instanceof ge||t&&"closed"in t&&ve(t.remove)&&ve(t.add)&&ve(t.unsubscribe)}function Ac(t){ve(t)?t():t.unsubscribe()}var He={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var on={setTimeout(t,e,...n){let{delegate:o}=on;return o?.setTimeout?o.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=on;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Mc(t){on.setTimeout(()=>{let{onUnhandledError:e}=He;if(e)e(t);else throw t})}function Ts(){}var Nc=Ss("C",void 0,void 0);function bc(t){return Ss("E",void 0,t)}function xc(t){return Ss("N",t,void 0)}function Ss(t,e,n){return{kind:t,value:e,error:n}}var At=null;function rn(t){if(He.useDeprecatedSynchronousErrorHandling){let e=!At;if(e&&(At={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:o}=At;if(At=null,n)throw o}}else t()}function Rc(t){He.useDeprecatedSynchronousErrorHandling&&At&&(At.errorThrown=!0,At.error=t)}var Mt=class extends ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ko(e)&&e.add(this)):this.destination=gg}static create(e,n,o){return new sn(e,n,o)}next(e){this.isStopped?As(xc(e),this):this._next(e)}error(e){this.isStopped?As(bc(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?As(Nc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pg=Function.prototype.bind;function ws(t,e){return pg.call(t,e)}var Ms=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(o){jo(o)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(o){jo(o)}else jo(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){jo(n)}}},sn=class extends Mt{constructor(e,n,o){super();let r;if(ve(e)||!e)r={next:e??void 0,error:n??void 0,complete:o??void 0};else{let i;this&&He.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ws(e.next,i),error:e.error&&ws(e.error,i),complete:e.complete&&ws(e.complete,i)}):r=e}this.destination=new Ms(r)}};function jo(t){He.useDeprecatedSynchronousErrorHandling?Rc(t):Mc(t)}function hg(t){throw t}function As(t,e){let{onStoppedNotification:n}=He;n&&on.setTimeout(()=>n(t,e))}var gg={closed:!0,next:Ts,error:hg,complete:Ts};var Pc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kc(t){return t}function Fc(t){return t.length===0?kc:t.length===1?t[0]:function(n){return t.reduce((o,r)=>r(o),n)}}var an=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new t;return o.source=this,o.operator=n,o}subscribe(n,o,r){let i=yg(n)?n:new sn(n,o,r);return rn(()=>{let{operator:s,source:l}=this;i.add(s?s.call(i,l):l?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=Lc(o),new o((r,i)=>{let s=new sn({next:l=>{try{n(l)}catch(c){i(c),s.unsubscribe()}},error:i,complete:r});this.subscribe(s)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[Pc](){return this}pipe(...n){return Fc(n)(this)}toPromise(n){return n=Lc(n),new n((o,r)=>{let i;this.subscribe(s=>i=s,s=>r(s),()=>o(i))})}}return t.create=e=>new t(e),t})();function Lc(t){var e;return(e=t??He.Promise)!==null&&e!==void 0?e:Promise}function mg(t){return t&&ve(t.next)&&ve(t.error)&&ve(t.complete)}function yg(t){return t&&t instanceof Mt||mg(t)&&Ko(t)}function vg(t){return ve(t?.lift)}function Oc(t){return e=>{if(vg(e))return e.lift(function(n){try{return t(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vc(t,e,n,o,r){return new Ns(t,e,n,o,r)}var Ns=class extends Mt{constructor(e,n,o,r,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(l){try{n(l)}catch(c){e.error(c)}}:super._next,this._error=r?function(l){try{r(l)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Uc=Jo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends an{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new Zo(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new Uc}next(n){rn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){rn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){rn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:r,observers:i}=this;return o||r?Ds:(this.currentObservers=null,i.push(n),new ge(()=>{this.currentObservers=null,Gn(i,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:r,isStopped:i}=this;o?n.error(r):i&&n.complete()}asObservable(){let n=new an;return n.source=this,n}}return t.create=(e,n)=>new Zo(e,n),t})(),Zo=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,e)}error(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&o!==void 0?o:Ds}};var $n=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:o}=this;if(e)throw n;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}};function bs(t,e){return Oc((n,o)=>{let r=0;n.subscribe(Vc(o,i=>{o.next(t.call(e,i,r++))}))})}var xs;function Qo(){return xs}function je(t){let e=xs;return xs=t,e}var Hc=Symbol("NotFound");function ln(t){return t===Hc||t?.name==="\u0275NotFound"}var rr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",P=class extends Error{code;constructor(e,n){super(ir(e,n)),this.code=e}};function _g(t){return`NG0${Math.abs(t)}`}function ir(t,e){return`${_g(t)}${e?": "+e:""}`}var kt=globalThis;function K(t){for(let e in t)if(t[e]===K)return e;throw Error("")}function Ct(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ct).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let o=n.indexOf(`
`);return o>=0?n.slice(0,o):n}function sr(t,e){return t?e?`${t} ${e}`:t:e||""}var Dg=K({__forward_ref__:K});function ar(t){return t.__forward_ref__=ar,t.toString=function(){return Ct(this())},t}function Te(t){return zc(t)?t():t}function zc(t){return typeof t=="function"&&t.hasOwnProperty(Dg)&&t.__forward_ref__===ar}function X(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yn(t){return{providers:t.providers||[],imports:t.imports||[]}}function lr(t){return Tg(t,ur)}function Tg(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Sg(t){let e=t?.[ur]??null;return e||null}function Ps(t){return t&&t.hasOwnProperty(er)?t[er]:null}var ur=K({\u0275prov:K}),er=K({\u0275inj:K}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Js(t){return t&&!!t.\u0275providers}var Ys=K({\u0275cmp:K}),Ks=K({\u0275dir:K}),js=K({\u0275pipe:K});var ks=K({\u0275fac:K}),Ft=K({__NG_ELEMENT_ID__:K}),Bc=K({__NG_ENV_ID__:K});function Lt(t){return Qs(t,"@Component"),t[Ys]||null}function Zs(t){return Qs(t,"@Directive"),t[Ks]||null}function Wc(t){return Qs(t,"@Pipe"),t[js]||null}function Qs(t,e){if(t==null)throw new P(-919,!1)}function Xs(t){return typeof t=="string"?t:t==null?"":String(t)}var Jc=K({ngErrorCode:K}),wg=K({ngErrorMessage:K}),Ag=K({ngTokenPath:K});function ea(t,e){return Yc("",-200,e)}function cr(t,e){throw new P(-201,!1)}function Yc(t,e,n){let o=new P(e,t);return o[Jc]=e,o[wg]=t,n&&(o[Ag]=n),o}function Mg(t){return t[Jc]}var Fs;function Kc(){return Fs}function me(t){let e=Fs;return Fs=t,e}function ta(t,e,n){let o=lr(t);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&8)return null;if(e!==void 0)return e;cr(t,"")}var Ng={},Nt=Ng,bg="__NG_DI_FLAG__",Ls=class{injector;constructor(e){this.injector=e}retrieve(e,n){let o=bt(n)||0;try{return this.injector.get(e,o&8?null:Nt,o)}catch(r){if(ln(r))return r;throw r}}};function xg(t,e=0){let n=Qo();if(n===void 0)throw new P(-203,!1);if(n===null)return ta(t,void 0,e);{let o=Rg(e),r=n.retrieve(t,o);if(ln(r)){if(o.optional)return null;throw r}return r}}function J(t,e=0){return(Kc()||xg)(Te(t),e)}function $(t,e){return J(t,bt(e))}function bt(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rg(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Os(t){let e=[];for(let n=0;n<t.length;n++){let o=Te(t[n]);if(Array.isArray(o)){if(o.length===0)throw new P(900,!1);let r,i=0;for(let s=0;s<o.length;s++){let l=o[s],c=Pg(l);typeof c=="number"?c===-1?r=l.token:i|=c:r=l}e.push(J(r,i))}else e.push(J(o))}return e}function Pg(t){return t[bg]}function xt(t,e){let n=t.hasOwnProperty(ks);return n?t[ks]:null}function jc(t,e,n){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++){let r=t[o],i=e[o];if(n&&(r=n(r),i=n(i)),i!==r)return!1}return!0}function Zc(t){return t.flat(Number.POSITIVE_INFINITY)}function dr(t,e){t.forEach(n=>Array.isArray(n)?dr(n,e):e(n))}function na(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Qc(t,e,n,o){let r=t.length;if(r==e)t.push(n,o);else if(r===1)t.push(o,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let i=r-2;t[r]=t[i],r--}t[e]=n,t[e+1]=o}}function fr(t,e,n){let o=dn(t,e);return o>=0?t[o|1]=n:(o=~o,Qc(t,o,e,n)),o}function pr(t,e){let n=dn(t,e);if(n>=0)return t[n|1]}function dn(t,e){return kg(t,e,1)}function kg(t,e,n){let o=0,r=t.length>>n;for(;r!==o;){let i=o+(r-o>>1),s=t[i<<n];if(e===s)return i<<n;s>e?r=i:o=i+1}return~(r<<n)}var Ot={},Ee=[],jn=new B(""),oa=new B("",-1),ra=new B(""),zn=class{get(e,n=Nt){if(n===Nt){let r=Yc("",-201);throw r.name="\u0275NotFound",r}return n}};function ia(t){return{\u0275providers:t}}function Xc(...t){return{\u0275providers:sa(!0,t),\u0275fromNgModule:!0}}function sa(t,...e){let n=[],o=new Set,r,i=s=>{n.push(s)};return dr(e,s=>{let l=s;tr(l,i,[],o)&&(r||=[],r.push(l))}),r!==void 0&&ed(r,i),n}function ed(t,e){for(let n=0;n<t.length;n++){let{ngModule:o,providers:r}=t[n];aa(r,i=>{e(i,o)})}}function tr(t,e,n,o){if(t=Te(t),!t)return!1;let r=null,i=Ps(t),s=!i&&Lt(t);if(!i&&!s){let c=t.ngModule;if(i=Ps(c),i)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let l=o.has(r);if(s){if(l)return!1;if(o.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of c)tr(d,e,n,o)}}else if(i){if(i.imports!=null&&!l){o.add(r);let d;dr(i.imports,f=>{tr(f,e,n,o)&&(d||=[],d.push(f))}),d!==void 0&&ed(d,e)}if(!l){let d=xt(r)||(()=>new r);e({provide:r,useFactory:d,deps:Ee},r),e({provide:ra,useValue:r,multi:!0},r),e({provide:jn,useValue:()=>J(r),multi:!0},r)}let c=i.providers;if(c!=null&&!l){let d=t;aa(c,f=>{e(f,d)})}}else return!1;return r!==t&&t.providers!==void 0}function aa(t,e){for(let n of t)Js(n)&&(n=n.\u0275providers),Array.isArray(n)?aa(n,e):e(n)}var Fg=K({provide:String,useValue:K});function td(t){return t!==null&&typeof t=="object"&&Fg in t}function Lg(t){return!!(t&&t.useExisting)}function Og(t){return!!(t&&t.useFactory)}function nr(t){return typeof t=="function"}var Zn=new B(""),Xo={},Gc={},Rs;function Qn(){return Rs===void 0&&(Rs=new zn),Rs}var Me=class{},Rt=class extends Me{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,o,r){super(),this.parent=n,this.source=o,this.scopes=r,Us(e,s=>this.processProvider(s)),this.records.set(oa,un(void 0,this)),r.has("environment")&&this.records.set(Me,un(void 0,this));let i=this.records.get(Zn);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(ra,Ee,{self:!0}))}retrieve(e,n){let o=bt(n)||0;try{return this.get(e,Nt,o)}catch(r){if(ln(r))return r;throw r}}destroy(){qn(this),this._destroyed=!0;let e=N(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),N(e)}}onDestroy(e){return qn(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){qn(this);let n=je(this),o=me(void 0),r;try{return e()}finally{je(n),me(o)}}get(e,n=Nt,o){if(qn(this),e.hasOwnProperty(Bc))return e[Bc](this);let r=bt(o),i,s=je(this),l=me(void 0);try{if(!(r&4)){let d=this.records.get(e);if(d===void 0){let f=Gg(e)&&lr(e);f&&this.injectableDefInScope(f)?d=un(Vs(e),Xo):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,r)}let c=r&2?Qn():this.parent;return n=r&8&&n===Nt?null:n,c.get(e,n)}catch(c){let d=Mg(c);throw d===-200||d===-201?new P(d,null):c}finally{me(l),je(s)}}resolveInjectorInitializers(){let e=N(null),n=je(this),o=me(void 0),r;try{let i=this.get(jn,Ee,{self:!0});for(let s of i)s()}finally{je(n),me(o),N(e)}}toString(){let e=[],n=this.records;for(let o of n.keys())e.push(Ct(o));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Te(e);let n=nr(e)?e:Te(e&&e.provide),o=Ug(e);if(!nr(e)&&e.multi===!0){let r=this.records.get(n);r||(r=un(void 0,Xo,!0),r.factory=()=>Os(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,o)}hydrate(e,n,o){let r=N(null);try{if(n.value===Gc)throw ea(Ct(e));return n.value===Xo&&(n.value=Gc,n.value=n.factory(void 0,o)),typeof n.value=="object"&&n.value&&Bg(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{N(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Te(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vs(t){let e=lr(t),n=e!==null?e.factory:xt(t);if(n!==null)return n;if(t instanceof B)throw new P(204,!1);if(t instanceof Function)return Vg(t);throw new P(204,!1)}function Vg(t){if(t.length>0)throw new P(204,!1);let n=Sg(t);return n!==null?()=>n.factory(t):()=>new t}function Ug(t){if(td(t))return un(void 0,t.useValue);{let e=nd(t);return un(e,Xo)}}function nd(t,e,n){let o;if(nr(t)){let r=Te(t);return xt(r)||Vs(r)}else if(td(t))o=()=>Te(t.useValue);else if(Og(t))o=()=>t.useFactory(...Os(t.deps||[]));else if(Lg(t))o=(r,i)=>J(Te(t.useExisting),i!==void 0&&i&8?8:void 0);else{let r=Te(t&&(t.useClass||t.provide));if(Hg(t))o=()=>new r(...Os(t.deps));else return xt(r)||Vs(r)}return o}function qn(t){if(t.destroyed)throw new P(205,!1)}function un(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Hg(t){return!!t.deps}function Bg(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Gg(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Us(t,e){for(let n of t)Array.isArray(n)?Us(n,e):n&&Js(n)?Us(n.\u0275providers,e):e(n)}function hr(t,e){let n;t instanceof Rt?(qn(t),n=t):n=new Ls(t);let o,r=je(n),i=me(void 0);try{return e()}finally{je(r),me(i)}}function od(){return Kc()!==void 0||Qo()!=null}var Be=0,b=1,R=2,se=3,be=4,xe=5,fn=6,pn=7,te=8,dt=9,Ze=10,oe=11,hn=12,la=13,Vt=14,Re=15,_t=16,Ut=17,Qe=18,ft=19,ua=20,ut=21,gr=22,Xn=23,Se=24,mr=25,Ht=26,ae=27,rd=1,ca=6,Dt=7,eo=8,Bt=9,ee=10;function pt(t){return Array.isArray(t)&&typeof t[rd]=="object"}function Ge(t){return Array.isArray(t)&&t[rd]===!0}function da(t){return(t.flags&4)!==0}function gn(t){return t.componentOffset>-1}function fa(t){return(t.flags&1)===1}function mn(t){return!!t.template}function yn(t){return(t[R]&512)!==0}function Gt(t){return(t[R]&256)===256}var pa="svg",id="math";function Pe(t){for(;Array.isArray(t);)t=t[Be];return t}function ha(t,e){return Pe(e[t])}function Xe(t,e){return Pe(e[t.index])}function to(t,e){return t.data[e]}function ga(t,e){return t[e]}function ma(t,e,n,o){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=o}function ht(t,e){let n=e[t];return pt(n)?n:n[Be]}function sd(t){return(t[R]&4)===4}function yr(t){return(t[R]&128)===128}function ad(t){return Ge(t[se])}function et(t,e){return e==null?null:t[e]}function ya(t){t[Ut]=0}function va(t){t[R]&1024||(t[R]|=1024,yr(t)&&oo(t))}function ld(t,e){for(;t>0;)e=e[Vt],t--;return e}function no(t){return!!(t[R]&9216||t[Se]?.dirty)}function vr(t){t[Ze].changeDetectionScheduler?.notify(8),t[R]&64&&(t[R]|=1024),no(t)&&oo(t)}function oo(t){t[Ze].changeDetectionScheduler?.notify(0);let e=It(t);for(;e!==null&&!(e[R]&8192||(e[R]|=8192,!yr(e)));)e=It(e)}function Ea(t,e){if(Gt(t))throw new P(911,!1);t[ut]===null&&(t[ut]=[]),t[ut].push(e)}function ud(t,e){if(t[ut]===null)return;let n=t[ut].indexOf(e);n!==-1&&t[ut].splice(n,1)}function It(t){let e=t[se];return Ge(e)?e[se]:e}function Ca(t){return t[pn]??=[]}function Ia(t){return t.cleanup??=[]}function cd(t,e,n,o){let r=Ca(e);r.push(n),t.firstCreatePass&&Ia(t).push(o,r.length-1)}var k={lFrame:Ad(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Hs=!1;function dd(){return k.lFrame.elementDepthCount}function fd(){k.lFrame.elementDepthCount++}function pd(){k.lFrame.elementDepthCount--}function hd(){return k.skipHydrationRootTNode!==null}function gd(t){return k.skipHydrationRootTNode===t}function md(){k.skipHydrationRootTNode=null}function Y(){return k.lFrame.lView}function we(){return k.lFrame.tView}function z(t){return k.lFrame.contextLView=t,t[te]}function W(t){return k.lFrame.contextLView=null,t}function gt(){let t=_a();for(;t!==null&&t.type===64;)t=t.parent;return t}function _a(){return k.lFrame.currentTNode}function yd(){let t=k.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function vn(t,e){let n=k.lFrame;n.currentTNode=t,n.isParent=e}function Da(){return k.lFrame.isParent}function vd(){k.lFrame.isParent=!1}function Ed(){return k.lFrame.contextLView}function Ta(){return Hs}function Sa(t){let e=Hs;return Hs=t,e}function Cd(){let t=k.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Id(t){return k.lFrame.bindingIndex=t}function ro(){return k.lFrame.bindingIndex++}function wa(t){let e=k.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _d(){return k.lFrame.inI18n}function Dd(t,e){let n=k.lFrame;n.bindingIndex=n.bindingRootIndex=t,Er(e)}function Td(){return k.lFrame.currentDirectiveIndex}function Er(t){k.lFrame.currentDirectiveIndex=t}function Sd(t){let e=k.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Aa(){return k.lFrame.currentQueryIndex}function Cr(t){k.lFrame.currentQueryIndex=t}function $g(t){let e=t[b];return e.type===2?e.declTNode:e.type===1?t[xe]:null}function Ma(t,e,n){if(n&4){let r=e,i=t;for(;r=r.parent,r===null&&!(n&1);)if(r=$g(i),r===null||(i=i[Vt],r.type&10))break;if(r===null)return!1;e=r,t=i}let o=k.lFrame=wd();return o.currentTNode=e,o.lView=t,!0}function Ir(t){let e=wd(),n=t[b];k.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function wd(){let t=k.lFrame,e=t===null?null:t.child;return e===null?Ad(t):e}function Ad(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Md(){let t=k.lFrame;return k.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Na=Md;function _r(){let t=Md();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Nd(t){return(k.lFrame.contextLView=ld(t,k.lFrame.contextLView))[te]}function mt(){return k.lFrame.selectedIndex}function Tt(t){k.lFrame.selectedIndex=t}function bd(){let t=k.lFrame;return to(t.tView,t.selectedIndex)}function Ce(){k.lFrame.currentNamespace=pa}function ke(){qg()}function qg(){k.lFrame.currentNamespace=null}function xd(){return k.lFrame.currentNamespace}var Rd=!0;function Dr(){return Rd}function Tr(t){Rd=t}function Bs(t,e=null,n=null,o){let r=Pd(t,e,n,o);return r.resolveInjectorInitializers(),r}function Pd(t,e=null,n=null,o,r=new Set){let i=[n||Ee,Xc(t)];return o=o||(typeof t=="object"?void 0:Ct(t)),new Rt(i,e||Qn(),o||null,r)}var Pt=class t{static THROW_IF_NOT_FOUND=Nt;static NULL=new zn;static create(e,n){if(Array.isArray(e))return Bs({name:""},n,e,"");{let o=e.name??"";return Bs({name:o},e.parent,e.providers,o)}}static \u0275prov=X({token:t,providedIn:"any",factory:()=>J(oa)});static __NG_ELEMENT_ID__=-1},$e=new B(""),Sr=(()=>{class t{static __NG_ELEMENT_ID__=zg;static __NG_ENV_ID__=n=>n}return t})(),Gs=class extends Sr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Gt(this._lView)}onDestroy(e){let n=this._lView;return Ea(n,e),()=>ud(n,e)}};function zg(){return new Gs(Y())}var kd=!1,Fd=new B(""),En=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new $n(!1);debugTaskTracker=$(Fd,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new an(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}return t})(),$s=class extends at{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,od()&&(this.destroyRef=$(Sr,{optional:!0})??void 0,this.pendingTasks=$(En,{optional:!0})??void 0)}emit(e){let n=N(null);try{super.next(e)}finally{N(n)}}subscribe(e,n,o){let r=e,i=n||(()=>null),s=o;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:r,error:i,complete:s});return e instanceof ge&&e.add(l),l}wrapInTimeout(e){return n=>{let o=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{o!==void 0&&this.pendingTasks?.remove(o)}})}}},lt=$s;function or(...t){}function ba(t){let e,n;function o(){t=or;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),o()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),o()})),()=>o()}function Ld(t){return queueMicrotask(()=>t()),()=>{t=or}}var xa="isAngularZone",Wn=xa+"_ID",Wg=0,Ne=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new lt(!1);onMicrotaskEmpty=new lt(!1);onStable=new lt(!1);onError=new lt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:i=kd}=e;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&o,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=i,Kg(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xa)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,o){return this._inner.run(e,n,o)}runTask(e,n,o,r){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Jg,or,or);try{return i.runTask(s,n,o)}finally{i.cancelTask(s)}}runGuarded(e,n,o){return this._inner.runGuarded(e,n,o)}runOutsideAngular(e){return this._outer.run(e)}},Jg={};function Ra(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yg(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){ba(()=>{t.callbackScheduled=!1,qs(t),t.isCheckStableRunning=!0,Ra(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),qs(t)}function Kg(t){let e=()=>{Yg(t)},n=Wg++;t._inner=t._inner.fork({name:"angular",properties:{[xa]:!0,[Wn]:n,[Wn+n]:!0},onInvokeTask:(o,r,i,s,l,c)=>{if(jg(c))return o.invokeTask(i,s,l,c);try{return $c(t),o.invokeTask(i,s,l,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qc(t)}},onInvoke:(o,r,i,s,l,c,d)=>{try{return $c(t),o.invoke(i,s,l,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Zg(c)&&e(),qc(t)}},onHasTask:(o,r,i,s)=>{o.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,qs(t),Ra(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(o,r,i,s)=>(o.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function qs(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function $c(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qc(t){t._nesting--,Ra(t)}var Jn=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new lt;onMicrotaskEmpty=new lt;onStable=new lt;onError=new lt;run(e,n,o){return e.apply(n,o)}runGuarded(e,n,o){return e.apply(n,o)}runOutsideAngular(e){return e()}runTask(e,n,o,r){return e.apply(n,o)}};function jg(t){return Od(t,"__ignore_ng_zone__")}function Zg(t){return Od(t,"__scheduler_tick__")}function Od(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ct=class{_console=console;handleError(e){this._console.error("ERROR",e)}},$t=new B("",{factory:()=>{let t=$(Ne),e=$(Me),n;return o=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw o}):(n??=e.get(ct),n.handleError(o))})}}}),Vd={provide:jn,useValue:()=>{let t=$(ct,{optional:!0})},multi:!0};function de(t,e){let[n,o,r]=Is(t,e?.equal),i=n,s=i[Ae];return i.set=o,i.update=r,i.asReadonly=Ud.bind(i),i}function Ud(){let t=this[Ae];if(t.readonlyFn===void 0){let e=()=>this();e[Ae]=t,t.readonlyFn=e}return t.readonlyFn}var cn=class{},io=new B("",{factory:()=>!0});var Pa=new B("");var ka=(()=>{class t{static \u0275prov=X({token:t,providedIn:"root",factory:()=>new zs})}return t})(),zs=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,o=this.queues.get(n);o.has(e)&&(o.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let o=this.queues.get(n);o.has(e)||o.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,o]of this.queues)n===null?e||=this.flushQueue(o):e||=n.run(()=>this.flushQueue(o));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let o of e)o.dirty&&(this.dirtyEffectCount--,n=!0,o.run());return n}},Ws=class{[Ae];constructor(e){this[Ae]=e}destroy(){this[Ae].destroy()}};function gl(t){return{toString:t}.toString()}function am(t){return typeof t=="function"}function ff(t,e,n,o){e!==null?e.applyValueToInputSignal(e,o):t[n]=o}var xr=class{previousValue;currentValue;firstChange;constructor(e,n,o){this.previousValue=e,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}};function lm(t){return t.type.prototype.ngOnChanges&&(t.setInput=cm),um}function um(){let t=hf(this),e=t?.current;if(e){let n=t.previous;if(n===Ot)t.previous=e;else for(let o in e)n[o]=e[o];t.current=null,this.ngOnChanges(e)}}function cm(t,e,n,o,r){let i=this.declaredInputs[o],s=hf(t)||dm(t,{previous:Ot,current:null}),l=s.current||(s.current={}),c=s.previous,d=c[i];l[i]=new xr(d&&d.currentValue,n,c===Ot),ff(t,e,r,n)}var pf="__ngSimpleChanges__";function hf(t){return t[pf]||null}function dm(t,e){return t[pf]=e}var Hd=[];var j=function(t,e=null,n){for(let o=0;o<Hd.length;o++){let r=Hd[o];r(t,e,n)}},q=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(q||{});function fm(t,e,n){let{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(o){let s=lm(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function pm(t,e){for(let n=e.directiveStart,o=e.directiveEnd;n<o;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=i;s&&(t.contentHooks??=[]).push(-n,s),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),c&&(t.viewHooks??=[]).push(-n,c),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Ar(t,e,n){gf(t,e,3,n)}function Mr(t,e,n,o){(t[R]&3)===n&&gf(t,e,n,o)}function Fa(t,e){let n=t[R];(n&3)===e&&(n&=16383,n+=1,t[R]=n)}function gf(t,e,n,o){let r=o!==void 0?t[Ut]&65535:0,i=o??-1,s=e.length-1,l=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(l=e[c],o!=null&&l>=o)break}else e[c]<0&&(t[Ut]+=65536),(l<i||i==-1)&&(hm(t,n,e,c),t[Ut]=(t[Ut]&4294901760)+c+2),c++}function Bd(t,e){j(q.LifecycleHookStart,t,e);let n=N(null);try{e.call(t)}finally{N(n),j(q.LifecycleHookEnd,t,e)}}function hm(t,e,n,o){let r=n[o]<0,i=n[o+1],s=r?-n[o]:n[o],l=t[s];r?t[R]>>14<t[Ut]>>16&&(t[R]&3)===e&&(t[R]+=16384,Bd(l,i)):Bd(l,i)}var In=-1,uo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,o,r){this.factory=e,this.name=r,this.canSeeViewProviders=n,this.injectImpl=o}};function gm(t,e,n){let o=0;for(;o<n.length;){let r=n[o];if(typeof r=="number"){if(r!==0)break;o++;let i=n[o++],s=n[o++],l=n[o++];t.setAttribute(e,s,l,i)}else{let i=r,s=n[++o];mm(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),o++}}return o}function mm(t){return t.charCodeAt(0)===64}function zr(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let o=0;o<e.length;o++){let r=e[o];typeof r=="number"?n=r:n===0||(n===-1||n===2?Gd(t,n,r,null,e[++o]):Gd(t,n,r,null,null))}}return t}function Gd(t,e,n,o,r){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let l=t[i++];if(typeof l=="number"){if(l===e){s=-1;break}else if(l>e){s=i-1;break}}}for(;i<t.length;){let l=t[i];if(typeof l=="number")break;if(l===n){r!==null&&(t[i+1]=r);return}i++,r!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r)}function mf(t){return t!==In}function Rr(t){return t&32767}function ym(t){return t>>16}function Pr(t,e){let n=ym(t),o=e;for(;n>0;)o=o[Vt],n--;return o}var $a=!0;function kr(t){let e=$a;return $a=t,e}var vm=256,yf=vm-1,vf=5,Em=0,tt={};function Cm(t,e,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty(Ft)&&(o=n[Ft]),o==null&&(o=n[Ft]=Em++);let r=o&yf,i=1<<r;e.data[t+(r>>vf)]|=i}function Ef(t,e){let n=Cf(t,e);if(n!==-1)return n;let o=e[b];o.firstCreatePass&&(t.injectorIndex=e.length,La(o.data,t),La(e,null),La(o.blueprint,null));let r=ml(t,e),i=t.injectorIndex;if(mf(r)){let s=Rr(r),l=Pr(r,e),c=l[b].data;for(let d=0;d<8;d++)e[i+d]=l[s+d]|c[s+d]}return e[i+8]=r,i}function La(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Cf(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ml(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,o=null,r=e;for(;r!==null;){if(o=Sf(r),o===null)return In;if(n++,r=r[Vt],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return In}function Im(t,e,n){Cm(t,e,n)}function If(t,e,n){if(n&8||t!==void 0)return t;cr(e,"NodeInjector")}function _f(t,e,n,o){if(n&8&&o===void 0&&(o=null),(n&3)===0){let r=t[dt],i=me(void 0);try{return r?r.get(e,o,n&8):ta(e,o,n&8)}finally{me(i)}}return If(o,e,n)}function Df(t,e,n,o=0,r){if(t!==null){if(e[R]&2048&&!(o&2)){let s=Sm(t,e,n,o,tt);if(s!==tt)return s}let i=Tf(t,e,n,o,tt);if(i!==tt)return i}return _f(e,n,o,r)}function Tf(t,e,n,o,r){let i=Dm(n);if(typeof i=="function"){if(!Ma(e,t,o))return o&1?If(r,n,o):_f(e,n,o,r);try{let s;if(s=i(o),s==null&&!(o&8))cr(n);else return s}finally{Na()}}else if(typeof i=="number"){let s=null,l=Cf(t,e),c=In,d=o&1?e[Re][xe]:null;for((l===-1||o&4)&&(c=l===-1?ml(t,e):e[l+8],c===In||!qd(o,!1)?l=-1:(s=e[b],l=Rr(c),e=Pr(c,e)));l!==-1;){let f=e[b];if($d(i,l,f.data)){let p=_m(l,e,n,s,o,d);if(p!==tt)return p}c=e[l+8],c!==In&&qd(o,e[b].data[l+8]===d)&&$d(i,l,e)?(s=f,l=Rr(c),e=Pr(c,e)):l=-1}}return r}function _m(t,e,n,o,r,i){let s=e[b],l=s.data[t+8],c=o==null?gn(l)&&$a:o!=s&&(l.type&3)!==0,d=r&1&&i===l,f=Nr(l,s,n,c,d);return f!==null?Fr(e,s,f,l,r):tt}function Nr(t,e,n,o,r){let i=t.providerIndexes,s=e.data,l=i&1048575,c=t.directiveStart,d=t.directiveEnd,f=i>>20,p=o?l:l+f,h=r?l+f:d;for(let g=p;g<h;g++){let m=s[g];if(g<c&&n===m||g>=c&&m.type===n)return g}if(r){let g=s[c];if(g&&mn(g)&&g.type===n)return c}return null}function Fr(t,e,n,o,r){let i=t[n],s=e.data;if(i instanceof uo){let l=i;if(l.resolving)throw ea("");let c=kr(l.canSeeViewProviders);l.resolving=!0;let d=s[n].type||s[n],f,p=l.injectImpl?me(l.injectImpl):null,h=Ma(t,o,0);try{i=t[n]=l.factory(void 0,r,s,t,o),e.firstCreatePass&&n>=o.directiveStart&&fm(n,s[n],e)}finally{p!==null&&me(p),kr(c),l.resolving=!1,Na()}}return i}function Dm(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ft)?t[Ft]:void 0;return typeof e=="number"?e>=0?e&yf:Tm:e}function $d(t,e,n){let o=1<<t;return!!(n[e+(t>>vf)]&o)}function qd(t,e){return!(t&2)&&!(t&1&&e)}var qt=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,o){return Df(this._tNode,this._lView,e,bt(o),n)}};function Tm(){return new qt(gt(),Y())}function Sm(t,e,n,o,r){let i=t,s=e;for(;i!==null&&s!==null&&s[R]&2048&&!yn(s);){let l=Tf(i,s,n,o|2,tt);if(l!==tt)return l;let c=i.parent;if(!c){let d=s[ua];if(d){let f=d.get(n,tt,o);if(f!==tt)return f}c=Sf(s),s=s[Vt]}i=c}return r}function Sf(t){let e=t[b],n=e.type;return n===2?e.declTNode:n===1?t[xe]:null}function wm(){return wn(gt(),Y())}function wn(t,e){return new An(Xe(t,e))}var An=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=wm}return t})();function Am(t){return t instanceof An?t.nativeElement:t}function Mm(){return this._results[Symbol.iterator]()}var Lr=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new at}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let o=Zc(e);(this._changesDetected=!jc(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Mm};function wf(t){return(t.flags&128)===128}var yl=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(yl||{}),Af=new Map,Nm=0;function bm(){return Nm++}function xm(t){Af.set(t[ft],t)}function qa(t){Af.delete(t[ft])}var zd="__ngContext__";function _n(t,e){pt(e)?(t[zd]=e[ft],xm(e)):t[zd]=e}function Mf(t){return bf(t[hn])}function Nf(t){return bf(t[be])}function bf(t){for(;t!==null&&!Ge(t);)t=t[be];return t}var Rm;function vl(t){Rm=t}var Wr=new B("",{factory:()=>Pm}),Pm="ng";var Jr=new B(""),vo=new B("",{providedIn:"platform",factory:()=>"unknown"});var Yr=new B("",{factory:()=>$($e).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var xf="r";var Rf="di";var Pf=!1,kf=new B("",{factory:()=>Pf});var km=(t,e,n,o)=>{};function Fm(t,e,n,o){km(t,e,n,o)}function El(t){return(t.flags&32)===32}var Lm=()=>null;function Ff(t,e,n=!1){return Lm(t,e,n)}function Lf(t,e){let n=t.contentQueries;if(n!==null){let o=N(null);try{for(let r=0;r<n.length;r+=2){let i=n[r],s=n[r+1];if(s!==-1){let l=t.data[s];Cr(i),l.contentQueries(2,e[s],s)}}}finally{N(o)}}}function za(t,e,n){Cr(0);let o=N(null);try{e(t,n)}finally{N(o)}}function Om(t,e,n){if(da(e)){let o=N(null);try{let r=e.directiveStart,i=e.directiveEnd;for(let s=r;s<i;s++){let l=t.data[s];if(l.contentQueries){let c=n[s];l.contentQueries(1,c,s)}}}finally{N(o)}}}var ze=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(ze||{});var Or=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rr})`}};function Kr(t){return t instanceof Or?t.changingThisBreaksApplicationSecurity:t}function Of(t,e){let n=Vf(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${rr})`)}return n===e}function Vf(t){return t instanceof Or&&t.getTypeName()||null}var Vm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Uf(t){return t=String(t),t.match(Vm)?t:"unsafe:"+t}function Um(t,e){return t.createText(e)}function Hm(t,e,n){t.setValue(e,n)}function Hf(t,e,n){return t.createElement(e,n)}function Vr(t,e,n,o,r){t.insertBefore(e,n,o,r)}function Bf(t,e,n){t.appendChild(e,n)}function Wd(t,e,n,o,r){o!==null?Vr(t,e,n,o,r):Bf(t,e,n)}function Gf(t,e,n,o){t.removeChild(null,e,n,o)}function Bm(t,e,n){t.setAttribute(e,"style",n)}function Gm(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $f(t,e,n){let{mergedAttrs:o,classes:r,styles:i}=n;o!==null&&gm(t,e,o),r!==null&&Gm(t,e,r),i!==null&&Bm(t,e,i)}var Cl=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Cl||{});function jr(t){let e=$m();return e?e.sanitize(Cl.URL,t)||"":Of(t,"URL")?Kr(t):Uf(Xs(t))}function $m(){let t=Y();return t&&t[Ze].sanitizer}var qm="ng-template";function zm(t){return t.type===4&&t.value!==qm}function Wa(t){return(t&1)===0}function Jd(t,e){return t?":not("+e.trim()+")":e}function Wm(t){let e=t[0],n=1,o=2,r="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(o&2){let l=t[++n];r+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else o&8?r+="."+s:o&4&&(r+=" "+s);else r!==""&&!Wa(s)&&(e+=Jd(i,r),r=""),o=s,i=i||!Wa(o);n++}return r!==""&&(e+=Jd(i,r)),e}function Jm(t){return t.map(Wm).join(",")}function Ym(t){let e=[],n=[],o=1,r=2;for(;o<t.length;){let i=t[o];if(typeof i=="string")r===2?i!==""&&e.push(i,t[++o]):r===8&&n.push(i);else{if(!Wa(r))break;r=i}o++}return n.length&&e.push(1,...n),e}var Fe={};function Il(t,e,n,o,r,i,s,l,c,d,f){let p=ae+o,h=p+r,g=Km(p,h),m=typeof d=="function"?d():d;return g[b]={type:t,blueprint:g,template:n,queries:null,viewQuery:l,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:f}}function Km(t,e){let n=[];for(let o=0;o<e;o++)n.push(o<t?null:Fe);return n}function jm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Il(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _l(t,e,n,o,r,i,s,l,c,d,f){let p=e.blueprint.slice();return p[Be]=r,p[R]=o|4|128|8|64|1024,(d!==null||t&&t[R]&2048)&&(p[R]|=2048),ya(p),p[se]=p[Vt]=t,p[te]=n,p[Ze]=s||t&&t[Ze],p[oe]=l||t&&t[oe],p[dt]=c||t&&t[dt]||null,p[xe]=i,p[ft]=bm(),p[fn]=f,p[ua]=d,p[Re]=e.type==2?t[Re]:p,p}function Zm(t,e,n){let o=Xe(e,t),r=jm(n),i=t[Ze].rendererFactory,s=Dl(t,_l(t,r,null,qf(n),o,e,null,i.createRenderer(o,n),null,null,null));return t[e.index]=s}function qf(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function zf(t,e,n,o){if(n===0)return-1;let r=e.length;for(let i=0;i<n;i++)e.push(o),t.blueprint.push(o),t.data.push(null);return r}function Dl(t,e){return t[hn]?t[la][be]=e:t[hn]=e,t[la]=e,e}function V(t=1){Wf(we(),Y(),mt()+t,!1)}function Wf(t,e,n,o){if(!o)if((e[R]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Ar(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Mr(e,i,0,n)}Tt(n)}var Zr=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Zr||{});function Ja(t,e,n,o){let r=N(null);try{let[i,s,l]=t.inputs[n],c=null;(s&Zr.SignalBased)!==0&&(c=e[i][Ae]),c!==null&&c.transformFn!==void 0?o=c.transformFn(o):l!==null&&(o=l.call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,i):ff(e,c,i,o)}finally{N(r)}}var nt=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(nt||{}),Qm;function Tl(t,e){return Qm(t,e)}var zt=new Set,Sl=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Sl||{}),Eo=new B(""),Yd=new Set;function Yt(t){Yd.has(t)||(Yd.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Jf=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}return t})();var Yf=new B("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:$(Me)})});function Kf(t,e,n){let o=t.get(Yf);if(Array.isArray(e))for(let r of e)o.queue.add(r),n?.detachedLeaveAnimationFns?.push(r);else o.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);o.scheduler&&o.scheduler(t)}function Xm(t,e){let n=t.get(Yf);if(e.detachedLeaveAnimationFns){for(let o of e.detachedLeaveAnimationFns)n.queue.delete(o);e.detachedLeaveAnimationFns=void 0}}function ey(t,e){for(let[n,o]of e)Kf(t,o.animateFns)}function Kd(t,e,n,o){let r=t?.[Ht]?.enter;e!==null&&r&&r.has(n.index)&&ey(o,r)}function Cn(t,e,n,o,r,i,s,l){if(r!=null){let c,d=!1;Ge(r)?c=r:pt(r)&&(d=!0,r=r[Be]);let f=Pe(r);t===0&&o!==null?(Kd(l,o,i,n),s==null?Bf(e,o,f):Vr(e,o,f,s||null,!0)):t===1&&o!==null?(Kd(l,o,i,n),Vr(e,o,f,s||null,!0)):t===2?jd(l,i,n,p=>{Gf(e,f,d,p)}):t===3&&jd(l,i,n,()=>{e.destroyNode(f)}),c!=null&&py(e,t,n,c,i,o,s)}}function ty(t,e){jf(t,e),e[Be]=null,e[xe]=null}function ny(t,e,n,o,r,i){o[Be]=r,o[xe]=e,Xr(t,o,n,1,r,i)}function jf(t,e){e[Ze].changeDetectionScheduler?.notify(9),Xr(t,e,e[oe],2,null,null)}function oy(t){let e=t[hn];if(!e)return Oa(t[b],t);for(;e;){let n=null;if(pt(e))n=e[hn];else{let o=e[ee];o&&(n=o)}if(!n){for(;e&&!e[be]&&e!==t;)pt(e)&&Oa(e[b],e),e=e[se];e===null&&(e=t),pt(e)&&Oa(e[b],e),n=e&&e[be]}e=n}}function wl(t,e){let n=t[Bt],o=n.indexOf(e);n.splice(o,1)}function Qr(t,e){if(Gt(e))return;let n=e[oe];n.destroyNode&&Xr(t,e,n,3,null,null),oy(e)}function Oa(t,e){if(Gt(e))return;let n=N(null);try{e[R]&=-129,e[R]|=256,e[Se]&&zo(e[Se]),sy(t,e),iy(t,e),e[b].type===1&&e[oe].destroy();let o=e[_t];if(o!==null&&Ge(e[se])){o!==e[se]&&wl(o,e);let r=e[Qe];r!==null&&r.detachView(t)}qa(e)}finally{N(n)}}function jd(t,e,n,o){let r=t?.[Ht];if(r==null||r.leave==null||!r.leave.has(e.index))return o(!1);t&&zt.add(t[ft]),Kf(n,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),l=[];if(s){for(let c=0;c<s.animateFns.length;c++){let d=s.animateFns[c],{promise:f}=d();l.push(f)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(l),ry(t,o)}else t&&zt.delete(t[ft]),o(!1)},r)}function ry(t,e){let n=t[Ht]?.running;if(n){n.then(()=>{t[Ht].running=void 0,zt.delete(t[ft]),e(!0)});return}e(!1)}function iy(t,e){let n=t.cleanup,o=e[pn];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let l=n[s+3];l>=0?o[l]():o[-l].unsubscribe(),s+=2}else{let l=o[n[s+1]];n[s].call(l)}o!==null&&(e[pn]=null);let r=e[ut];if(r!==null){e[ut]=null;for(let s=0;s<r.length;s++){let l=r[s];l()}}let i=e[Xn];if(i!==null){e[Xn]=null;for(let s of i)s.destroy()}}function sy(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let r=e[n[o]];if(!(r instanceof uo)){let i=n[o+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let l=r[i[s]],c=i[s+1];j(q.LifecycleHookStart,l,c);try{c.call(l)}finally{j(q.LifecycleHookEnd,l,c)}}else{j(q.LifecycleHookStart,r,i);try{i.call(r)}finally{j(q.LifecycleHookEnd,r,i)}}}}}function ay(t,e,n){return ly(t,e.parent,n)}function ly(t,e,n){let o=e;for(;o!==null&&o.type&168;)e=o,o=e.parent;if(o===null)return n[Be];if(gn(o)){let{encapsulation:r}=t.data[o.directiveStart+o.componentOffset];if(r===ze.None||r===ze.Emulated)return null}return Xe(o,n)}function uy(t,e,n){return dy(t,e,n)}function cy(t,e,n){return t.type&40?Xe(t,n):null}var dy=cy,Zd;function Al(t,e,n,o){let r=ay(t,o,e),i=e[oe],s=o.parent||e[xe],l=uy(s,o,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Wd(i,r,n[c],l,!1);else Wd(i,r,n,l,!1);Zd!==void 0&&Zd(i,o,e,n,r)}function ao(t,e){if(e!==null){let n=e.type;if(n&3)return Xe(e,t);if(n&4)return Ya(-1,t[e.index]);if(n&8){let o=e.child;if(o!==null)return ao(t,o);{let r=t[e.index];return Ge(r)?Ya(-1,r):Pe(r)}}else{if(n&128)return ao(t,e.next);if(n&32)return Tl(e,t)()||Pe(t[e.index]);{let o=Zf(t,e);if(o!==null){if(Array.isArray(o))return o[0];let r=It(t[Re]);return ao(r,o)}else return ao(t,e.next)}}}return null}function Zf(t,e){if(e!==null){let o=t[Re][xe],r=e.projection;return o.projection[r]}return null}function Ya(t,e){let n=ee+t+1;if(n<e.length){let o=e[n],r=o[b].firstChild;if(r!==null)return ao(o,r)}return e[Dt]}function Ml(t,e,n,o,r,i,s){for(;n!=null;){let l=o[dt];if(n.type===128){n=n.next;continue}let c=o[n.index],d=n.type;if(s&&e===0&&(c&&_n(Pe(c),o),n.flags|=2),!El(n))if(d&8)Ml(t,e,n.child,o,r,i,!1),Cn(e,t,l,r,c,n,i,o);else if(d&32){let f=Tl(n,o),p;for(;p=f();)Cn(e,t,l,r,p,n,i,o);Cn(e,t,l,r,c,n,i,o)}else d&16?fy(t,e,o,n,r,i):Cn(e,t,l,r,c,n,i,o);n=s?n.projectionNext:n.next}}function Xr(t,e,n,o,r,i){Ml(n,o,t.firstChild,e,r,i,!1)}function fy(t,e,n,o,r,i){let s=n[Re],c=s[xe].projection[o.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let f=c[d];Cn(e,t,n[dt],r,f,o,i,n)}else{let d=c,f=s[se];wf(o)&&(d.flags|=128),Ml(t,e,d,f,r,i,!0)}}function py(t,e,n,o,r,i,s){let l=o[Dt],c=Pe(o);l!==c&&Cn(e,t,n,i,l,r,s);for(let d=ee;d<o.length;d++){let f=o[d];Xr(f[b],f,t,e,i,l)}}function hy(t,e,n,o,r){if(e)r?t.addClass(n,o):t.removeClass(n,o);else{let i=o.indexOf("-")===-1?void 0:nt.DashCase;r==null?t.removeStyle(n,o,i):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),i|=nt.Important),t.setStyle(n,o,r,i))}}function Qf(t,e,n,o,r){let i=mt(),s=o&2;try{Tt(-1),s&&e.length>ae&&Wf(t,e,ae,!1);let l=s?q.TemplateUpdateStart:q.TemplateCreateStart;j(l,r,n),n(o,r)}finally{Tt(i);let l=s?q.TemplateUpdateEnd:q.TemplateCreateEnd;j(l,r,n)}}function gy(t,e,n){Cy(t,e,n),(n.flags&64)===64&&Iy(t,e,n)}function Xf(t,e,n=Xe){let o=e.localNames;if(o!==null){let r=e.index+1;for(let i=0;i<o.length;i+=2){let s=o[i+1],l=s===-1?n(e,t):t[s];t[r++]=l}}}function my(t,e,n,o){let i=o.get(kf,Pf)||n===ze.ShadowDom||n===ze.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,i);return yy(s),s}function yy(t){vy(t)}var vy=()=>null;function Ey(t,e,n,o,r,i){if(t.type&3){let s=Xe(t,e);o=i!=null?i(o,t.value||"",n):o,r.setProperty(s,n,o)}else t.type&12}function Cy(t,e,n){let o=n.directiveStart,r=n.directiveEnd;gn(n)&&Zm(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Ef(n,e);let i=n.initialInputs;for(let s=o;s<r;s++){let l=t.data[s],c=Fr(e,t,s,n);if(_n(c,e),i!==null&&Dy(e,s-o,c,l,n,i),mn(l)){let d=ht(n.index,e);d[te]=Fr(e,t,s,n)}}}function Iy(t,e,n){let o=n.directiveStart,r=n.directiveEnd,i=n.index,s=Td();try{Tt(i);for(let l=o;l<r;l++){let c=t.data[l],d=e[l];Er(l),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&_y(c,d)}}finally{Tt(-1),Er(s)}}function _y(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Dy(t,e,n,o,r,i){let s=i[e];if(s!==null)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1];Ja(o,n,c,d)}}function Ty(t,e,n,o,r){let i=ae+n,s=e[b],l=r(s,e,t,o,n);e[i]=l,vn(t,!0);let c=t.type===2;return c?($f(e[oe],l,t),(dd()===0||fa(t))&&_n(l,e),fd()):_n(l,e),Dr()&&(!c||!El(t))&&Al(s,e,l,t),t}function Sy(t){let e=t;return Da()?vd():(e=e.parent,vn(e,!1)),e}function wy(t,e){let n=t[dt];if(!n)return;let o;try{o=n.get($t,null)}catch{o=null}o?.(e)}function ep(t,e,n,o,r){let i=t.inputs?.[o],s=t.hostDirectiveInputs?.[o],l=!1;if(s)for(let c=0;c<s.length;c+=2){let d=s[c],f=s[c+1],p=e.data[d];Ja(p,n[d],f,r),l=!0}if(i)for(let c of i){let d=n[c],f=e.data[c];Ja(f,d,o,r),l=!0}return l}function Ay(t,e){let n=ht(e,t),o=n[b];My(o,n);let r=n[Be];r!==null&&n[fn]===null&&(n[fn]=Ff(r,n[dt])),j(q.ComponentStart);try{Nl(o,n,n[te])}finally{j(q.ComponentEnd,n[te])}}function My(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Nl(t,e,n){Ir(e);try{let o=t.viewQuery;o!==null&&za(1,o,n);let r=t.template;r!==null&&Qf(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Qe]?.finishViewCreation(t),t.staticContentQueries&&Lf(t,e),t.staticViewQueries&&za(2,t.viewQuery,n);let i=t.components;i!==null&&Ny(e,i)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{e[R]&=-5,_r()}}function Ny(t,e){for(let n=0;n<e.length;n++)Ay(t,e[n])}function ei(t,e,n,o){let r=N(null);try{let i=e.tView,l=t[R]&4096?4096:16,c=_l(t,i,n,l,null,e,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),d=t[e.index];c[_t]=d;let f=t[Qe];return f!==null&&(c[Qe]=f.createEmbeddedView(i)),Nl(i,c,n),c}finally{N(r)}}function co(t,e){return!e||e.firstChild===null||wf(t)}function fo(t,e,n,o,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&o.push(Pe(i)),Ge(i)&&tp(i,o);let s=n.type;if(s&8)fo(t,e,n.child,o);else if(s&32){let l=Tl(n,e),c;for(;c=l();)o.push(c)}else if(s&16){let l=Zf(e,n);if(Array.isArray(l))o.push(...l);else{let c=It(e[Re]);fo(c[b],c,l,o,!0)}}n=r?n.projectionNext:n.next}return o}function tp(t,e){for(let n=ee;n<t.length;n++){let o=t[n],r=o[b].firstChild;r!==null&&fo(o[b],o,r,e)}t[Dt]!==t[Be]&&e.push(t[Dt])}function np(t){if(t[mr]!==null){for(let e of t[mr])e.impl.addSequence(e);t[mr].length=0}}var op=[];function by(t){return t[Se]??xy(t)}function xy(t){let e=op.pop()??Object.create(Py);return e.lView=t,e}function Ry(t){t.lView[Se]!==t&&(t.lView=null,op.push(t))}var Py=he(le({},Bn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{oo(t.lView)},consumerOnSignalRead(){this.lView[Se]=this}});function ky(t){let e=t[Se]??Object.create(Fy);return e.lView=t,e}var Fy=he(le({},Bn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=It(t.lView);for(;e&&!rp(e[b]);)e=It(e);e&&va(e)},consumerOnSignalRead(){this.lView[Se]=this}});function rp(t){return t.type!==2}function ip(t){if(t[Xn]===null)return;let e=!0;for(;e;){let n=!1;for(let o of t[Xn])o.dirty&&(n=!0,o.zone===null||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));e=n&&!!(t[R]&8192)}}var Ly=100;function sp(t,e=0){let o=t[Ze].rendererFactory,r=!1;r||o.begin?.();try{Oy(t,e)}finally{r||o.end?.()}}function Oy(t,e){let n=Ta();try{Sa(!0),Ka(t,e);let o=0;for(;no(t);){if(o===Ly)throw new P(103,!1);o++,Ka(t,1)}}finally{Sa(n)}}function Vy(t,e,n,o){if(Gt(e))return;let r=e[R],i=!1,s=!1;Ir(e);let l=!0,c=null,d=null;i||(rp(t)?(d=by(e),c=qo(d)):$o()===null?(l=!1,d=ky(e),c=qo(d)):e[Se]&&(zo(e[Se]),e[Se]=null));try{ya(e),Id(t.bindingStartIndex),n!==null&&Qf(t,e,n,2,o);let f=(r&3)===3;if(!i)if(f){let g=t.preOrderCheckHooks;g!==null&&Ar(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Mr(e,g,0,null),Fa(e,0)}if(s||Uy(e),ip(e),ap(e,0),t.contentQueries!==null&&Lf(t,e),!i)if(f){let g=t.contentCheckHooks;g!==null&&Ar(e,g)}else{let g=t.contentHooks;g!==null&&Mr(e,g,1),Fa(e,1)}By(t,e);let p=t.components;p!==null&&up(e,p,0);let h=t.viewQuery;if(h!==null&&za(2,h,o),!i)if(f){let g=t.viewCheckHooks;g!==null&&Ar(e,g)}else{let g=t.viewHooks;g!==null&&Mr(e,g,2),Fa(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[gr]){for(let g of e[gr])g();e[gr]=null}i||(np(e),e[R]&=-73)}catch(f){throw i||oo(e),f}finally{d!==null&&(gs(d,c),l&&Ry(d)),_r()}}function ap(t,e){for(let n=Mf(t);n!==null;n=Nf(n))for(let o=ee;o<n.length;o++){let r=n[o];lp(r,e)}}function Uy(t){for(let e=Mf(t);e!==null;e=Nf(e)){if(!(e[R]&2))continue;let n=e[Bt];for(let o=0;o<n.length;o++){let r=n[o];va(r)}}}function Hy(t,e,n){j(q.ComponentStart);let o=ht(e,t);try{lp(o,n)}finally{j(q.ComponentEnd,o[te])}}function lp(t,e){yr(t)&&Ka(t,e)}function Ka(t,e){let o=t[b],r=t[R],i=t[Se],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(i?.dirty&&ms(i)),s||=!1,i&&(i.dirty=!1),t[R]&=-9217,s)Vy(o,t,o.template,t[te]);else if(r&8192){let l=N(null);try{ip(t),ap(t,1);let c=o.components;c!==null&&up(t,c,1),np(t)}finally{N(l)}}}function up(t,e,n){for(let o=0;o<e.length;o++)Hy(t,e[o],n)}function By(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let r=n[o];if(r<0)Tt(~r);else{let i=r,s=n[++o],l=n[++o];Dd(s,i);let c=e[i];j(q.HostBindingsUpdateStart,c);try{l(2,c)}finally{j(q.HostBindingsUpdateEnd,c)}}}}finally{Tt(-1)}}function bl(t,e){let n=Ta()?64:1088;for(t[Ze].changeDetectionScheduler?.notify(e);t;){t[R]|=n;let o=It(t);if(yn(t)&&!o)return t;t=o}return null}function cp(t,e,n,o){return[t,!0,0,e,null,o,null,n,null,null]}function dp(t,e){let n=ee+e;if(n<t.length)return t[n]}function ti(t,e,n,o=!0){let r=e[b];if(Gy(r,e,t,n),o){let s=Ya(n,t),l=e[oe],c=l.parentNode(t[Dt]);c!==null&&ny(r,t[xe],l,e,c,s)}let i=e[fn];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function fp(t,e){let n=po(t,e);return n!==void 0&&Qr(n[b],n),n}function po(t,e){if(t.length<=ee)return;let n=ee+e,o=t[n];if(o){let r=o[_t];r!==null&&r!==t&&wl(r,o),e>0&&(t[n-1][be]=o[be]);let i=Kn(t,ee+e);ty(o[b],o);let s=i[Qe];s!==null&&s.detachView(i[b]),o[se]=null,o[be]=null,o[R]&=-129}return o}function Gy(t,e,n,o){let r=ee+o,i=n.length;o>0&&(n[r-1][be]=e),o<i-ee?(e[be]=n[r],na(n,ee+o,e)):(n.push(e),e[be]=null),e[se]=n;let s=e[_t];s!==null&&n!==s&&pp(s,e);let l=e[Qe];l!==null&&l.insertView(t),vr(e),e[R]|=128}function pp(t,e){let n=t[Bt],o=e[se];if(pt(o))t[R]|=2;else{let r=o[se][Re];e[Re]!==r&&(t[R]|=2)}n===null?t[Bt]=[e]:n.push(e)}var Dn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[b];return fo(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[te]}set context(e){this._lView[te]=e}get destroyed(){return Gt(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[se];if(Ge(e)){let n=e[eo],o=n?n.indexOf(this):-1;o>-1&&(po(e,o),Kn(n,o))}this._attachedToViewContainer=!1}Qr(this._lView[b],this._lView)}onDestroy(e){Ea(this._lView,e)}markForCheck(){bl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[R]&=-129}reattach(){vr(this._lView),this._lView[R]|=128}detectChanges(){this._lView[R]|=1024,sp(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=yn(this._lView),n=this._lView[_t];n!==null&&!e&&wl(n,this._lView),jf(this._lView[b],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e;let n=yn(this._lView),o=this._lView[_t];o!==null&&!n&&pp(o,this._lView),vr(this._lView)}};var Tn=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=$y;constructor(n,o,r){this._declarationLView=n,this._declarationTContainer=o,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,r){let i=ei(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:o,dehydratedView:r});return new Dn(i)}}return t})();function $y(){return xl(gt(),Y())}function xl(t,e){return t.type&4?new Tn(e,t,wn(t,e)):null}function ni(t,e,n,o,r){let i=t.data[e];if(i===null)i=qy(t,e,n,o,r),_d()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=o,i.attrs=r;let s=yd();i.injectorIndex=s===null?-1:s.injectorIndex}return vn(i,!0),i}function qy(t,e,n,o,r){let i=_a(),s=Da(),l=s?i:i&&i.parent,c=t.data[e]=Wy(t,l,n,e,o,r);return zy(t,c,i,s),c}function zy(t,e,n,o){t.firstChild===null&&(t.firstChild=e),n!==null&&(o?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Wy(t,e,n,o,r,i){let s=e?e.injectorIndex:-1,l=0;return hd()&&(l|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Jy(t){let e=t[ca]??[],o=t[se][oe],r=[];for(let i of e)i.data[Rf]!==void 0?r.push(i):Yy(i,o);t[ca]=r}function Yy(t,e){let n=0,o=t.firstChild;if(o){let r=t.data[xf];for(;n<r;){let i=o.nextSibling;Gf(e,o,!1),o=i,n++}}}var Ky=()=>null,jy=()=>null;function ja(t,e){return Ky(t,e)}function hp(t,e,n){return jy(t,e,n)}var gp=class{},oi=class{},Za=class{resolveComponentFactory(e){throw new P(917,!1)}},ri=class{static NULL=new Za},Wt=class{};var mp=(()=>{class t{static \u0275prov=X({token:t,providedIn:"root",factory:()=>null})}return t})();var br={},Qa=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,o){let r=this.injector.get(e,br,o);return r!==br||n===br?r:this.parentInjector.get(e,n,o)}};function Ur(t,e,n){let o=n?t.styles:null,r=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")i=l;else if(i==1)r=sr(r,l);else if(i==2){let c=l,d=e[++s];o=sr(o,c+": "+d+";")}}n?t.styles=o:t.stylesWithoutHost=o,n?t.classes=r:t.classesWithoutHost=r}function Co(t,e=0){let n=Y();if(n===null)return J(t,e);let o=gt();return Df(o,n,Te(t),e)}function Zy(t,e,n,o,r){let i=o===null?null:{"":-1},s=r(t,n);if(s!==null){let l=s,c=null,d=null;for(let f of s)if(f.resolveHostDirectives!==null){[l,c,d]=f.resolveHostDirectives(s);break}ev(t,e,n,l,i,c,d)}i!==null&&o!==null&&Qy(n,o,i)}function Qy(t,e,n){let o=t.localNames=[];for(let r=0;r<e.length;r+=2){let i=n[e[r+1]];if(i==null)throw new P(-301,!1);o.push(e[r],i)}}function Xy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ev(t,e,n,o,r,i,s){let l=o.length,c=null;for(let h=0;h<l;h++){let g=o[h];c===null&&mn(g)&&(c=g,Xy(t,n,h)),Im(Ef(n,e),t,g.type)}sv(n,t.data.length,l),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<l;h++){let g=o[h];g.providersResolver&&g.providersResolver(g)}let d=!1,f=!1,p=zf(t,e,l,null);l>0&&(n.directiveToIndex=new Map);for(let h=0;h<l;h++){let g=o[h];if(n.mergedAttrs=zr(n.mergedAttrs,g.hostAttrs),nv(t,n,e,p,g),iv(p,g,r),s!==null&&s.has(g)){let[y,E]=s.get(g);n.directiveToIndex.set(g.type,[p,y+n.directiveStart,E+n.directiveStart])}else(i===null||!i.has(g))&&n.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let m=g.type.prototype;!d&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!f&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}tv(t,n,i)}function tv(t,e,n){for(let o=e.directiveStart;o<e.directiveEnd;o++){let r=t.data[o];if(n===null||!n.has(r))Qd(0,e,r,o),Qd(1,e,r,o),ef(e,o,!1);else{let i=n.get(r);Xd(0,e,i,o),Xd(1,e,i,o),ef(e,o,!0)}}}function Qd(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(o),yp(e,i)}}function Xd(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s=r[i],l;t===0?l=e.hostDirectiveInputs??={}:l=e.hostDirectiveOutputs??={},l[s]??=[],l[s].push(o,i),yp(e,s)}}function yp(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function ef(t,e,n){let{attrs:o,inputs:r,hostDirectiveInputs:i}=t;if(o===null||!n&&r===null||n&&i===null||zm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,l=0;for(;l<o.length;){let c=o[l];if(c===0){l+=4;continue}else if(c===5){l+=2;continue}else if(typeof c=="number")break;if(!n&&r.hasOwnProperty(c)){let d=r[c];for(let f of d)if(f===e){s??=[],s.push(c,o[l+1]);break}}else if(n&&i.hasOwnProperty(c)){let d=i[c];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],o[l+1]);break}}l+=2}t.initialInputs??=[],t.initialInputs.push(s)}function nv(t,e,n,o,r){t.data[o]=r;let i=r.factory||(r.factory=xt(r.type,!0)),s=new uo(i,mn(r),Co,null);t.blueprint[o]=s,n[o]=s,ov(t,e,o,zf(t,n,r.hostVars,Fe),r)}function ov(t,e,n,o,r){let i=r.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let l=~e.index;rv(s)!=l&&s.push(l),s.push(n,o,i)}}function rv(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function iv(t,e,n){if(n){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)n[e.exportAs[o]]=t;mn(e)&&(n[""]=t)}}function sv(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function av(t,e,n,o,r,i,s,l){let c=e[b],d=c.consts,f=et(d,s),p=ni(c,t,n,o,f);return i&&Zy(c,e,p,et(d,l),r),p.mergedAttrs=zr(p.mergedAttrs,p.attrs),p.attrs!==null&&Ur(p,p.attrs,!1),p.mergedAttrs!==null&&Ur(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function lv(t,e){pm(t,e),da(e)&&t.queries.elementEnd(e)}function uv(t,e,n,o,r,i){let s=e.consts,l=et(s,r),c=ni(e,t,n,o,l);if(c.mergedAttrs=zr(c.mergedAttrs,c.attrs),i!=null){let d=et(s,i);c.localNames=[];for(let f=0;f<d.length;f+=2)c.localNames.push(d[f],-1)}return c.attrs!==null&&Ur(c,c.attrs,!1),c.mergedAttrs!==null&&Ur(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function cv(t,e,n){return t[e]=n}function Kt(t,e,n){if(n===Fe)return!1;let o=t[e];return Object.is(o,n)?!1:(t[e]=n,!0)}function dv(t,e,n){return function o(r){let i=gn(t)?ht(t.index,e):e;bl(i,5);let s=e[te],l=tf(e,s,n,r),c=o.__ngNextListenerFn__;for(;c;)l=tf(e,s,c,r)&&l,c=c.__ngNextListenerFn__;return l}}function tf(t,e,n,o){let r=N(null);try{return j(q.OutputStart,e,n),n(o)!==!1}catch(i){return wy(t,i),!1}finally{j(q.OutputEnd,e,n),N(r)}}function fv(t,e,n,o,r,i,s,l){let c=fa(t),d=!1,f=null;if(!o&&c&&(f=hv(e,n,i,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,d=!0}else{let p=Xe(t,n),h=o?o(p):p;Fm(n,h,i,l);let g=r.listen(h,i,l);if(!pv(i)){let m=o?y=>o(Pe(y[t.index])):t.index;gv(m,e,n,i,l,g,!1)}}return d}function pv(t){return t.startsWith("animation")||t.startsWith("transition")}function hv(t,e,n,o){let r=t.cleanup;if(r!=null)for(let i=0;i<r.length-1;i+=2){let s=r[i];if(s===n&&r[i+1]===o){let l=e[pn],c=r[i+2];return l&&l.length>c?l[c]:null}typeof s=="string"&&(i+=2)}return null}function gv(t,e,n,o,r,i,s){let l=e.firstCreatePass?Ia(e):null,c=Ca(n),d=c.length;c.push(r,i),l&&l.push(o,t,d,(d+1)*(s?-1:1))}var Xa=Symbol("BINDING");var el=class extends ri{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Lt(e);return new ho(n,this.ngModule)}};function mv(t){return Object.keys(t).map(e=>{let[n,o,r]=t[e],i={propName:n,templateName:e,isSignal:(o&Zr.SignalBased)!==0};return r&&(i.transform=r),i})}function yv(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function vv(t,e,n){let o=e instanceof Me?e:e?.injector;return o&&t.getStandaloneInjector!==null&&(o=t.getStandaloneInjector(o)||o),o?new Qa(n,o):n}function Ev(t){let e=t.get(Wt,null);if(e===null)throw new P(407,!1);let n=t.get(mp,null),o=t.get(cn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:o,ngReflect:!1}}function Cv(t,e){let n=vp(t);return Hf(e,n,n==="svg"?pa:n==="math"?id:null)}function vp(t){return(t.selectors[0][0]||"div").toLowerCase()}var ho=class extends oi{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=mv(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=yv(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Jm(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,o,r,i,s){j(q.DynamicComponentStart);let l=N(null);try{let c=this.componentDef,d=Iv(o,c,s,i),f=vv(c,r||this.ngModule,e),p=Ev(f),h=p.rendererFactory.createRenderer(null,c),g=o?my(h,o,c.encapsulation,f):Cv(c,h),m=s?.some(nf)||i?.some(v=>typeof v!="function"&&v.bindings.some(nf)),y=_l(null,d,null,512|qf(c),null,null,p,h,f,null,Ff(g,f,!0));y[ae]=g,Ir(y);let E=null;try{let v=av(ae,y,2,"#host",()=>d.directiveRegistry,!0,0);$f(h,g,v),_n(g,y),gy(d,y,v),Om(d,v,y),lv(d,v),n!==void 0&&Dv(v,this.ngContentSelectors,n),E=ht(v.index,y),y[te]=E[te],Nl(d,y,null)}catch(v){throw E!==null&&qa(E),qa(y),v}finally{j(q.DynamicComponentEnd),_r()}return new Hr(this.componentType,y,!!m)}finally{N(l)}}};function Iv(t,e,n,o){let r=t?["ng-version","21.1.2"]:Ym(e.selectors[0]),i=null,s=null,l=0;if(n)for(let f of n)l+=f[Xa].requiredVars,f.create&&(f.targetIdx=0,(i??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(o)for(let f=0;f<o.length;f++){let p=o[f];if(typeof p!="function")for(let h of p.bindings){l+=h[Xa].requiredVars;let g=f+1;h.create&&(h.targetIdx=g,(i??=[]).push(h)),h.update&&(h.targetIdx=g,(s??=[]).push(h))}}let c=[e];if(o)for(let f of o){let p=typeof f=="function"?f:f.type,h=Zs(p);c.push(h)}return Il(0,null,_v(i,s),1,l,c,null,null,null,[r],null)}function _v(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let o of t)o.create();if(n&2&&e)for(let o of e)o.update()}}function nf(t){let e=t[Xa].kind;return e==="input"||e==="twoWay"}var Hr=class extends gp{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,o){super(),this._rootLView=n,this._hasInputBindings=o,this._tNode=to(n[b],ae),this.location=wn(this._tNode,n),this.instance=ht(this._tNode.index,n)[te],this.hostView=this.changeDetectorRef=new Dn(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView,i=ep(o,r[b],r,e,n);this.previousInputValues.set(e,n);let s=ht(o.index,r);bl(s,1)}get injector(){return new qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Dv(t,e,n){let o=t.projection=[];for(let r=0;r<e.length;r++){let i=n[r];o.push(i!=null&&i.length?Array.from(i):null)}}var Io=(()=>{class t{static __NG_ELEMENT_ID__=Tv}return t})();function Tv(){let t=gt();return Cp(t,Y())}var Sv=Io,Ep=class extends Sv{_lContainer;_hostTNode;_hostLView;constructor(e,n,o){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=o}get element(){return wn(this._hostTNode,this._hostLView)}get injector(){return new qt(this._hostTNode,this._hostLView)}get parentInjector(){let e=ml(this._hostTNode,this._hostLView);if(mf(e)){let n=Pr(e,this._hostLView),o=Rr(e),r=n[b].data[o+8];return new qt(r,n)}else return new qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=of(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ee}createEmbeddedView(e,n,o){let r,i;typeof o=="number"?r=o:o!=null&&(r=o.index,i=o.injector);let s=ja(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(l,r,co(this._hostTNode,s)),l}createComponent(e,n,o,r,i,s,l){let c=e&&!am(e),d;if(c)d=n;else{let E=n||{};d=E.index,o=E.injector,r=E.projectableNodes,i=E.environmentInjector||E.ngModuleRef,s=E.directives,l=E.bindings}let f=c?e:new ho(Lt(e)),p=o||this.parentInjector;if(!i&&f.ngModule==null){let v=(c?p:this.parentInjector).get(Me,null);v&&(i=v)}let h=Lt(f.componentType??{}),g=ja(this._lContainer,h?.id??null),m=g?.firstChild??null,y=f.create(p,r,m,i,s,l);return this.insertImpl(y.hostView,d,co(this._hostTNode,g)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,o){let r=e._lView;if(ad(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let c=r[se],d=new Ep(c,c[xe],c[se]);d.detach(d.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return ti(s,r,i,o),e.attachToViewContainerRef(),na(Va(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=of(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),o=po(this._lContainer,n);o&&(Kn(Va(this._lContainer),n),Qr(o[b],o))}detach(e){let n=this._adjustIndex(e,-1),o=po(this._lContainer,n);return o&&Kn(Va(this._lContainer),n)!=null?new Dn(o):null}_adjustIndex(e,n=0){return e??this.length+n}};function of(t){return t[eo]}function Va(t){return t[eo]||(t[eo]=[])}function Cp(t,e){let n,o=e[t.index];return Ge(o)?n=o:(n=cp(o,e,null,t),e[t.index]=n,Dl(e,n)),Av(n,e,t,o),new Ep(n,t,e)}function wv(t,e){let n=t[oe],o=n.createComment(""),r=Xe(e,t),i=n.parentNode(r);return Vr(n,i,o,n.nextSibling(r),!1),o}var Av=bv,Mv=()=>!1;function Nv(t,e,n){return Mv(t,e,n)}function bv(t,e,n,o){if(t[Dt])return;let r;n.type&8?r=Pe(o):r=wv(e,n),t[Dt]=r}var tl=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},nl=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let o=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let i=0;i<o;i++){let s=n.getByIndex(i),l=this.queries[s.indexInDeclarationView];r.push(l.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Rl(e,n).matches!==null&&this.queries[n].setDirty()}},ol=class{flags;read;predicate;constructor(e,n,o=null){this.flags=n,this.read=o,typeof e=="string"?this.predicate=Vv(e):this.predicate=e}},rl=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let o=0;o<this.length;o++){let r=n!==null?n.length:0,i=this.getByIndex(o).embeddedTView(e,r);i&&(i.indexInDeclarationView=o,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},il=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,o=e.parent;for(;o!==null&&o.type&8&&o.index!==n;)o=o.parent;return n===(o!==null?o.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let o=this.metadata.predicate;if(Array.isArray(o))for(let r=0;r<o.length;r++){let i=o[r];this.matchTNodeWithReadOption(e,n,xv(n,i)),this.matchTNodeWithReadOption(e,n,Nr(n,e,i,!1,!1))}else o===Tn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Nr(n,e,o,!1,!1))}matchTNodeWithReadOption(e,n,o){if(o!==null){let r=this.metadata.read;if(r!==null)if(r===An||r===Io||r===Tn&&n.type&4)this.addMatch(n.index,-2);else{let i=Nr(n,e,r,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,o)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function xv(t,e){let n=t.localNames;if(n!==null){for(let o=0;o<n.length;o+=2)if(n[o]===e)return n[o+1]}return null}function Rv(t,e){return t.type&11?wn(t,e):t.type&4?xl(t,e):null}function Pv(t,e,n,o){return n===-1?Rv(e,t):n===-2?kv(t,e,o):Fr(t,t[b],n,e)}function kv(t,e,n){if(n===An)return wn(e,t);if(n===Tn)return xl(e,t);if(n===Io)return Cp(e,t)}function Ip(t,e,n,o){let r=e[Qe].queries[o];if(r.matches===null){let i=t.data,s=n.matches,l=[];for(let c=0;s!==null&&c<s.length;c+=2){let d=s[c];if(d<0)l.push(null);else{let f=i[d];l.push(Pv(e,f,s[c+1],n.metadata.read))}}r.matches=l}return r.matches}function sl(t,e,n,o){let r=t.queries.getByIndex(n),i=r.matches;if(i!==null){let s=Ip(t,e,r,n);for(let l=0;l<i.length;l+=2){let c=i[l];if(c>0)o.push(s[l/2]);else{let d=i[l+1],f=e[-c];for(let p=ee;p<f.length;p++){let h=f[p];h[_t]===h[se]&&sl(h[b],h,d,o)}if(f[Bt]!==null){let p=f[Bt];for(let h=0;h<p.length;h++){let g=p[h];sl(g[b],g,d,o)}}}}}return o}function Fv(t,e){return t[Qe].queries[e].queryList}function Lv(t,e,n){let o=new Lr((n&4)===4);return cd(t,e,o,o.destroy),(e[Qe]??=new nl).queries.push(new tl(o))-1}function Ov(t,e,n){let o=we();return o.firstCreatePass&&(Uv(o,new ol(t,e,n),-1),(e&2)===2&&(o.staticViewQueries=!0)),Lv(o,Y(),e)}function Vv(t){return t.split(",").map(e=>e.trim())}function Uv(t,e,n){t.queries===null&&(t.queries=new rl),t.queries.track(new il(e,n))}function Rl(t,e){return t.queries.getByIndex(e)}function Hv(t,e){let n=t[b],o=Rl(n,e);return o.crossesNgTemplate?sl(n,t,e,[]):Ip(n,t,o,e)}var go=class{};var mo=class extends go{injector;componentFactoryResolver=new el(this);instance=null;constructor(e){super();let n=new Rt([...e.providers,{provide:go,useValue:this},{provide:ri,useValue:this.componentFactoryResolver}],e.parent||Qn(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _p(t,e,n=null){return new mo({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Bv=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let o=sa(!1,n.type),r=o.length>0?_p([o],this._injector,""):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=X({token:t,providedIn:"environment",factory:()=>new t(J(Me))})}return t})();function Pl(t){return gl(()=>{let e=zv(t),n=he(le({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(Bv).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ze.Emulated,styles:t.styles||Ee,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Yt("NgStandalone"),Wv(n);let o=t.dependencies;return n.directiveDefs=rf(o,Gv),n.pipeDefs=rf(o,Wc),n.id=Jv(n),n})}function Gv(t){return Lt(t)||Zs(t)}function ii(t){return gl(()=>({type:t.type,bootstrap:t.bootstrap||Ee,declarations:t.declarations||Ee,imports:t.imports||Ee,exports:t.exports||Ee,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $v(t,e){if(t==null)return Ot;let n={};for(let o in t)if(t.hasOwnProperty(o)){let r=t[o],i,s,l,c;Array.isArray(r)?(l=r[0],i=r[1],s=r[2]??i,c=r[3]||null):(i=r,s=r,l=Zr.None,c=null),n[i]=[o,l,c],e[i]=s}return n}function qv(t){if(t==null)return Ot;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function kl(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function zv(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ot,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ee,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:$v(t.inputs,e),outputs:qv(t.outputs),debugInfo:null}}function Wv(t){t.features?.forEach(e=>e(t))}function rf(t,e){return t?()=>{let n=typeof t=="function"?t():t,o=[];for(let r of n){let i=e(r);i!==null&&o.push(i)}return o}:null}function Jv(t){let e=0,n=typeof t.consts=="function"?"":t.consts,o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of o.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Yv(t,e,n,o,r,i,s,l){if(n.firstCreatePass){t.mergedAttrs=zr(t.mergedAttrs,t.attrs);let f=t.tView=Il(2,t,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}l&&(t.flags|=l),vn(t,!1);let c=Kv(n,e,t,o);Dr()&&Al(n,e,c,t),_n(c,e);let d=cp(c,e,c,t);e[o+ae]=d,Dl(e,d),Nv(d,t,e)}function Br(t,e,n,o,r,i,s,l,c,d,f){let p=n+ae,h;if(e.firstCreatePass){if(h=ni(e,p,4,s||null,l||null),d!=null){let g=et(e.consts,d);h.localNames=[];for(let m=0;m<g.length;m+=2)h.localNames.push(g[m],-1)}}else h=e.data[p];return Yv(h,t,e,n,o,r,i,c),d!=null&&Xf(t,h,f),h}var Kv=jv;function jv(t,e,n,o){return Tr(!0),e[oe].createComment("")}var Fl=new B("");function si(t){return!!t&&typeof t.then=="function"}function Ll(t){return!!t&&typeof t.subscribe=="function"}var Dp=new B("");var Ol=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o});appInits=$(Dp,{optional:!0})??[];injector=$(Pt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let i=hr(this.injector,r);if(si(i))n.push(i);else if(Ll(i)){let s=new Promise((l,c)=>{i.subscribe({complete:l,error:c})});n.push(s)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(r=>{this.reject(r)}),n.length===0&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tp=new B("");function Sp(){Cs(()=>{let t="";throw new P(600,t)})}function wp(t){return t.isBoundToModule}var Zv=10;var ai=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=$($t);afterRenderManager=$(Jf);zonelessEnabled=$(io);rootEffectScheduler=$(ka);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new at;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=$(En);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(bs(n=>!n))}constructor(){$(Eo,{optional:!0})}whenStable(){let n;return new Promise(o=>{n=this.isStable.subscribe({next:r=>{r&&o()}})}).finally(()=>{n.unsubscribe()})}_injector=$(Me);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,o){return this.bootstrapImpl(n,o)}bootstrapImpl(n,o,r=Pt.NULL){return this._injector.get(Ne).run(()=>{j(q.BootstrapComponentStart);let s=n instanceof oi;if(!this._injector.get(Ol).done){let m="";throw new P(405,m)}let c;s?c=n:c=this._injector.get(ri).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let d=wp(c)?void 0:this._injector.get(go),f=o||c.selector,p=c.create(r,[],f,d),h=p.location.nativeElement,g=p.injector.get(Fl,null);return g?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),lo(this.components,p),g?.unregisterApplication(h)}),this._loadComponent(p),j(q.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){j(q.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Sl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw j(q.ChangeDetectionEnd),new P(101,!1);let n=N(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,N(n),this.afterTick.next(),j(q.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Wt,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Zv;){j(q.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{j(q.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!o&&!no(r))continue;let i=o&&!this.zonelessEnabled?0:1;sp(r,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>no(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){let o=n;lo(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(Tp,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>lo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new P(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lo(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var ON=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var al=class{destroy(e){}updateValue(e,n){}swap(e,n){let o=Math.min(e,n),r=Math.max(e,n),i=this.detach(r);if(r-o>1){let s=this.detach(o);this.attach(o,i),this.attach(r,s)}else this.attach(o,i)}move(e,n){this.attach(n,this.detach(e))}};function Ua(t,e,n,o,r){return t===n&&Object.is(e,o)?1:Object.is(r(t,e),r(n,o))?-1:0}function Qv(t,e,n,o){let r,i,s=0,l=t.length-1,c=void 0;if(Array.isArray(e)){N(o);let d=e.length-1;for(N(null);s<=l&&s<=d;){let f=t.at(s),p=e[s],h=Ua(s,f,s,p,n);if(h!==0){h<0&&t.updateValue(s,p),s++;continue}let g=t.at(l),m=e[d],y=Ua(l,g,d,m,n);if(y!==0){y<0&&t.updateValue(l,m),l--,d--;continue}let E=n(s,f),v=n(l,g),D=n(s,p);if(Object.is(D,v)){let T=n(d,m);Object.is(T,E)?(t.swap(s,l),t.updateValue(l,m),d--,l--):t.move(l,s),t.updateValue(s,p),s++;continue}if(r??=new Gr,i??=af(t,s,l,n),ll(t,r,s,D))t.updateValue(s,p),s++,l++;else if(i.has(D))r.set(E,t.detach(s)),l--;else{let T=t.create(s,e[s]);t.attach(s,T),s++,l++}}for(;s<=d;)sf(t,r,n,s,e[s]),s++}else if(e!=null){N(o);let d=e[Symbol.iterator]();N(null);let f=d.next();for(;!f.done&&s<=l;){let p=t.at(s),h=f.value,g=Ua(s,p,s,h,n);if(g!==0)g<0&&t.updateValue(s,h),s++,f=d.next();else{r??=new Gr,i??=af(t,s,l,n);let m=n(s,h);if(ll(t,r,s,m))t.updateValue(s,h),s++,l++,f=d.next();else if(!i.has(m))t.attach(s,t.create(s,h)),s++,l++,f=d.next();else{let y=n(s,p);r.set(y,t.detach(s)),l--}}}for(;!f.done;)sf(t,r,n,t.length,f.value),f=d.next()}for(;s<=l;)t.destroy(t.detach(l--));r?.forEach(d=>{t.destroy(d)})}function ll(t,e,n,o){return e!==void 0&&e.has(o)?(t.attach(n,e.get(o)),e.delete(o),!0):!1}function sf(t,e,n,o,r){if(ll(t,e,o,n(o,r)))t.updateValue(o,r);else{let i=t.create(o,r);t.attach(o,i)}}function af(t,e,n,o){let r=new Set;for(let i=e;i<=n;i++)r.add(o(i,t.at(i)));return r}var Gr=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let o=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(o);)o=r.get(o);r.set(o,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,o]of this.kvMap)if(e(o,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(o);)o=r.get(o),e(o,n)}}};function Le(t,e,n,o,r,i,s,l){Yt("NgControlFlow");let c=Y(),d=we(),f=et(d.consts,i);return Br(c,d,t,e,n,o,r,f,256,s,l),Vl}function Vl(t,e,n,o,r,i,s,l){Yt("NgControlFlow");let c=Y(),d=we(),f=et(d.consts,i);return Br(c,d,t,e,n,o,r,f,512,s,l),Vl}function Oe(t,e){Yt("NgControlFlow");let n=Y(),o=ro(),r=n[o]!==Fe?n[o]:-1,i=r!==-1?$r(n,ae+r):void 0,s=0;if(Kt(n,o,t)){let l=N(null);try{if(i!==void 0&&fp(i,s),t!==-1){let c=ae+t,d=$r(n,c),f=fl(n[b],c),p=hp(d,f,n),h=ei(n,f,e,{dehydratedView:p});ti(d,h,s,co(f,p))}}finally{N(l)}}else if(i!==void 0){let l=dp(i,s);l!==void 0&&(l[te]=e)}}var ul=class{lContainer;$implicit;$index;constructor(e,n,o){this.lContainer=e,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-ee}};function _o(t){return t}var cl=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,o){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=o}};function Mn(t,e,n,o,r,i,s,l,c,d,f,p,h){Yt("NgControlFlow");let g=Y(),m=we(),y=c!==void 0,E=Y(),v=l?s.bind(E[Re][te]):s,D=new cl(y,v);E[ae+t]=D,Br(g,m,t+1,e,n,o,r,et(m.consts,i),256),y&&Br(g,m,t+2,c,d,f,p,et(m.consts,h),512)}var dl=class extends al{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,o){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=o}get length(){return this.lContainer.length-ee}at(e){return this.getLView(e)[te].$implicit}attach(e,n){let o=n[fn];this.needsIndexUpdate||=e!==this.length,ti(this.lContainer,n,e,co(this.templateTNode,o)),Xv(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,eE(this.lContainer,e),tE(this.lContainer,e)}create(e,n){let o=ja(this.lContainer,this.templateTNode.tView.ssrId);return ei(this.hostLView,this.templateTNode,new ul(this.lContainer,n,e),{dehydratedView:o})}destroy(e){Qr(e[b],e)}updateValue(e,n){this.getLView(e)[te].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[te].$index=e}getLView(e){return nE(this.lContainer,e)}};function Nn(t){let e=N(null),n=mt();try{let o=Y(),r=o[b],i=o[n],s=n+1,l=$r(o,s);if(i.liveCollection===void 0){let d=fl(r,s);i.liveCollection=new dl(l,o,d)}else i.liveCollection.reset();let c=i.liveCollection;if(Qv(c,t,i.trackByFn,e),c.updateIndexes(),i.hasEmptyBlock){let d=ro(),f=c.length===0;if(Kt(o,d,f)){let p=n+2,h=$r(o,p);if(f){let g=fl(r,p),m=hp(h,g,o),y=ei(o,g,void 0,{dehydratedView:m});ti(h,y,0,co(g,m))}else r.firstUpdatePass&&Jy(h),fp(h,0)}}}finally{N(e)}}function $r(t,e){return t[e]}function Xv(t,e){if(t.length<=ee)return;let n=ee+e,o=t[n],r=o?o[Ht]:void 0;if(o&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let i=o[dt];Xm(i,r),zt.delete(o[ft]),r.detachedLeaveAnimationFns=void 0}}function eE(t,e){if(t.length<=ee)return;let n=ee+e,o=t[n],r=o?o[Ht]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function tE(t,e){return po(t,e)}function nE(t,e){return dp(t,e)}function fl(t,e){return to(t,e)}function oE(t,e,n,o,r){ep(e,t,n,r?"class":"style",o)}function I(t,e,n,o){let r=Y(),i=r[b],s=t+ae,l=i.firstCreatePass?uv(s,i,2,e,n,o):i.data[s];return Ty(l,r,t,e,rE),o!=null&&Xf(r,l),I}function _(){let t=gt(),e=Sy(t);return gd(e)&&md(),pd(),_}function H(t,e,n,o){return I(t,e,n,o),_(),H}var rE=(t,e,n,o,r)=>(Tr(!0),Hf(e[oe],o,xd()));function ot(){return Y()}function bn(t,e,n){let o=Y(),r=ro();if(Kt(o,r,e)){let i=we(),s=bd();Ey(s,o,t,e,o[oe],n)}return bn}var so=void 0;function iE(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var sE=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],so,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],so,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",so,so,so],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",iE],Ha={};function li(t){let e=aE(t),n=lf(e);if(n)return n;let o=e.split("-")[0];if(n=lf(o),n)return n;if(o==="en")return sE;throw new P(701,!1)}function lf(t){return t in Ha||(Ha[t]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[t]),Ha[t]}var jt=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(jt||{});function aE(t){return t.toLowerCase().replace(/_/g,"-")}var Do="en-US";var lE=Do;function Ap(t){typeof t=="string"&&(lE=t.toLowerCase().replace(/_/g,"-"))}function Z(t,e,n){let o=Y(),r=we(),i=gt();return(i.type&3||n)&&fv(i,r,o,n,o[oe],t,e,dv(i,o,e)),Z}function U(t=1){return Nd(t)}function ui(t,e,n){return Ov(t,e,n),ui}function Ul(t){let e=Y(),n=we(),o=Aa();Cr(o+1);let r=Rl(n,o);if(t.dirty&&sd(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let i=Hv(e,o);t.reset(i,Am),t.notifyOnChanges()}return!0}return!1}function Hl(){return Fv(Y(),Aa())}function Bl(t){let e=Ed();return ga(e,ae+t)}function wr(t,e){return t<<17|e<<2}function Jt(t){return t>>17&32767}function uE(t){return(t&2)==2}function cE(t,e){return t&131071|e<<17}function pl(t){return t|2}function Sn(t){return(t&131068)>>2}function Ba(t,e){return t&-131069|e<<2}function dE(t){return(t&1)===1}function hl(t){return t|1}function fE(t,e,n,o,r,i){let s=i?e.classBindings:e.styleBindings,l=Jt(s),c=Sn(s);t[o]=n;let d=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||dn(p,f)>0)&&(d=!0)}else f=n;if(r)if(c!==0){let h=Jt(t[l+1]);t[o+1]=wr(h,l),h!==0&&(t[h+1]=Ba(t[h+1],o)),t[l+1]=cE(t[l+1],o)}else t[o+1]=wr(l,0),l!==0&&(t[l+1]=Ba(t[l+1],o)),l=o;else t[o+1]=wr(c,0),l===0?l=o:t[c+1]=Ba(t[c+1],o),c=o;d&&(t[o+1]=pl(t[o+1])),uf(t,f,o,!0),uf(t,f,o,!1),pE(e,f,t,o,i),s=wr(l,c),i?e.classBindings=s:e.styleBindings=s}function pE(t,e,n,o,r){let i=r?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&dn(i,e)>=0&&(n[o+1]=hl(n[o+1]))}function uf(t,e,n,o){let r=t[n+1],i=e===null,s=o?Jt(r):Sn(r),l=!1;for(;s!==0&&(l===!1||i);){let c=t[s],d=t[s+1];hE(c,e)&&(l=!0,t[s+1]=o?hl(d):pl(d)),s=o?Jt(d):Sn(d)}l&&(t[n+1]=o?pl(r):hl(r))}function hE(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?dn(t,e)>=0:!1}var qe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gE(t){return t.substring(qe.key,qe.keyEnd)}function mE(t){return yE(t),Mp(t,Np(t,0,qe.textEnd))}function Mp(t,e){let n=qe.textEnd;return n===e?-1:(e=qe.keyEnd=vE(t,qe.key=e,n),Np(t,e,n))}function yE(t){qe.key=0,qe.keyEnd=0,qe.value=0,qe.valueEnd=0,qe.textEnd=t.length}function Np(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function vE(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ci(t,e,n){return bp(t,e,n,!1),ci}function rt(t,e){return bp(t,e,null,!0),rt}function Gl(t){CE(wE,EE,t,!0)}function EE(t,e){for(let n=mE(e);n>=0;n=Mp(e,n))fr(t,gE(e),!0)}function bp(t,e,n,o){let r=Y(),i=we(),s=wa(2);if(i.firstUpdatePass&&Rp(i,t,s,o),e!==Fe&&Kt(r,s,e)){let l=i.data[mt()];Pp(i,l,r,r[oe],t,r[s+1]=ME(e,n),o,s)}}function CE(t,e,n,o){let r=we(),i=wa(2);r.firstUpdatePass&&Rp(r,null,i,o);let s=Y();if(n!==Fe&&Kt(s,i,n)){let l=r.data[mt()];if(kp(l,o)&&!xp(r,i)){let c=o?l.classesWithoutHost:l.stylesWithoutHost;c!==null&&(n=sr(c,n||"")),oE(r,l,s,n,o)}else AE(r,l,s,s[oe],s[i+1],s[i+1]=SE(t,e,n),o,i)}}function xp(t,e){return e>=t.expandoStartIndex}function Rp(t,e,n,o){let r=t.data;if(r[n+1]===null){let i=r[mt()],s=xp(t,n);kp(i,o)&&e===null&&!s&&(e=!1),e=IE(r,i,e,o),fE(r,i,e,n,s,o)}}function IE(t,e,n,o){let r=Sd(t),i=o?e.residualClasses:e.residualStyles;if(r===null)(o?e.classBindings:e.styleBindings)===0&&(n=Ga(null,t,e,n,o),n=yo(n,e.attrs,o),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=Ga(r,t,e,n,o),i===null){let c=_E(t,e,o);c!==void 0&&Array.isArray(c)&&(c=Ga(null,t,e,c[1],o),c=yo(c,e.attrs,o),DE(t,e,o,c))}else i=TE(t,e,o)}return i!==void 0&&(o?e.residualClasses=i:e.residualStyles=i),n}function _E(t,e,n){let o=n?e.classBindings:e.styleBindings;if(Sn(o)!==0)return t[Jt(o)]}function DE(t,e,n,o){let r=n?e.classBindings:e.styleBindings;t[Jt(r)]=o}function TE(t,e,n){let o,r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++){let s=t[i].hostAttrs;o=yo(o,s,n)}return yo(o,e.attrs,n)}function Ga(t,e,n,o,r){let i=null,s=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<s&&(i=e[l],o=yo(o,i.hostAttrs,r),i!==t);)l++;return t!==null&&(n.directiveStylingLast=l),o}function yo(t,e,n){let o=n?1:2,r=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?r=s:r===o&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fr(t,s,n?!0:e[++i]))}return t===void 0?null:t}function SE(t,e,n){if(n==null||n==="")return Ee;let o=[],r=Kr(n);if(Array.isArray(r))for(let i=0;i<r.length;i++)t(o,r[i],!0);else if(r instanceof Set)for(let i of r)t(o,i,!0);else if(typeof r=="object")for(let i in r)r.hasOwnProperty(i)&&t(o,i,r[i]);else typeof r=="string"&&e(o,r);return o}function wE(t,e,n){let o=String(e);o!==""&&!o.includes(" ")&&fr(t,o,n)}function AE(t,e,n,o,r,i,s,l){r===Fe&&(r=Ee);let c=0,d=0,f=0<r.length?r[0]:null,p=0<i.length?i[0]:null;for(;f!==null||p!==null;){let h=c<r.length?r[c+1]:void 0,g=d<i.length?i[d+1]:void 0,m=null,y;f===p?(c+=2,d+=2,h!==g&&(m=p,y=g)):p===null||f!==null&&f<p?(c+=2,m=f):(d+=2,m=p,y=g),m!==null&&Pp(t,e,n,o,m,y,s,l),f=c<r.length?r[c]:null,p=d<i.length?i[d]:null}}function Pp(t,e,n,o,r,i,s,l){if(!(e.type&3))return;let c=t.data,d=c[l+1],f=dE(d)?cf(c,e,n,r,Sn(d),s):void 0;if(!qr(f)){qr(i)||uE(d)&&(i=cf(c,null,n,r,l,s));let p=ha(mt(),n);hy(o,s,p,r,i)}}function cf(t,e,n,o,r,i){let s=e===null,l;for(;r>0;){let c=t[r],d=Array.isArray(c),f=d?c[1]:c,p=f===null,h=n[r+1];h===Fe&&(h=p?Ee:void 0);let g=p?pr(h,o):f===o?h:void 0;if(d&&!qr(g)&&(g=pr(c,o)),qr(g)&&(l=g,s))return l;let m=t[r+1];r=s?Jt(m):Sn(m)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(l=pr(c,o))}return l}function qr(t){return t!==void 0}function ME(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ct(Kr(t)))),t}function kp(t,e){return(t.flags&(e?8:16))!==0}function A(t,e=""){let n=Y(),o=we(),r=t+ae,i=o.firstCreatePass?ni(o,r,1,e,null):o.data[r],s=NE(o,n,i,e);n[r]=s,Dr()&&Al(o,n,s,i),vn(i,!1)}var NE=(t,e,n,o)=>(Tr(!0),Um(e[oe],o));function bE(t,e,n,o=""){return Kt(t,ro(),n)?e+Xs(n)+o:Fe}function yt(t){return Ve("",t),yt}function Ve(t,e,n){let o=Y(),r=bE(o,t,e,n);return r!==Fe&&xE(o,mt(),r),Ve}function xE(t,e,n){let o=ha(e,t);Hm(t[oe],o,n)}function RE(t,e){let n=t[e];return n===Fe?void 0:n}function PE(t,e,n,o,r,i){let s=e+n;return Kt(t,s,r)?cv(t,s+1,i?o.call(i,r):o(r)):RE(t,s+1)}function Zt(t,e){let n=we(),o,r=t+ae;n.firstCreatePass?(o=kE(e,n.pipeRegistry),n.data[r]=o,o.onDestroy&&(n.destroyHooks??=[]).push(r,o.onDestroy)):o=n.data[r];let i=o.factory||(o.factory=xt(o.type,!0)),s,l=me(Co);try{let c=kr(!1),d=i();return kr(c),ma(n,Y(),r,d),d}finally{me(l)}}function kE(t,e){if(e)for(let n=e.length-1;n>=0;n--){let o=e[n];if(t===o.name)return o}}function Qt(t,e,n){let o=t+ae,r=Y(),i=ga(r,o);return FE(r,o)?PE(r,Cd(),e,i.transform,n,i):i.transform(n)}function FE(t,e){return t[b].data[e].pure}var Fp=(()=>{class t{applicationErrorHandler=$($t);appRef=$(ai);taskService=$(En);ngZone=$(Ne);zonelessEnabled=$(io);tracing=$(Eo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ge;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wn):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(Pa,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let o=this.useMicrotaskScheduler?Ld:ba;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wn+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){this.applicationErrorHandler(o)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(o){return new(o||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $l(){return Yt("NgZoneless"),ia([...ql(),[]])}function ql(){return[{provide:cn,useExisting:Fp},{provide:Ne,useClass:Jn},{provide:io,useValue:!0}]}function LE(){return typeof $localize<"u"&&$localize.locale||Do}var To=new B("",{factory:()=>$(To,{optional:!0,skipSelf:!0})||LE()});function So(t,e){return Wo(t,e?.equal)}var zl=new B(""),ZE=new B("");function wo(t){return!t.moduleRef}function QE(t){let e=wo(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ne);return n.run(()=>{wo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let o=e.get($t),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o})}),wo(t)){let i=()=>e.destroy(),s=t.platformInjector.get(zl);s.add(i),e.onDestroy(()=>{r.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(zl);s.add(i),t.moduleRef.onDestroy(()=>{lo(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(i)})}return eC(o,n,()=>{let i=e.get(En),s=i.add(),l=e.get(Ol);return l.runInitializers(),l.donePromise.then(()=>{let c=e.get(To,Do);if(Ap(c||Do),!e.get(ZE,!0))return wo(t)?e.get(ai):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(wo(t)){let f=e.get(ai);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return XE?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{i.remove(s)})})})}var XE;function eC(t,e,n){try{let o=n();return si(o)?o.catch(r=>{throw e.runOutsideAngular(()=>t(r)),r}):o}catch(o){throw e.runOutsideAngular(()=>t(o)),o}}var di=null;function tC(t=[],e){return Pt.create({name:e,providers:[{provide:Zn,useValue:"platform"},{provide:zl,useValue:new Set([()=>di=null])},...t]})}function nC(t=[]){if(di)return di;let e=tC(t);return di=e,Sp(),oC(e),e}function oC(t){let e=t.get(Jr,null);hr(t,()=>{e?.forEach(n=>n())})}var rC=1e4;var MF=rC-1e3;function Lp(t){let{rootComponent:e,appProviders:n,platformProviders:o,platformRef:r}=t;j(q.BootstrapApplicationStart);try{let i=r?.injector??nC(o),s=[ql(),Vd,...n||[]],l=new mo({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return QE({r3Injector:l.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{j(q.BootstrapApplicationEnd)}}var Op=null;function Mo(){return Op}function Wl(t){Op??=t}var Ao=class{};var Kl=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(Kl||{});var it={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Rn(t,e){let n=li(t),o=n[jt.NumberSymbols][e];if(typeof o>"u"){if(e===it.CurrencyDecimal)return n[jt.NumberSymbols][it.Decimal];if(e===it.CurrencyGroup)return n[jt.NumberSymbols][it.Group]}return o}function Up(t,e){return li(t)[jt.NumberFormats][e]}var iC=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Vp=22,fi=".",No="0",sC=";",aC=",",Jl="#";function lC(t,e,n,o,r,i,s=!1){let l="",c=!1;if(!isFinite(t))l=Rn(n,it.Infinity);else{let d=dC(t);s&&(d=cC(d));let f=e.minInt,p=e.minFrac,h=e.maxFrac;if(i){let D=i.match(iC);if(D===null)throw new P(2306,!1);let T=D[1],w=D[3],C=D[5];T!=null&&(f=Yl(T)),w!=null&&(p=Yl(w)),C!=null?h=Yl(C):w!=null&&p>h&&(h=p)}fC(d,p,h);let g=d.digits,m=d.integerLen,y=d.exponent,E=[];for(c=g.every(D=>!D);m<f;m++)g.unshift(0);for(;m<0;m++)g.unshift(0);m>0?E=g.splice(m,g.length):(E=g,g=[0]);let v=[];for(g.length>=e.lgSize&&v.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)v.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&v.unshift(g.join("")),l=v.join(Rn(n,o)),E.length&&(l+=Rn(n,r)+E.join("")),y&&(l+=Rn(n,it.Exponential)+"+"+y)}return t<0&&!c?l=e.negPre+l+e.negSuf:l=e.posPre+l+e.posSuf,l}function Hp(t,e,n){let o=Up(e,Kl.Decimal),r=uC(o,Rn(e,it.MinusSign));return lC(t,r,e,it.Group,it.Decimal,n)}function uC(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=t.split(sC),r=o[0],i=o[1],s=r.indexOf(fi)!==-1?r.split(fi):[r.substring(0,r.lastIndexOf(No)+1),r.substring(r.lastIndexOf(No)+1)],l=s[0],c=s[1]||"";n.posPre=l.substring(0,l.indexOf(Jl));for(let f=0;f<c.length;f++){let p=c.charAt(f);p===No?n.minFrac=n.maxFrac=f+1:p===Jl?n.maxFrac=f+1:n.posSuf+=p}let d=l.split(aC);if(n.gSize=d[1]?d[1].length:0,n.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,i){let f=r.length-n.posPre.length-n.posSuf.length,p=i.indexOf(Jl);n.negPre=i.substring(0,p).replace(/'/g,""),n.negSuf=i.slice(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function cC(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function dC(t){let e=Math.abs(t)+"",n=0,o,r,i,s,l;for((r=e.indexOf(fi))>-1&&(e=e.replace(fi,"")),(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),i=0;e.charAt(i)===No;i++);if(i===(l=e.length))o=[0],r=1;else{for(l--;e.charAt(l)===No;)l--;for(r-=i,o=[],s=0;i<=l;i++,s++)o[s]=Number(e.charAt(i))}return r>Vp&&(o=o.splice(0,Vp-1),n=r-1,r=1),{digits:o,exponent:n,integerLen:r}}function fC(t,e,n){if(e>n)throw new P(2307,!1);let o=t.digits,r=o.length-t.integerLen,i=Math.min(Math.max(e,r),n),s=i+t.integerLen,l=o[s];if(s>0){o.splice(Math.max(t.integerLen,s));for(let p=s;p<o.length;p++)o[p]=0}else{r=Math.max(0,r),t.integerLen=1,o.length=Math.max(1,s=i+1),o[0]=0;for(let p=1;p<s;p++)o[p]=0}if(l>=5)if(s-1<0){for(let p=0;p>s;p--)o.unshift(0),t.integerLen++;o.unshift(1),t.integerLen++}else o[s-1]++;for(;r<Math.max(0,i);r++)o.push(0);let c=i!==0,d=e+t.integerLen,f=o.reduceRight(function(p,h,g,m){return h=h+p,m[g]=h<10?h:h-10,c&&(m[g]===0&&g>=d?m.pop():c=!1),h>=10?1:0},0);f&&(o.unshift(f),t.integerLen++)}function Yl(t){let e=parseInt(t);if(isNaN(e))throw new P(2305,!1);return e}function pC(t,e){return new P(2100,!1)}var jl=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,o,r){if(!hC(n))return null;r||=this._locale;try{let i=gC(n);return Hp(i,r,o)}catch(i){throw pC(t,i.message)}}static \u0275fac=function(o){return new(o||t)(Co(To,16))};static \u0275pipe=kl({name:"number",type:t,pure:!0})}return t})();function hC(t){return!(t==null||t===""||t!==t)}function gC(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new P(2309,!1);return t}var pi=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=ii({type:t});static \u0275inj=Yn({})}return t})();function Zl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let o=n.indexOf("="),[r,i]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}var bo=class{};var Bp="browser";var xo=class{_doc;constructor(e){this._doc=e}manager},hi=(()=>{class t extends xo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,r,i){return n.addEventListener(o,r,i),()=>this.removeEventListener(n,o,r,i)}removeEventListener(n,o,r,i){return n.removeEventListener(o,r,i)}static \u0275fac=function(o){return new(o||t)(J($e))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),yi=new B(""),tu=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,o){this._zone=o,n.forEach(s=>{s.manager=this});let r=n.filter(s=>!(s instanceof hi));this._plugins=r.slice().reverse();let i=n.find(s=>s instanceof hi);i&&this._plugins.push(i)}addEventListener(n,o,r,i){return this._findPluginFor(o).addEventListener(n,o,r,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(i=>i.supports(n)),!o)throw new P(5101,!1);return this._eventNameToPlugin.set(n,o),o}static \u0275fac=function(o){return new(o||t)(J(yi),J(Ne))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),Ql="ng-app-id";function Gp(t){for(let e of t)e.remove()}function $p(t,e){let n=e.createElement("style");return n.textContent=t,n}function vC(t,e,n,o){let r=t.head?.querySelectorAll(`style[${Ql}="${e}"],link[${Ql}="${e}"]`);if(r)for(let i of r)i.removeAttribute(Ql),i instanceof HTMLLinkElement?o.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function eu(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var nu=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,o,r,i={}){this.doc=n,this.appId=o,this.nonce=r,vC(n,o,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,o){for(let r of n)this.addUsage(r,this.inline,$p);o?.forEach(r=>this.addUsage(r,this.external,eu))}removeStyles(n,o){for(let r of n)this.removeUsage(r,this.inline);o?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,o,r){let i=o.get(n);i?i.usage++:o.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,o){let r=o.get(n);r&&(r.usage--,r.usage<=0&&(Gp(r.elements),o.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Gp(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[o,{elements:r}]of this.inline)r.push(this.addElement(n,$p(o,this.doc)));for(let[o,{elements:r}]of this.external)r.push(this.addElement(n,eu(o,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,o){return this.nonce&&o.setAttribute("nonce",this.nonce),n.appendChild(o)}static \u0275fac=function(o){return new(o||t)(J($e),J(Wr),J(Yr,8),J(vo))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),Xl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ou=/%COMP%/g;var zp="%COMP%",EC=`_nghost-${zp}`,CC=`_ngcontent-${zp}`,IC=!0,_C=new B("",{factory:()=>IC});function DC(t){return CC.replace(ou,t)}function TC(t){return EC.replace(ou,t)}function Wp(t,e){return e.map(n=>n.replace(ou,t))}var ru=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,o,r,i,s,l,c=null,d=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=r,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=l,this.nonce=c,this.tracingService=d,this.defaultRenderer=new Ro(n,s,l,this.tracingService)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,o);return r instanceof mi?r.applyToHost(n):r instanceof Po&&r.applyStyles(),r}getOrCreateRenderer(n,o){let r=this.rendererByCompId,i=r.get(o.id);if(!i){let s=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.tracingService;switch(o.encapsulation){case ze.Emulated:i=new mi(c,d,o,this.appId,f,s,l,p);break;case ze.ShadowDom:return new gi(c,n,o,s,l,this.nonce,p,d);case ze.ExperimentalIsolatedShadowDom:return new gi(c,n,o,s,l,this.nonce,p);default:i=new Po(c,d,o,f,s,l,p);break}r.set(o.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(o){return new(o||t)(J(tu),J(nu),J(Wr),J(_C),J($e),J(Ne),J(Yr),J(Eo,8))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),Ro=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,o,r){this.eventManager=e,this.doc=n,this.ngZone=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Xl[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qp(e)?e.content:e).appendChild(n)}insertBefore(e,n,o){e&&(qp(e)?e.content:e).insertBefore(n,o)}removeChild(e,n){n.remove()}selectRootElement(e,n){let o=typeof e=="string"?this.doc.querySelector(e):e;if(!o)throw new P(-5104,!1);return n||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,o,r){if(r){n=r+":"+n;let i=Xl[r];i?e.setAttributeNS(i,n,o):e.setAttribute(n,o)}else e.setAttribute(n,o)}removeAttribute(e,n,o){if(o){let r=Xl[o];r?e.removeAttributeNS(r,n):e.removeAttribute(`${o}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,o,r){r&(nt.DashCase|nt.Important)?e.style.setProperty(n,o,r&nt.Important?"important":""):e.style[n]=o}removeStyle(e,n,o){o&nt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,o){e!=null&&(e[n]=o)}setValue(e,n){e.nodeValue=n}listen(e,n,o,r){if(typeof e=="string"&&(e=Mo().getGlobalEventTarget(this.doc,e),!e))throw new P(5102,!1);let i=this.decoratePreventDefault(o);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,r)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function qp(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gi=class extends Ro{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,o,r,i,s,l,c){super(e,r,i,l),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=Wp(o.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let f=o.getExternalStyles?.();if(f)for(let p of f){let h=eu(p,r);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,o){return super.insertBefore(this.nodeOrShadowRoot(e),n,o)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Po=class extends Ro{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,o,r,i,s,l,c){super(e,i,s,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let d=o.styles;this.styles=c?Wp(c,d):d,this.styleUrls=o.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&zt.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},mi=class extends Po{contentAttr;hostAttr;constructor(e,n,o,r,i,s,l,c){let d=r+"-"+o.id;super(e,n,o,i,s,l,c,d),this.contentAttr=DC(d),this.hostAttr=TC(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let o=super.createElement(e,n);return super.setAttribute(o,this.contentAttr,""),o}};var vi=class t extends Ao{supportsDOMEvents=!0;static makeCurrent(){Wl(new t)}onAndCancel(e,n,o,r){return e.addEventListener(n,o,r),()=>{e.removeEventListener(n,o,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=SC();return n==null?null:wC(n)}resetBaseElement(){ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zl(document.cookie,e)}},ko=null;function SC(){return ko=ko||document.head.querySelector("base"),ko?ko.getAttribute("href"):null}function wC(t){return new URL(t,document.baseURI).pathname}var AC=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(o){return new(o||t)};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),Jp=["alt","control","meta","shift"],MC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NC={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Yp=(()=>{class t extends xo{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,o,r,i){let s=t.parseEventName(o),l=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mo().onAndCancel(n,s.domEventName,l,i))}static parseEventName(n){let o=n.toLowerCase().split("."),r=o.shift();if(o.length===0||!(r==="keydown"||r==="keyup"))return null;let i=t._normalizeKey(o.pop()),s="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),s="code."),Jp.forEach(d=>{let f=o.indexOf(d);f>-1&&(o.splice(f,1),s+=d+".")}),s+=i,o.length!=0||i.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(n,o){let r=MC[n.key]||n.key,i="";return o.indexOf("code.")>-1&&(r=n.code,i="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Jp.forEach(s=>{if(s!==r){let l=NC[s];l(n)&&(i+=s+".")}}),i+=r,i===o)}static eventCallback(n,o,r){return i=>{t.matchEventFullKeyCode(i,n)&&r.runGuarded(()=>o(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(o){return new(o||t)(J($e))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})();async function iu(t,e,n){let o=le({rootComponent:t},bC(e,n));return Lp(o)}function bC(t,e){return{platformRef:e?.platformRef,appProviders:[...FC,...t?.providers??[]],platformProviders:kC}}function xC(){vi.makeCurrent()}function RC(){return new ct}function PC(){return vl(document),document}var kC=[{provide:vo,useValue:Bp},{provide:Jr,useValue:xC,multi:!0},{provide:$e,useFactory:PC}];var FC=[{provide:Zn,useValue:"root"},{provide:ct,useFactory:RC},{provide:yi,useClass:hi,multi:!0},{provide:yi,useClass:Yp,multi:!0},ru,nu,tu,{provide:Wt,useExisting:ru},{provide:bo,useClass:AC},[]];var LC,OC;function VC(){return{geminiUrl:LC,vertexUrl:OC}}function UC(t,e,n,o){var r,i;if(!t?.baseUrl){let s=VC();return e?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(i=s.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}var Ye=class{};function S(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){let i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function u(t,e,n){for(let i=0;i<e.length-1;i++){let s=e[i];if(s.endsWith("[]")){let l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){let c=t[l];if(Array.isArray(n))for(let d=0;d<c.length;d++){let f=c[d];u(f,e.slice(i+1),n[d])}else for(let d of c)u(d,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){let l=s.slice(0,-3);l in t||(t[l]=[{}]);let c=t[l];u(c[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}let o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function a(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;let r=e[o];if(r.endsWith("[]")){let i=r.slice(0,-2);if(i in t){let s=t[i];return Array.isArray(s)?s.map(l=>a(l,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function HC(t,e){for(let[n,o]of Object.entries(e)){let r=n.split("."),i=o.split("."),s=new Set,l=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){l=c;break}if(l!==-1&&i.length>l)for(let c=l;c<i.length;c++){let d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}uu(t,r,i,0,s)}}function uu(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;let i=e[o];if(i.endsWith("[]")){let s=i.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(let c of l[s])uu(c,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let s=t,l=Object.keys(s).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(let d of l)c[d]=s[d];for(let[d,f]of Object.entries(c)){let p=[];for(let h of n.slice(o))h==="*"?p.push(d):p.push(h);u(s,p,f)}for(let d of l)delete s[d]}}else{let s=t;i in s&&uu(s[i],e,n,o+1,r)}}function lc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function BC(t){let e={},n=a(t,["operationName"]);n!=null&&u(e,["operationName"],n);let o=a(t,["resourceName"]);return o!=null&&u(e,["_url","resourceName"],o),e}function GC(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],qC(s)),e}function $C(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],zC(s)),e}function qC(t){let e={},n=a(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>WC(s))),u(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function zC(t){let e={},n=a(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>JC(s))),u(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function WC(t){let e={},n=a(t,["video"]);return n!=null&&u(e,["video"],XC(n)),e}function JC(t){let e={},n=a(t,["_self"]);return n!=null&&u(e,["video"],eI(n)),e}function YC(t){let e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function KC(t){let e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function jC(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],ZC(s)),e}function ZC(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&u(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function Eh(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],QC(s)),e}function QC(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&u(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function XC(t){let e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);let o=a(t,["encodedVideo"]);o!=null&&u(e,["videoBytes"],lc(o));let r=a(t,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function eI(t){let e={},n=a(t,["gcsUri"]);n!=null&&u(e,["uri"],n);let o=a(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],lc(o));let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}var re=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(re||{});var cu=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(cu||{});var Ch=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(Ch||{});var Ih=(function(t){return t.COLLECTION="COLLECTION",t})(Ih||{});var Lo=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(Lo||{});var Vo=class{constructor(e){let n={};for(let o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var en=class{get text(){var e,n,o,r,i,s,l,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let h of(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(let[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(m!==null||m!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,s,l,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(let[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,s,l,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,o,r,i,s,l,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,s,l,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},wi=class{},Ai=class{},du=class{},fu=class{},pu=class{},hu=class{},Mi=class{},Ni=class{},bi=class{},gu=class{};var xi=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,r,i=e;return n?r=$C(i):r=GC(i),Object.assign(o,r),o}},Ri=class{},Pi=class{},ki=class{},Fi=class{},mu=class{},yu=class{},vu=class{};var Eu=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=jC(e);return Object.assign(o,i),o}},Cu=class{},Iu=class{},_u=class{},Du=class{};var Li=class{};var Tu=class{get text(){var e,n,o;let r="",i=!1,s=[];for(let l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[c,d]of Object.entries(l))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;i=!0,r+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="",i=[];for(let s of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[l,c]of Object.entries(s))l!=="inlineData"&&c!==null&&i.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}};var Su=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var wu=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=Eh(e);return Object.assign(o,i),o}};function G(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function _h(t,e){let n=G(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Dh(t){return Array.isArray(t)?t.map(e=>Oi(e)):[Oi(t)]}function Oi(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Th(t){let e=Oi(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Sh(t){let e=Oi(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Kp(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function wh(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Kp(e)):[Kp(t)]}function Au(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function jp(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Zp(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function fe(t){if(t==null)throw new Error("ContentUnion is required");return Au(t)?t:{role:"user",parts:wh(t)}}function uc(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let o=fe(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){let n=fe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>fe(n)):[fe(e)]}function Ue(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(jp(t)||Zp(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[fe(t)]}let e=[],n=[],o=Au(t[0]);for(let r of t){let i=Au(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(jp(r)||Zp(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:wh(n)}),e}function tI(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(re).includes(n[0].toUpperCase())?n[0].toUpperCase():re.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let o of n)e.anyOf.push({type:Object.values(re).includes(o.toUpperCase())?o.toUpperCase():re.TYPE_UNSPECIFIED})}}function kn(t){let e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&tI(t.type,e);for(let[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(re).includes(l.toUpperCase())?l.toUpperCase():re.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=kn(l);else if(o.includes(s)){let c=[];for(let d of l){if(d.type=="null"){e.nullable=!0;continue}c.push(kn(d))}e[s]=c}else if(r.includes(s)){let c={};for(let[d,f]of Object.entries(l))c[d]=kn(f);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=l}return e}function cc(t){return kn(t)}function dc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function fc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Vn(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=kn(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=kn(e.response));return t}function Un(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function nI(t,e,n,o=1){let r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Et(t,e){if(typeof e!="string")throw new Error("name must be a string");return nI(t,e,"cachedContents")}function Ah(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function St(t){return lc(t)}function oI(t){return t!=null&&typeof t=="object"&&"name"in t}function rI(t){return t!=null&&typeof t=="object"&&"video"in t}function iI(t){return t!=null&&typeof t=="object"&&"uri"in t}function Mh(t){var e;let n;if(oI(t)&&(n=t.name),!(iI(t)&&(n=t.uri,n===void 0))&&!(rI(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Nh(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function bh(t){for(let e of["models","tunedModels","publisherModels"])if(sI(t,e))return t[e];return[]}function sI(t,e){return t!==null&&typeof t=="object"&&e in t}function aI(t,e={}){let n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function lI(t,e={}){let n=[],o=new Set;for(let r of t){let i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);let s=aI(r,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function xh(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function uI(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Rh(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(let s of r){if(typeof s!="object"||s===null)continue;let c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Hn(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ph(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function cI(t){let e={},n=a(t,["responsesFile"]);n!=null&&u(e,["fileName"],n);let o=a(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>qI(s))),u(e,["inlinedResponses"],i)}let r=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["inlinedEmbedContentResponses"],i)}return e}function dI(t){let e={},n=a(t,["predictionsFormat"]);n!=null&&u(e,["format"],n);let o=a(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);let r=a(t,["bigqueryDestination","outputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function fI(t){let e={},n=a(t,["format"]);n!=null&&u(e,["predictionsFormat"],n);let o=a(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);let r=a(t,["bigqueryUri"]);if(r!=null&&u(e,["bigqueryDestination","outputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ti(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);let r=a(t,["metadata","state"]);r!=null&&u(e,["state"],Ph(r));let i=a(t,["metadata","createTime"]);i!=null&&u(e,["createTime"],i);let s=a(t,["metadata","endTime"]);s!=null&&u(e,["endTime"],s);let l=a(t,["metadata","updateTime"]);l!=null&&u(e,["updateTime"],l);let c=a(t,["metadata","model"]);c!=null&&u(e,["model"],c);let d=a(t,["metadata","output"]);return d!=null&&u(e,["dest"],cI(Rh(d))),e}function Mu(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["displayName"]);o!=null&&u(e,["displayName"],o);let r=a(t,["state"]);r!=null&&u(e,["state"],Ph(r));let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["createTime"]);s!=null&&u(e,["createTime"],s);let l=a(t,["startTime"]);l!=null&&u(e,["startTime"],l);let c=a(t,["endTime"]);c!=null&&u(e,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);let f=a(t,["model"]);f!=null&&u(e,["model"],f);let p=a(t,["inputConfig"]);p!=null&&u(e,["src"],pI(p));let h=a(t,["outputConfig"]);h!=null&&u(e,["dest"],dI(Rh(h)));let g=a(t,["completionStats"]);return g!=null&&u(e,["completionStats"],g),e}function pI(t){let e={},n=a(t,["instancesFormat"]);n!=null&&u(e,["format"],n);let o=a(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);let r=a(t,["bigquerySource","inputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function hI(t,e){let n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let o=a(e,["fileName"]);o!=null&&u(n,["fileName"],o);let r=a(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$I(t,s))),u(n,["requests","requests"],i)}return n}function gI(t){let e={},n=a(t,["format"]);n!=null&&u(e,["instancesFormat"],n);let o=a(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);let r=a(t,["bigqueryUri"]);if(r!=null&&u(e,["bigquerySource","inputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mI(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function yI(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Hn(t,o)),n}function vI(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Hn(t,o)),n}function EI(t){let e={},n=a(t,["content"]);n!=null&&u(e,["content"],n);let o=a(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],CI(o));let r=a(t,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);let i=a(t,["finishReason"]);i!=null&&u(e,["finishReason"],i);let s=a(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);let l=a(t,["groundingMetadata"]);l!=null&&u(e,["groundingMetadata"],l);let c=a(t,["index"]);c!=null&&u(e,["index"],c);let d=a(t,["logprobsResult"]);d!=null&&u(e,["logprobsResult"],d);let f=a(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),u(e,["safetyRatings"],h)}let p=a(t,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],p),e}function CI(t){let e={},n=a(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["citations"],o)}return e}function kh(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ZI(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function II(t,e){let n={},o=a(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _I(t,e){let n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);let r=a(t,["dest"]);return e!==void 0&&r!=null&&u(e,["outputConfig"],fI(uI(r))),n}function Qp(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));let r=a(e,["src"]);r!=null&&u(n,["batch","inputConfig"],hI(t,xh(t,r)));let i=a(e,["config"]);return i!=null&&II(i,n),n}function DI(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["model"],G(t,o));let r=a(e,["src"]);r!=null&&u(n,["inputConfig"],gI(xh(t,r)));let i=a(e,["config"]);return i!=null&&_I(i,n),n}function TI(t,e){let n={},o=a(t,["displayName"]);return e!==void 0&&o!=null&&u(e,["batch","displayName"],o),n}function SI(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));let r=a(e,["src"]);r!=null&&u(n,["batch","inputConfig"],RI(t,r));let i=a(e,["config"]);return i!=null&&TI(i,n),n}function wI(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Hn(t,o)),n}function AI(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Hn(t,o)),n}function MI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);return i!=null&&u(e,["error"],i),e}function NI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);return i!=null&&u(e,["error"],i),e}function bI(t,e){let n={},o=a(e,["contents"]);if(o!=null){let i=uc(t,o);Array.isArray(i)&&(i=i.map(s=>s)),u(n,["requests[]","request","content"],i)}let r=a(e,["config"]);return r!=null&&(u(n,["_self"],xI(r,n)),HC(n,{"requests[].*":"requests[].request.*"})),n}function xI(t,e){let n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);let r=a(t,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);let i=a(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function RI(t,e){let n={},o=a(e,["fileName"]);o!=null&&u(n,["file_name"],o);let r=a(e,["inlinedRequests"]);return r!=null&&u(n,["requests"],bI(t,r)),n}function PI(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function kI(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FI(t){let e={},n=a(t,["allowedFunctionNames"]);n!=null&&u(e,["allowedFunctionNames"],n);let o=a(t,["mode"]);if(o!=null&&u(e,["mode"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function LI(t,e,n){let o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&u(n,["systemInstruction"],kh(fe(r)));let i=a(e,["temperature"]);i!=null&&u(o,["temperature"],i);let s=a(e,["topP"]);s!=null&&u(o,["topP"],s);let l=a(e,["topK"]);l!=null&&u(o,["topK"],l);let c=a(e,["candidateCount"]);c!=null&&u(o,["candidateCount"],c);let d=a(e,["maxOutputTokens"]);d!=null&&u(o,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&u(o,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&u(o,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&u(o,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&u(o,["frequencyPenalty"],m);let y=a(e,["seed"]);y!=null&&u(o,["seed"],y);let E=a(e,["responseMimeType"]);E!=null&&u(o,["responseMimeType"],E);let v=a(e,["responseSchema"]);v!=null&&u(o,["responseSchema"],cc(v));let D=a(e,["responseJsonSchema"]);if(D!=null&&u(o,["responseJsonSchema"],D),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let pe=T;Array.isArray(pe)&&(pe=pe.map(ue=>QI(ue))),u(n,["safetySettings"],pe)}let w=a(e,["tools"]);if(n!==void 0&&w!=null){let pe=Un(w);Array.isArray(pe)&&(pe=pe.map(ue=>e_(Vn(ue)))),u(n,["tools"],pe)}let C=a(e,["toolConfig"]);if(n!==void 0&&C!=null&&u(n,["toolConfig"],XI(C)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let L=a(e,["cachedContent"]);n!==void 0&&L!=null&&u(n,["cachedContent"],Et(t,L));let F=a(e,["responseModalities"]);F!=null&&u(o,["responseModalities"],F);let Q=a(e,["mediaResolution"]);Q!=null&&u(o,["mediaResolution"],Q);let M=a(e,["speechConfig"]);if(M!=null&&u(o,["speechConfig"],dc(M)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let O=a(e,["thinkingConfig"]);O!=null&&u(o,["thinkingConfig"],O);let ne=a(e,["imageConfig"]);ne!=null&&u(o,["imageConfig"],GI(ne));let De=a(e,["enableEnhancedCivicAnswers"]);if(De!=null&&u(o,["enableEnhancedCivicAnswers"],De),a(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function OI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>EI(d))),u(e,["candidates"],c)}let r=a(t,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);let i=a(t,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);let s=a(t,["responseId"]);s!=null&&u(e,["responseId"],s);let l=a(t,["usageMetadata"]);return l!=null&&u(e,["usageMetadata"],l),e}function VI(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Hn(t,o)),n}function UI(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Hn(t,o)),n}function HI(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function BI(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function GI(t){let e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);let o=a(t,["imageSize"]);if(o!=null&&u(e,["imageSize"],o),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $I(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["request","model"],G(t,o));let r=a(e,["contents"]);if(r!=null){let l=Ue(r);Array.isArray(l)&&(l=l.map(c=>kh(c))),u(n,["request","contents"],l)}let i=a(e,["metadata"]);i!=null&&u(n,["metadata"],i);let s=a(e,["config"]);return s!=null&&u(n,["request","generationConfig"],LI(t,s,a(n,["request"],{}))),n}function qI(t){let e={},n=a(t,["response"]);n!=null&&u(e,["response"],OI(n));let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["error"]);return r!=null&&u(e,["error"],r),e}function zI(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);if(e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function WI(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);let i=a(t,["filter"]);return e!==void 0&&i!=null&&u(e,["_query","filter"],i),n}function JI(t){let e={},n=a(t,["config"]);return n!=null&&zI(n,e),e}function YI(t){let e={},n=a(t,["config"]);return n!=null&&WI(n,e),e}function KI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Ti(s))),u(e,["batchJobs"],i)}return e}function jI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Mu(s))),u(e,["batchJobs"],i)}return e}function ZI(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],PI(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],kI(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],mI(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function QI(t){let e={},n=a(t,["category"]);if(n!=null&&u(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=a(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function XI(t){let e={},n=a(t,["retrievalConfig"]);n!=null&&u(e,["retrievalConfig"],n);let o=a(t,["functionCallingConfig"]);return o!=null&&u(e,["functionCallingConfig"],FI(o)),e}function e_(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&u(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&u(e,["googleMaps"],HI(s));let l=a(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],BI(l));let c=a(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}var wt=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents",t})(wt||{}),vt=class{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var Nu=class extends Ye{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vt(wt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){let n=Qp(this.apiClient,e),o=n._url,r=S("{model}:batchGenerateContent",o),l=n.batch.inputConfig.requests,c=l.requests,d=[];for(let f of c){let p=Object.assign({},f);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let g=p.request;g.systemInstruction=h,p.request=g}d.push(p)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){let i=this.getGcsUri(e),s=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(s)o.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=DI(this.apiClient,e);return l=S("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Mu(f))}else{let d=Qp(this.apiClient,e);return l=S("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Ti(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=SI(this.apiClient,e);return i=S("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Ti(c))}}async get(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=UI(this.apiClient,e);return l=S("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Mu(f))}else{let d=VI(this.apiClient,e);return l=S("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Ti(f))}}async cancel(e){var n,o,r,i;let s="",l={};if(this.apiClient.isVertexAI()){let c=vI(this.apiClient,e);s=S("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let c=yI(this.apiClient,e);s=S("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=YI(e);return l=S("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=jI(f),h=new Li;return Object.assign(h,p),h})}else{let d=JI(e);return l=S("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=KI(f),h=new Li;return Object.assign(h,p),h})}}async delete(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=AI(this.apiClient,e);return l=S("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>NI(f))}else{let d=wI(this.apiClient,e);return l=S("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>MI(f))}}};function t_(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Xp(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>T_(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function n_(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);let i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let f=Ue(s);Array.isArray(f)&&(f=f.map(p=>Xp(p))),u(e,["contents"],f)}let l=a(t,["systemInstruction"]);e!==void 0&&l!=null&&u(e,["systemInstruction"],Xp(fe(l)));let c=a(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>w_(p))),u(e,["tools"],f)}let d=a(t,["toolConfig"]);if(e!==void 0&&d!=null&&u(e,["toolConfig"],S_(d)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function o_(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);let i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let p=Ue(s);Array.isArray(p)&&(p=p.map(h=>h)),u(e,["contents"],p)}let l=a(t,["systemInstruction"]);e!==void 0&&l!=null&&u(e,["systemInstruction"],fe(l));let c=a(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>A_(h))),u(e,["tools"],p)}let d=a(t,["toolConfig"]);e!==void 0&&d!=null&&u(e,["toolConfig"],d);let f=a(t,["kmsKeyName"]);return e!==void 0&&f!=null&&u(e,["encryption_spec","kmsKeyName"],f),n}function r_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["model"],_h(t,o));let r=a(e,["config"]);return r!=null&&n_(r,n),n}function i_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["model"],_h(t,o));let r=a(e,["config"]);return r!=null&&o_(r,n),n}function s_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Et(t,o)),n}function a_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Et(t,o)),n}function l_(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function u_(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function c_(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function d_(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function f_(t){let e={},n=a(t,["allowedFunctionNames"]);n!=null&&u(e,["allowedFunctionNames"],n);let o=a(t,["mode"]);if(o!=null&&u(e,["mode"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function p_(t){let e={},n=a(t,["description"]);n!=null&&u(e,["description"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["parameters"]);r!=null&&u(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&u(e,["response"],s);let l=a(t,["responseJsonSchema"]);if(l!=null&&u(e,["responseJsonSchema"],l),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function h_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Et(t,o)),n}function g_(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Et(t,o)),n}function m_(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function y_(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function v_(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function E_(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function C_(t){let e={},n=a(t,["config"]);return n!=null&&v_(n,e),e}function I_(t){let e={},n=a(t,["config"]);return n!=null&&E_(n,e),e}function __(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function D_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function T_(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],c_(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],d_(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],t_(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function S_(t){let e={},n=a(t,["retrievalConfig"]);n!=null&&u(e,["retrievalConfig"],n);let o=a(t,["functionCallingConfig"]);return o!=null&&u(e,["functionCallingConfig"],f_(o)),e}function w_(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&u(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&u(e,["googleMaps"],m_(s));let l=a(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],y_(l));let c=a(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function A_(t){let e={},n=a(t,["retrieval"]);n!=null&&u(e,["retrieval"],n);let o=a(t,["computerUse"]);if(o!=null&&u(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let r=a(t,["codeExecution"]);r!=null&&u(e,["codeExecution"],r);let i=a(t,["enterpriseWebSearch"]);i!=null&&u(e,["enterpriseWebSearch"],i);let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>p_(h))),u(e,["functionDeclarations"],p)}let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],l);let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);let d=a(t,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function M_(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),n}function N_(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),n}function b_(t,e){let n={},o=a(e,["name"]);o!=null&&u(n,["_url","name"],Et(t,o));let r=a(e,["config"]);return r!=null&&M_(r,n),n}function x_(t,e){let n={},o=a(e,["name"]);o!=null&&u(n,["_url","name"],Et(t,o));let r=a(e,["config"]);return r!=null&&N_(r,n),n}var bu=class extends Ye{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vt(wt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=i_(this.apiClient,e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=r_(this.apiClient,e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=g_(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=h_(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=a_(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=u_(f),h=new ki;return Object.assign(h,p),h})}else{let d=s_(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=l_(f),h=new ki;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=x_(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=b_(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=I_(e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=D_(f),h=new Fi;return Object.assign(h,p),h})}else{let d=C_(e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=__(f),h=new Fi;return Object.assign(h,p),h})}}};function Vi(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function eh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(t){return this instanceof x?(this.v=t,this):new x(t)}function We(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(m){return Promise.resolve(m).then(g,p)}}function l(g,m){o[g]&&(r[g]=function(y){return new Promise(function(E,v){i.push([g,y,E,v])>1||c(g,y)})},m&&(r[g]=m(r[g])))}function c(g,m){try{d(o[g](m))}catch(y){h(i[0][3],y)}}function d(g){g.value instanceof x?Promise.resolve(g.value.v).then(f,p):h(i[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function h(g,m){g(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Je(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof eh=="function"?eh(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(s){return new Promise(function(l,c){s=t[i](s),r(l,c,s.done,s.value)})}}function r(i,s,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},s)}}function R_(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Fh(n)}function Fh(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function P_(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function th(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{let r=[],i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!Fh(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}var xu=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Ru(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},Ru=class{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),P_(i)}async sendMessage(e){var n;await this.sendPromise;let o=fe(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,l;let c=await r,d=(s=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];f!=null&&(h=(l=f.slice(p))!==null&&l!==void 0?l:[]);let g=d?[d]:[];this.recordHistory(o,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;let o=fe(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});let i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){let n=e?th(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return We(this,arguments,function*(){var r,i,s,l,c,d;let f=[];try{for(var p=!0,h=Je(e),g;g=yield x(h.next()),r=g.done,!r;p=!0){l=g.value,p=!1;let m=l;if(R_(m)){let y=(d=(c=m.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;y!==void 0&&f.push(y)}yield yield x(m)}}catch(m){i={error:m}}finally{try{!p&&!r&&(s=h.return)&&(yield x(s.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...th(o)):this.history.push(e),this.history.push(...r)}};var Uo=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function k_(t){let e={},n=a(t,["file"]);return n!=null&&u(e,["file"],n),e}function F_(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function L_(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],Mh(n)),e}function O_(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function V_(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],Mh(n)),e}function U_(t){let e={},n=a(t,["uris"]);return n!=null&&u(e,["uris"],n),e}function H_(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function B_(t){let e={},n=a(t,["config"]);return n!=null&&H_(n,e),e}function G_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["files"],i)}return e}function $_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(e,["files"],r)}return e}var Pu=class extends Ye{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vt(wt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=B_(e);return i=S("files",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=G_(c),f=new Cu;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=k_(e);return i=S("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=F_(c),f=new Iu;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=V_(e);return i=S("files/{file}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=L_(e);return i=S("files/{file}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=O_(c),f=new _u;return Object.assign(f,d),f})}}async registerFilesInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=U_(e);return i=S("files:register",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=$_(c),f=new Du;return Object.assign(f,d),f})}}};function Si(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function q_(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>sD(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function z_(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function W_(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function J_(t){let e={},n=a(t,["description"]);n!=null&&u(e,["description"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["parameters"]);r!=null&&u(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&u(e,["response"],s);let l=a(t,["responseJsonSchema"]);if(l!=null&&u(e,["responseJsonSchema"],l),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Y_(t){let e={},n=a(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);let o=a(t,["responseJsonSchema"]);o!=null&&u(e,["responseJsonSchema"],o);let r=a(t,["audioTimestamp"]);r!=null&&u(e,["audioTimestamp"],r);let i=a(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);let s=a(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);let l=a(t,["frequencyPenalty"]);l!=null&&u(e,["frequencyPenalty"],l);let c=a(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);let d=a(t,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);let f=a(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);let p=a(t,["presencePenalty"]);p!=null&&u(e,["presencePenalty"],p);let h=a(t,["responseLogprobs"]);h!=null&&u(e,["responseLogprobs"],h);let g=a(t,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);let m=a(t,["responseModalities"]);m!=null&&u(e,["responseModalities"],m);let y=a(t,["responseSchema"]);y!=null&&u(e,["responseSchema"],y);let E=a(t,["routingConfig"]);E!=null&&u(e,["routingConfig"],E);let v=a(t,["seed"]);v!=null&&u(e,["seed"],v);let D=a(t,["speechConfig"]);D!=null&&u(e,["speechConfig"],D);let T=a(t,["stopSequences"]);T!=null&&u(e,["stopSequences"],T);let w=a(t,["temperature"]);w!=null&&u(e,["temperature"],w);let C=a(t,["thinkingConfig"]);C!=null&&u(e,["thinkingConfig"],C);let L=a(t,["topK"]);L!=null&&u(e,["topK"],L);let F=a(t,["topP"]);if(F!=null&&u(e,["topP"],F),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function K_(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function j_(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function Z_(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],fc(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["setup","systemInstruction"],q_(fe(m)));let y=a(t,["tools"]);if(e!==void 0&&y!=null){let L=Un(y);Array.isArray(L)&&(L=L.map(F=>lD(Vn(F)))),u(e,["setup","tools"],L)}let E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&u(e,["setup","sessionResumption"],aD(E));let v=a(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&u(e,["setup","inputAudioTranscription"],v);let D=a(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&u(e,["setup","outputAudioTranscription"],D);let T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);let w=a(t,["contextWindowCompression"]);e!==void 0&&w!=null&&u(e,["setup","contextWindowCompression"],w);let C=a(t,["proactivity"]);if(e!==void 0&&C!=null&&u(e,["setup","proactivity"],C),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Q_(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],Y_(o));let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],fc(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["setup","systemInstruction"],fe(m));let y=a(t,["tools"]);if(e!==void 0&&y!=null){let F=Un(y);Array.isArray(F)&&(F=F.map(Q=>uD(Vn(Q)))),u(e,["setup","tools"],F)}let E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&u(e,["setup","sessionResumption"],E);let v=a(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&u(e,["setup","inputAudioTranscription"],v);let D=a(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&u(e,["setup","outputAudioTranscription"],D);let T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);let w=a(t,["contextWindowCompression"]);e!==void 0&&w!=null&&u(e,["setup","contextWindowCompression"],w);let C=a(t,["proactivity"]);e!==void 0&&C!=null&&u(e,["setup","proactivity"],C);let L=a(t,["explicitVadSignal"]);return e!==void 0&&L!=null&&u(e,["setup","explicitVadSignal"],L),n}function X_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["setup","model"],G(t,o));let r=a(e,["config"]);return r!=null&&u(n,["config"],Z_(r,n)),n}function eD(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["setup","model"],G(t,o));let r=a(e,["config"]);return r!=null&&u(n,["config"],Q_(r,n)),n}function tD(t){let e={},n=a(t,["musicGenerationConfig"]);return n!=null&&u(e,["musicGenerationConfig"],n),e}function nD(t){let e={},n=a(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["weightedPrompts"],o)}return e}function oD(t){let e={},n=a(t,["media"]);if(n!=null){let d=Dh(n);Array.isArray(d)&&(d=d.map(f=>Si(f))),u(e,["mediaChunks"],d)}let o=a(t,["audio"]);o!=null&&u(e,["audio"],Si(Sh(o)));let r=a(t,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);let i=a(t,["video"]);i!=null&&u(e,["video"],Si(Th(i)));let s=a(t,["text"]);s!=null&&u(e,["text"],s);let l=a(t,["activityStart"]);l!=null&&u(e,["activityStart"],l);let c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function rD(t){let e={},n=a(t,["media"]);if(n!=null){let d=Dh(n);Array.isArray(d)&&(d=d.map(f=>f)),u(e,["mediaChunks"],d)}let o=a(t,["audio"]);o!=null&&u(e,["audio"],Sh(o));let r=a(t,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);let i=a(t,["video"]);i!=null&&u(e,["video"],Th(i));let s=a(t,["text"]);s!=null&&u(e,["text"],s);let l=a(t,["activityStart"]);l!=null&&u(e,["activityStart"],l);let c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function iD(t){let e={},n=a(t,["setupComplete"]);n!=null&&u(e,["setupComplete"],n);let o=a(t,["serverContent"]);o!=null&&u(e,["serverContent"],o);let r=a(t,["toolCall"]);r!=null&&u(e,["toolCall"],r);let i=a(t,["toolCallCancellation"]);i!=null&&u(e,["toolCallCancellation"],i);let s=a(t,["usageMetadata"]);s!=null&&u(e,["usageMetadata"],cD(s));let l=a(t,["goAway"]);l!=null&&u(e,["goAway"],l);let c=a(t,["sessionResumptionUpdate"]);c!=null&&u(e,["sessionResumptionUpdate"],c);let d=a(t,["voiceActivityDetectionSignal"]);d!=null&&u(e,["voiceActivityDetectionSignal"],d);let f=a(t,["voiceActivity"]);return f!=null&&u(e,["voiceActivity"],dD(f)),e}function sD(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],z_(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],W_(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],Si(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function aD(t){let e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lD(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&u(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&u(e,["googleMaps"],K_(s));let l=a(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],j_(l));let c=a(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function uD(t){let e={},n=a(t,["retrieval"]);n!=null&&u(e,["retrieval"],n);let o=a(t,["computerUse"]);if(o!=null&&u(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let r=a(t,["codeExecution"]);r!=null&&u(e,["codeExecution"],r);let i=a(t,["enterpriseWebSearch"]);i!=null&&u(e,["enterpriseWebSearch"],i);let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>J_(h))),u(e,["functionDeclarations"],p)}let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],l);let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);let d=a(t,["googleSearchRetrieval"]);d!=null&&u(e,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function cD(t){let e={},n=a(t,["promptTokenCount"]);n!=null&&u(e,["promptTokenCount"],n);let o=a(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);let r=a(t,["candidatesTokenCount"]);r!=null&&u(e,["responseTokenCount"],r);let i=a(t,["toolUsePromptTokenCount"]);i!=null&&u(e,["toolUsePromptTokenCount"],i);let s=a(t,["thoughtsTokenCount"]);s!=null&&u(e,["thoughtsTokenCount"],s);let l=a(t,["totalTokenCount"]);l!=null&&u(e,["totalTokenCount"],l);let c=a(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["promptTokensDetails"],g)}let d=a(t,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["cacheTokensDetails"],g)}let f=a(t,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["responseTokensDetails"],g)}let p=a(t,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["toolUsePromptTokensDetails"],g)}let h=a(t,["trafficType"]);return h!=null&&u(e,["trafficType"],h),e}function dD(t){let e={},n=a(t,["type"]);return n!=null&&u(e,["voiceActivityType"],n),e}function fD(t,e){let n={},o=a(t,["data"]);if(o!=null&&u(n,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=a(t,["mimeType"]);return r!=null&&u(n,["mimeType"],r),n}function pD(t,e){let n={},o=a(t,["content"]);o!=null&&u(n,["content"],o);let r=a(t,["citationMetadata"]);r!=null&&u(n,["citationMetadata"],hD(r));let i=a(t,["tokenCount"]);i!=null&&u(n,["tokenCount"],i);let s=a(t,["finishReason"]);s!=null&&u(n,["finishReason"],s);let l=a(t,["avgLogprobs"]);l!=null&&u(n,["avgLogprobs"],l);let c=a(t,["groundingMetadata"]);c!=null&&u(n,["groundingMetadata"],c);let d=a(t,["index"]);d!=null&&u(n,["index"],d);let f=a(t,["logprobsResult"]);f!=null&&u(n,["logprobsResult"],f);let p=a(t,["safetyRatings"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),u(n,["safetyRatings"],g)}let h=a(t,["urlContextMetadata"]);return h!=null&&u(n,["urlContextMetadata"],h),n}function hD(t,e){let n={},o=a(t,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(n,["citations"],r)}return n}function gD(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let s=Ue(i);Array.isArray(s)&&(s=s.map(l=>l)),u(o,["contents"],s)}return o}function mD(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(n,["tokensInfo"],i)}return n}function yD(t,e){let n={},o=a(t,["values"]);o!=null&&u(n,["values"],o);let r=a(t,["statistics"]);return r!=null&&u(n,["statistics"],vD(r)),n}function vD(t,e){let n={},o=a(t,["truncated"]);o!=null&&u(n,["truncated"],o);let r=a(t,["token_count"]);return r!=null&&u(n,["tokenCount"],r),n}function Xi(t,e){let n={},o=a(t,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>AT(s))),u(n,["parts"],i)}let r=a(t,["role"]);return r!=null&&u(n,["role"],r),n}function ED(t,e){let n={},o=a(t,["controlType"]);o!=null&&u(n,["controlType"],o);let r=a(t,["enableControlImageComputation"]);return r!=null&&u(n,["computeControl"],r),n}function CD(t,e){let n={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function ID(t,e,n){let o={},r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&u(e,["systemInstruction"],fe(r));let i=a(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Uh(c))),u(e,["tools"],l)}let s=a(t,["generationConfig"]);return e!==void 0&&s!=null&&u(e,["generationConfig"],fT(s)),o}function _D(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let l=Ue(i);Array.isArray(l)&&(l=l.map(c=>Xi(c))),u(o,["contents"],l)}let s=a(e,["config"]);return s!=null&&CD(s),o}function DD(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let l=Ue(i);Array.isArray(l)&&(l=l.map(c=>c)),u(o,["contents"],l)}let s=a(e,["config"]);return s!=null&&ID(s,o),o}function TD(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["totalTokens"]);r!=null&&u(n,["totalTokens"],r);let i=a(t,["cachedContentTokenCount"]);return i!=null&&u(n,["cachedContentTokenCount"],i),n}function SD(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["totalTokens"]);return r!=null&&u(n,["totalTokens"],r),n}function wD(t,e,n){let o={},r=a(e,["model"]);return r!=null&&u(o,["_url","name"],G(t,r)),o}function AD(t,e,n){let o={},r=a(e,["model"]);return r!=null&&u(o,["_url","name"],G(t,r)),o}function MD(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(n,["sdkHttpResponse"],o),n}function ND(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(n,["sdkHttpResponse"],o),n}function bD(t,e,n){let o={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);let i=a(t,["negativePrompt"]);e!==void 0&&i!=null&&u(e,["parameters","negativePrompt"],i);let s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&u(e,["parameters","sampleCount"],s);let l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);let c=a(t,["guidanceScale"]);e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c);let d=a(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);let f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);let p=a(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);let h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);let g=a(t,["includeRaiReason"]);e!==void 0&&g!=null&&u(e,["parameters","includeRaiReason"],g);let m=a(t,["language"]);e!==void 0&&m!=null&&u(e,["parameters","language"],m);let y=a(t,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);let E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);let v=a(t,["addWatermark"]);e!==void 0&&v!=null&&u(e,["parameters","addWatermark"],v);let D=a(t,["labels"]);e!==void 0&&D!=null&&u(e,["labels"],D);let T=a(t,["editMode"]);e!==void 0&&T!=null&&u(e,["parameters","editMode"],T);let w=a(t,["baseSteps"]);return e!==void 0&&w!=null&&u(e,["parameters","editConfig","baseSteps"],w),o}function xD(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["prompt"]);i!=null&&u(o,["instances[0]","prompt"],i);let s=a(e,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>PT(d))),u(o,["instances[0]","referenceImages"],c)}let l=a(e,["config"]);return l!=null&&bD(l,o),o}function RD(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>es(s))),u(n,["generatedImages"],i)}return n}function PD(t,e,n){let o={},r=a(t,["taskType"]);e!==void 0&&r!=null&&u(e,["requests[]","taskType"],r);let i=a(t,["title"]);e!==void 0&&i!=null&&u(e,["requests[]","title"],i);let s=a(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&u(e,["requests[]","outputDimensionality"],s),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function kD(t,e,n){let o={},r=a(t,["taskType"]);e!==void 0&&r!=null&&u(e,["instances[]","task_type"],r);let i=a(t,["title"]);e!==void 0&&i!=null&&u(e,["instances[]","title"],i);let s=a(t,["outputDimensionality"]);e!==void 0&&s!=null&&u(e,["parameters","outputDimensionality"],s);let l=a(t,["mimeType"]);e!==void 0&&l!=null&&u(e,["instances[]","mimeType"],l);let c=a(t,["autoTruncate"]);return e!==void 0&&c!=null&&u(e,["parameters","autoTruncate"],c),o}function FD(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let c=uc(t,i);Array.isArray(c)&&(c=c.map(d=>d)),u(o,["requests[]","content"],c)}let s=a(e,["config"]);s!=null&&PD(s,o);let l=a(e,["model"]);return l!==void 0&&u(o,["requests[]","model"],G(t,l)),o}function LD(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let l=uc(t,i);Array.isArray(l)&&(l=l.map(c=>c)),u(o,["instances[]","content"],l)}let s=a(e,["config"]);return s!=null&&kD(s,o),o}function OD(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),u(n,["embeddings"],s)}let i=a(t,["metadata"]);return i!=null&&u(n,["metadata"],i),n}function VD(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>yD(l))),u(n,["embeddings"],s)}let i=a(t,["metadata"]);return i!=null&&u(n,["metadata"],i),n}function UD(t,e){let n={},o=a(t,["endpoint"]);o!=null&&u(n,["name"],o);let r=a(t,["deployedModelId"]);return r!=null&&u(n,["deployedModelId"],r),n}function HD(t,e){let n={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["fileUri"]);o!=null&&u(n,["fileUri"],o);let r=a(t,["mimeType"]);return r!=null&&u(n,["mimeType"],r),n}function BD(t,e){let n={},o=a(t,["id"]);o!=null&&u(n,["id"],o);let r=a(t,["args"]);r!=null&&u(n,["args"],r);let i=a(t,["name"]);if(i!=null&&u(n,["name"],i),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function GD(t,e){let n={},o=a(t,["allowedFunctionNames"]);o!=null&&u(n,["allowedFunctionNames"],o);let r=a(t,["mode"]);if(r!=null&&u(n,["mode"],r),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function $D(t,e){let n={},o=a(t,["description"]);o!=null&&u(n,["description"],o);let r=a(t,["name"]);r!=null&&u(n,["name"],r);let i=a(t,["parameters"]);i!=null&&u(n,["parameters"],i);let s=a(t,["parametersJsonSchema"]);s!=null&&u(n,["parametersJsonSchema"],s);let l=a(t,["response"]);l!=null&&u(n,["response"],l);let c=a(t,["responseJsonSchema"]);if(c!=null&&u(n,["responseJsonSchema"],c),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function qD(t,e,n,o){let r={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&u(n,["systemInstruction"],Xi(fe(i)));let s=a(e,["temperature"]);s!=null&&u(r,["temperature"],s);let l=a(e,["topP"]);l!=null&&u(r,["topP"],l);let c=a(e,["topK"]);c!=null&&u(r,["topK"],c);let d=a(e,["candidateCount"]);d!=null&&u(r,["candidateCount"],d);let f=a(e,["maxOutputTokens"]);f!=null&&u(r,["maxOutputTokens"],f);let p=a(e,["stopSequences"]);p!=null&&u(r,["stopSequences"],p);let h=a(e,["responseLogprobs"]);h!=null&&u(r,["responseLogprobs"],h);let g=a(e,["logprobs"]);g!=null&&u(r,["logprobs"],g);let m=a(e,["presencePenalty"]);m!=null&&u(r,["presencePenalty"],m);let y=a(e,["frequencyPenalty"]);y!=null&&u(r,["frequencyPenalty"],y);let E=a(e,["seed"]);E!=null&&u(r,["seed"],E);let v=a(e,["responseMimeType"]);v!=null&&u(r,["responseMimeType"],v);let D=a(e,["responseSchema"]);D!=null&&u(r,["responseSchema"],cc(D));let T=a(e,["responseJsonSchema"]);if(T!=null&&u(r,["responseJsonSchema"],T),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let w=a(e,["safetySettings"]);if(n!==void 0&&w!=null){let ue=w;Array.isArray(ue)&&(ue=ue.map(tn=>kT(tn))),u(n,["safetySettings"],ue)}let C=a(e,["tools"]);if(n!==void 0&&C!=null){let ue=Un(C);Array.isArray(ue)&&(ue=ue.map(tn=>BT(Vn(tn)))),u(n,["tools"],ue)}let L=a(e,["toolConfig"]);if(n!==void 0&&L!=null&&u(n,["toolConfig"],HT(L)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let F=a(e,["cachedContent"]);n!==void 0&&F!=null&&u(n,["cachedContent"],Et(t,F));let Q=a(e,["responseModalities"]);Q!=null&&u(r,["responseModalities"],Q);let M=a(e,["mediaResolution"]);M!=null&&u(r,["mediaResolution"],M);let O=a(e,["speechConfig"]);if(O!=null&&u(r,["speechConfig"],dc(O)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let ne=a(e,["thinkingConfig"]);ne!=null&&u(r,["thinkingConfig"],ne);let De=a(e,["imageConfig"]);De!=null&&u(r,["imageConfig"],yT(De));let pe=a(e,["enableEnhancedCivicAnswers"]);if(pe!=null&&u(r,["enableEnhancedCivicAnswers"],pe),a(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function zD(t,e,n,o){let r={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&u(n,["systemInstruction"],fe(i));let s=a(e,["temperature"]);s!=null&&u(r,["temperature"],s);let l=a(e,["topP"]);l!=null&&u(r,["topP"],l);let c=a(e,["topK"]);c!=null&&u(r,["topK"],c);let d=a(e,["candidateCount"]);d!=null&&u(r,["candidateCount"],d);let f=a(e,["maxOutputTokens"]);f!=null&&u(r,["maxOutputTokens"],f);let p=a(e,["stopSequences"]);p!=null&&u(r,["stopSequences"],p);let h=a(e,["responseLogprobs"]);h!=null&&u(r,["responseLogprobs"],h);let g=a(e,["logprobs"]);g!=null&&u(r,["logprobs"],g);let m=a(e,["presencePenalty"]);m!=null&&u(r,["presencePenalty"],m);let y=a(e,["frequencyPenalty"]);y!=null&&u(r,["frequencyPenalty"],y);let E=a(e,["seed"]);E!=null&&u(r,["seed"],E);let v=a(e,["responseMimeType"]);v!=null&&u(r,["responseMimeType"],v);let D=a(e,["responseSchema"]);D!=null&&u(r,["responseSchema"],cc(D));let T=a(e,["responseJsonSchema"]);T!=null&&u(r,["responseJsonSchema"],T);let w=a(e,["routingConfig"]);w!=null&&u(r,["routingConfig"],w);let C=a(e,["modelSelectionConfig"]);C!=null&&u(r,["modelConfig"],C);let L=a(e,["safetySettings"]);if(n!==void 0&&L!=null){let st=L;Array.isArray(st)&&(st=st.map(ss=>ss)),u(n,["safetySettings"],st)}let F=a(e,["tools"]);if(n!==void 0&&F!=null){let st=Un(F);Array.isArray(st)&&(st=st.map(ss=>Uh(Vn(ss)))),u(n,["tools"],st)}let Q=a(e,["toolConfig"]);n!==void 0&&Q!=null&&u(n,["toolConfig"],Q);let M=a(e,["labels"]);n!==void 0&&M!=null&&u(n,["labels"],M);let O=a(e,["cachedContent"]);n!==void 0&&O!=null&&u(n,["cachedContent"],Et(t,O));let ne=a(e,["responseModalities"]);ne!=null&&u(r,["responseModalities"],ne);let De=a(e,["mediaResolution"]);De!=null&&u(r,["mediaResolution"],De);let pe=a(e,["speechConfig"]);pe!=null&&u(r,["speechConfig"],dc(pe));let ue=a(e,["audioTimestamp"]);ue!=null&&u(r,["audioTimestamp"],ue);let tn=a(e,["thinkingConfig"]);tn!=null&&u(r,["thinkingConfig"],tn);let hc=a(e,["imageConfig"]);if(hc!=null&&u(r,["imageConfig"],vT(hc)),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");let gc=a(e,["modelArmorConfig"]);return n!==void 0&&gc!=null&&u(n,["modelArmorConfig"],gc),r}function nh(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let l=Ue(i);Array.isArray(l)&&(l=l.map(c=>Xi(c))),u(o,["contents"],l)}let s=a(e,["config"]);return s!=null&&u(o,["generationConfig"],qD(t,s,o)),o}function oh(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["contents"]);if(i!=null){let l=Ue(i);Array.isArray(l)&&(l=l.map(c=>c)),u(o,["contents"],l)}let s=a(e,["config"]);return s!=null&&u(o,["generationConfig"],zD(t,s,o)),o}function rh(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>pD(f))),u(n,["candidates"],d)}let i=a(t,["modelVersion"]);i!=null&&u(n,["modelVersion"],i);let s=a(t,["promptFeedback"]);s!=null&&u(n,["promptFeedback"],s);let l=a(t,["responseId"]);l!=null&&u(n,["responseId"],l);let c=a(t,["usageMetadata"]);return c!=null&&u(n,["usageMetadata"],c),n}function ih(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),u(n,["candidates"],f)}let i=a(t,["createTime"]);i!=null&&u(n,["createTime"],i);let s=a(t,["modelVersion"]);s!=null&&u(n,["modelVersion"],s);let l=a(t,["promptFeedback"]);l!=null&&u(n,["promptFeedback"],l);let c=a(t,["responseId"]);c!=null&&u(n,["responseId"],c);let d=a(t,["usageMetadata"]);return d!=null&&u(n,["usageMetadata"],d),n}function WD(t,e,n){let o={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let r=a(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);let i=a(t,["aspectRatio"]);e!==void 0&&i!=null&&u(e,["parameters","aspectRatio"],i);let s=a(t,["guidanceScale"]);if(e!==void 0&&s!=null&&u(e,["parameters","guidanceScale"],s),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let l=a(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&u(e,["parameters","safetySetting"],l);let c=a(t,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);let d=a(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&u(e,["parameters","includeSafetyAttributes"],d);let f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&u(e,["parameters","includeRaiReason"],f);let p=a(t,["language"]);e!==void 0&&p!=null&&u(e,["parameters","language"],p);let h=a(t,["outputMimeType"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","mimeType"],h);let g=a(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&u(e,["parameters","outputOptions","compressionQuality"],g),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let m=a(t,["imageSize"]);if(e!==void 0&&m!=null&&u(e,["parameters","sampleImageSize"],m),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function JD(t,e,n){let o={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);let i=a(t,["negativePrompt"]);e!==void 0&&i!=null&&u(e,["parameters","negativePrompt"],i);let s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&u(e,["parameters","sampleCount"],s);let l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);let c=a(t,["guidanceScale"]);e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c);let d=a(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);let f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);let p=a(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);let h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&u(e,["parameters","includeSafetyAttributes"],h);let g=a(t,["includeRaiReason"]);e!==void 0&&g!=null&&u(e,["parameters","includeRaiReason"],g);let m=a(t,["language"]);e!==void 0&&m!=null&&u(e,["parameters","language"],m);let y=a(t,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);let E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);let v=a(t,["addWatermark"]);e!==void 0&&v!=null&&u(e,["parameters","addWatermark"],v);let D=a(t,["labels"]);e!==void 0&&D!=null&&u(e,["labels"],D);let T=a(t,["imageSize"]);e!==void 0&&T!=null&&u(e,["parameters","sampleImageSize"],T);let w=a(t,["enhancePrompt"]);return e!==void 0&&w!=null&&u(e,["parameters","enhancePrompt"],w),o}function YD(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["prompt"]);i!=null&&u(o,["instances[0]","prompt"],i);let s=a(e,["config"]);return s!=null&&WD(s,o),o}function KD(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["prompt"]);i!=null&&u(o,["instances[0]","prompt"],i);let s=a(e,["config"]);return s!=null&&JD(s,o),o}function jD(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>lT(l))),u(n,["generatedImages"],s)}let i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&u(n,["positivePromptSafetyAttributes"],Oh(i)),n}function ZD(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>es(l))),u(n,["generatedImages"],s)}let i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&u(n,["positivePromptSafetyAttributes"],Vh(i)),n}function QD(t,e,n){let o={},r=a(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let i=a(t,["durationSeconds"]);if(e!==void 0&&i!=null&&u(e,["parameters","durationSeconds"],i),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);let l=a(t,["resolution"]);e!==void 0&&l!=null&&u(e,["parameters","resolution"],l);let c=a(t,["personGeneration"]);if(e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let d=a(t,["negativePrompt"]);e!==void 0&&d!=null&&u(e,["parameters","negativePrompt"],d);let f=a(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&u(e,["parameters","enhancePrompt"],f),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let p=a(t,["lastFrame"]);e!==void 0&&p!=null&&u(e,["instances[0]","lastFrame"],ts(p));let h=a(t,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(m=>e0(m))),u(e,["instances[0]","referenceImages"],g)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function XD(t,e,n){let o={},r=a(t,["numberOfVideos"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);let i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);let s=a(t,["fps"]);e!==void 0&&s!=null&&u(e,["parameters","fps"],s);let l=a(t,["durationSeconds"]);e!==void 0&&l!=null&&u(e,["parameters","durationSeconds"],l);let c=a(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);let d=a(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);let f=a(t,["resolution"]);e!==void 0&&f!=null&&u(e,["parameters","resolution"],f);let p=a(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);let h=a(t,["pubsubTopic"]);e!==void 0&&h!=null&&u(e,["parameters","pubsubTopic"],h);let g=a(t,["negativePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","negativePrompt"],g);let m=a(t,["enhancePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m);let y=a(t,["generateAudio"]);e!==void 0&&y!=null&&u(e,["parameters","generateAudio"],y);let E=a(t,["lastFrame"]);e!==void 0&&E!=null&&u(e,["instances[0]","lastFrame"],Ke(E));let v=a(t,["referenceImages"]);if(e!==void 0&&v!=null){let w=v;Array.isArray(w)&&(w=w.map(C=>t0(C))),u(e,["instances[0]","referenceImages"],w)}let D=a(t,["mask"]);e!==void 0&&D!=null&&u(e,["instances[0]","mask"],XT(D));let T=a(t,["compressionQuality"]);return e!==void 0&&T!=null&&u(e,["parameters","compressionQuality"],T),o}function eT(t,e){let n={},o=a(t,["name"]);o!=null&&u(n,["name"],o);let r=a(t,["metadata"]);r!=null&&u(n,["metadata"],r);let i=a(t,["done"]);i!=null&&u(n,["done"],i);let s=a(t,["error"]);s!=null&&u(n,["error"],s);let l=a(t,["response","generateVideoResponse"]);return l!=null&&u(n,["response"],rT(l)),n}function tT(t,e){let n={},o=a(t,["name"]);o!=null&&u(n,["name"],o);let r=a(t,["metadata"]);r!=null&&u(n,["metadata"],r);let i=a(t,["done"]);i!=null&&u(n,["done"],i);let s=a(t,["error"]);s!=null&&u(n,["error"],s);let l=a(t,["response"]);return l!=null&&u(n,["response"],iT(l)),n}function nT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["prompt"]);i!=null&&u(o,["instances[0]","prompt"],i);let s=a(e,["image"]);s!=null&&u(o,["instances[0]","image"],ts(s));let l=a(e,["video"]);l!=null&&u(o,["instances[0]","video"],Hh(l));let c=a(e,["source"]);c!=null&&sT(c,o);let d=a(e,["config"]);return d!=null&&QD(d,o),o}function oT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["prompt"]);i!=null&&u(o,["instances[0]","prompt"],i);let s=a(e,["image"]);s!=null&&u(o,["instances[0]","image"],Ke(s));let l=a(e,["video"]);l!=null&&u(o,["instances[0]","video"],Bh(l));let c=a(e,["source"]);c!=null&&aT(c,o);let d=a(e,["config"]);return d!=null&&XD(d,o),o}function rT(t,e){let n={},o=a(t,["generatedSamples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>cT(l))),u(n,["generatedVideos"],s)}let r=a(t,["raiMediaFilteredCount"]);r!=null&&u(n,["raiMediaFilteredCount"],r);let i=a(t,["raiMediaFilteredReasons"]);return i!=null&&u(n,["raiMediaFilteredReasons"],i),n}function iT(t,e){let n={},o=a(t,["videos"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>dT(l))),u(n,["generatedVideos"],s)}let r=a(t,["raiMediaFilteredCount"]);r!=null&&u(n,["raiMediaFilteredCount"],r);let i=a(t,["raiMediaFilteredReasons"]);return i!=null&&u(n,["raiMediaFilteredReasons"],i),n}function sT(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let i=a(t,["image"]);e!==void 0&&i!=null&&u(e,["instances[0]","image"],ts(i));let s=a(t,["video"]);return e!==void 0&&s!=null&&u(e,["instances[0]","video"],Hh(s)),o}function aT(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let i=a(t,["image"]);e!==void 0&&i!=null&&u(e,["instances[0]","image"],Ke(i));let s=a(t,["video"]);return e!==void 0&&s!=null&&u(e,["instances[0]","video"],Bh(s)),o}function lT(t,e){let n={},o=a(t,["_self"]);o!=null&&u(n,["image"],ET(o));let r=a(t,["raiFilteredReason"]);r!=null&&u(n,["raiFilteredReason"],r);let i=a(t,["_self"]);return i!=null&&u(n,["safetyAttributes"],Oh(i)),n}function es(t,e){let n={},o=a(t,["_self"]);o!=null&&u(n,["image"],Lh(o));let r=a(t,["raiFilteredReason"]);r!=null&&u(n,["raiFilteredReason"],r);let i=a(t,["_self"]);i!=null&&u(n,["safetyAttributes"],Vh(i));let s=a(t,["prompt"]);return s!=null&&u(n,["enhancedPrompt"],s),n}function uT(t,e){let n={},o=a(t,["_self"]);o!=null&&u(n,["mask"],Lh(o));let r=a(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(n,["labels"],i)}return n}function cT(t,e){let n={},o=a(t,["video"]);return o!=null&&u(n,["video"],ZT(o)),n}function dT(t,e){let n={},o=a(t,["_self"]);return o!=null&&u(n,["video"],QT(o)),n}function fT(t,e){let n={},o=a(t,["modelSelectionConfig"]);o!=null&&u(n,["modelConfig"],o);let r=a(t,["responseJsonSchema"]);r!=null&&u(n,["responseJsonSchema"],r);let i=a(t,["audioTimestamp"]);i!=null&&u(n,["audioTimestamp"],i);let s=a(t,["candidateCount"]);s!=null&&u(n,["candidateCount"],s);let l=a(t,["enableAffectiveDialog"]);l!=null&&u(n,["enableAffectiveDialog"],l);let c=a(t,["frequencyPenalty"]);c!=null&&u(n,["frequencyPenalty"],c);let d=a(t,["logprobs"]);d!=null&&u(n,["logprobs"],d);let f=a(t,["maxOutputTokens"]);f!=null&&u(n,["maxOutputTokens"],f);let p=a(t,["mediaResolution"]);p!=null&&u(n,["mediaResolution"],p);let h=a(t,["presencePenalty"]);h!=null&&u(n,["presencePenalty"],h);let g=a(t,["responseLogprobs"]);g!=null&&u(n,["responseLogprobs"],g);let m=a(t,["responseMimeType"]);m!=null&&u(n,["responseMimeType"],m);let y=a(t,["responseModalities"]);y!=null&&u(n,["responseModalities"],y);let E=a(t,["responseSchema"]);E!=null&&u(n,["responseSchema"],E);let v=a(t,["routingConfig"]);v!=null&&u(n,["routingConfig"],v);let D=a(t,["seed"]);D!=null&&u(n,["seed"],D);let T=a(t,["speechConfig"]);T!=null&&u(n,["speechConfig"],T);let w=a(t,["stopSequences"]);w!=null&&u(n,["stopSequences"],w);let C=a(t,["temperature"]);C!=null&&u(n,["temperature"],C);let L=a(t,["thinkingConfig"]);L!=null&&u(n,["thinkingConfig"],L);let F=a(t,["topK"]);F!=null&&u(n,["topK"],F);let Q=a(t,["topP"]);if(Q!=null&&u(n,["topP"],Q),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function pT(t,e,n){let o={},r=a(e,["model"]);return r!=null&&u(o,["_url","name"],G(t,r)),o}function hT(t,e,n){let o={},r=a(e,["model"]);return r!=null&&u(o,["_url","name"],G(t,r)),o}function gT(t,e){let n={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let o=a(t,["enableWidget"]);return o!=null&&u(n,["enableWidget"],o),n}function mT(t,e){let n={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let o=a(t,["timeRangeFilter"]);return o!=null&&u(n,["timeRangeFilter"],o),n}function yT(t,e){let n={},o=a(t,["aspectRatio"]);o!=null&&u(n,["aspectRatio"],o);let r=a(t,["imageSize"]);if(r!=null&&u(n,["imageSize"],r),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function vT(t,e){let n={},o=a(t,["aspectRatio"]);o!=null&&u(n,["aspectRatio"],o);let r=a(t,["imageSize"]);r!=null&&u(n,["imageSize"],r);let i=a(t,["personGeneration"]);i!=null&&u(n,["personGeneration"],i);let s=a(t,["outputMimeType"]);s!=null&&u(n,["imageOutputOptions","mimeType"],s);let l=a(t,["outputCompressionQuality"]);return l!=null&&u(n,["imageOutputOptions","compressionQuality"],l),n}function ET(t,e){let n={},o=a(t,["bytesBase64Encoded"]);o!=null&&u(n,["imageBytes"],St(o));let r=a(t,["mimeType"]);return r!=null&&u(n,["mimeType"],r),n}function Lh(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&u(n,["gcsUri"],o);let r=a(t,["bytesBase64Encoded"]);r!=null&&u(n,["imageBytes"],St(r));let i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function ts(t,e){let n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let o=a(t,["imageBytes"]);o!=null&&u(n,["bytesBase64Encoded"],St(o));let r=a(t,["mimeType"]);return r!=null&&u(n,["mimeType"],r),n}function Ke(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&u(n,["gcsUri"],o);let r=a(t,["imageBytes"]);r!=null&&u(n,["bytesBase64Encoded"],St(r));let i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function CT(t,e,n,o){let r={},i=a(e,["pageSize"]);n!==void 0&&i!=null&&u(n,["_query","pageSize"],i);let s=a(e,["pageToken"]);n!==void 0&&s!=null&&u(n,["_query","pageToken"],s);let l=a(e,["filter"]);n!==void 0&&l!=null&&u(n,["_query","filter"],l);let c=a(e,["queryBase"]);return n!==void 0&&c!=null&&u(n,["_url","models_url"],Nh(t,c)),r}function IT(t,e,n,o){let r={},i=a(e,["pageSize"]);n!==void 0&&i!=null&&u(n,["_query","pageSize"],i);let s=a(e,["pageToken"]);n!==void 0&&s!=null&&u(n,["_query","pageToken"],s);let l=a(e,["filter"]);n!==void 0&&l!=null&&u(n,["_query","filter"],l);let c=a(e,["queryBase"]);return n!==void 0&&c!=null&&u(n,["_url","models_url"],Nh(t,c)),r}function _T(t,e,n){let o={},r=a(e,["config"]);return r!=null&&CT(t,r,o),o}function DT(t,e,n){let o={},r=a(e,["config"]);return r!=null&&IT(t,r,o),o}function TT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);let i=a(t,["_self"]);if(i!=null){let s=bh(i);Array.isArray(s)&&(s=s.map(l=>ku(l))),u(n,["models"],s)}return n}function ST(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);let i=a(t,["_self"]);if(i!=null){let s=bh(i);Array.isArray(s)&&(s=s.map(l=>Fu(l))),u(n,["models"],s)}return n}function wT(t,e){let n={},o=a(t,["maskMode"]);o!=null&&u(n,["maskMode"],o);let r=a(t,["segmentationClasses"]);r!=null&&u(n,["maskClasses"],r);let i=a(t,["maskDilation"]);return i!=null&&u(n,["dilation"],i),n}function ku(t,e){let n={},o=a(t,["name"]);o!=null&&u(n,["name"],o);let r=a(t,["displayName"]);r!=null&&u(n,["displayName"],r);let i=a(t,["description"]);i!=null&&u(n,["description"],i);let s=a(t,["version"]);s!=null&&u(n,["version"],s);let l=a(t,["_self"]);l!=null&&u(n,["tunedModelInfo"],GT(l));let c=a(t,["inputTokenLimit"]);c!=null&&u(n,["inputTokenLimit"],c);let d=a(t,["outputTokenLimit"]);d!=null&&u(n,["outputTokenLimit"],d);let f=a(t,["supportedGenerationMethods"]);f!=null&&u(n,["supportedActions"],f);let p=a(t,["temperature"]);p!=null&&u(n,["temperature"],p);let h=a(t,["maxTemperature"]);h!=null&&u(n,["maxTemperature"],h);let g=a(t,["topP"]);g!=null&&u(n,["topP"],g);let m=a(t,["topK"]);m!=null&&u(n,["topK"],m);let y=a(t,["thinking"]);return y!=null&&u(n,["thinking"],y),n}function Fu(t,e){let n={},o=a(t,["name"]);o!=null&&u(n,["name"],o);let r=a(t,["displayName"]);r!=null&&u(n,["displayName"],r);let i=a(t,["description"]);i!=null&&u(n,["description"],i);let s=a(t,["versionId"]);s!=null&&u(n,["version"],s);let l=a(t,["deployedModels"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>UD(g))),u(n,["endpoints"],h)}let c=a(t,["labels"]);c!=null&&u(n,["labels"],c);let d=a(t,["_self"]);d!=null&&u(n,["tunedModelInfo"],$T(d));let f=a(t,["defaultCheckpointId"]);f!=null&&u(n,["defaultCheckpointId"],f);let p=a(t,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),u(n,["checkpoints"],h)}return n}function AT(t,e){let n={},o=a(t,["mediaResolution"]);o!=null&&u(n,["mediaResolution"],o);let r=a(t,["codeExecutionResult"]);r!=null&&u(n,["codeExecutionResult"],r);let i=a(t,["executableCode"]);i!=null&&u(n,["executableCode"],i);let s=a(t,["fileData"]);s!=null&&u(n,["fileData"],HD(s));let l=a(t,["functionCall"]);l!=null&&u(n,["functionCall"],BD(l));let c=a(t,["functionResponse"]);c!=null&&u(n,["functionResponse"],c);let d=a(t,["inlineData"]);d!=null&&u(n,["inlineData"],fD(d));let f=a(t,["text"]);f!=null&&u(n,["text"],f);let p=a(t,["thought"]);p!=null&&u(n,["thought"],p);let h=a(t,["thoughtSignature"]);h!=null&&u(n,["thoughtSignature"],h);let g=a(t,["videoMetadata"]);return g!=null&&u(n,["videoMetadata"],g),n}function MT(t,e){let n={},o=a(t,["productImage"]);return o!=null&&u(n,["image"],Ke(o)),n}function NT(t,e,n){let o={},r=a(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);let i=a(t,["baseSteps"]);e!==void 0&&i!=null&&u(e,["parameters","baseSteps"],i);let s=a(t,["outputGcsUri"]);e!==void 0&&s!=null&&u(e,["parameters","storageUri"],s);let l=a(t,["seed"]);e!==void 0&&l!=null&&u(e,["parameters","seed"],l);let c=a(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&u(e,["parameters","safetySetting"],c);let d=a(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);let f=a(t,["addWatermark"]);e!==void 0&&f!=null&&u(e,["parameters","addWatermark"],f);let p=a(t,["outputMimeType"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","mimeType"],p);let h=a(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","compressionQuality"],h);let g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","enhancePrompt"],g);let m=a(t,["labels"]);return e!==void 0&&m!=null&&u(e,["labels"],m),o}function bT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["source"]);i!=null&&RT(i,o);let s=a(e,["config"]);return s!=null&&NT(s,o),o}function xT(t,e){let n={},o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>es(i))),u(n,["generatedImages"],r)}return n}function RT(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let i=a(t,["personImage"]);e!==void 0&&i!=null&&u(e,["instances[0]","personImage","image"],Ke(i));let s=a(t,["productImages"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>MT(c))),u(e,["instances[0]","productImages"],l)}return o}function PT(t,e){let n={},o=a(t,["referenceImage"]);o!=null&&u(n,["referenceImage"],Ke(o));let r=a(t,["referenceId"]);r!=null&&u(n,["referenceId"],r);let i=a(t,["referenceType"]);i!=null&&u(n,["referenceType"],i);let s=a(t,["maskImageConfig"]);s!=null&&u(n,["maskImageConfig"],wT(s));let l=a(t,["controlImageConfig"]);l!=null&&u(n,["controlImageConfig"],ED(l));let c=a(t,["styleImageConfig"]);c!=null&&u(n,["styleImageConfig"],c);let d=a(t,["subjectImageConfig"]);return d!=null&&u(n,["subjectImageConfig"],d),n}function Oh(t,e){let n={},o=a(t,["safetyAttributes","categories"]);o!=null&&u(n,["categories"],o);let r=a(t,["safetyAttributes","scores"]);r!=null&&u(n,["scores"],r);let i=a(t,["contentType"]);return i!=null&&u(n,["contentType"],i),n}function Vh(t,e){let n={},o=a(t,["safetyAttributes","categories"]);o!=null&&u(n,["categories"],o);let r=a(t,["safetyAttributes","scores"]);r!=null&&u(n,["scores"],r);let i=a(t,["contentType"]);return i!=null&&u(n,["contentType"],i),n}function kT(t,e){let n={},o=a(t,["category"]);if(o!=null&&u(n,["category"],o),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=a(t,["threshold"]);return r!=null&&u(n,["threshold"],r),n}function FT(t,e){let n={},o=a(t,["image"]);return o!=null&&u(n,["image"],Ke(o)),n}function LT(t,e,n){let o={},r=a(t,["mode"]);e!==void 0&&r!=null&&u(e,["parameters","mode"],r);let i=a(t,["maxPredictions"]);e!==void 0&&i!=null&&u(e,["parameters","maxPredictions"],i);let s=a(t,["confidenceThreshold"]);e!==void 0&&s!=null&&u(e,["parameters","confidenceThreshold"],s);let l=a(t,["maskDilation"]);e!==void 0&&l!=null&&u(e,["parameters","maskDilation"],l);let c=a(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","binaryColorThreshold"],c);let d=a(t,["labels"]);return e!==void 0&&d!=null&&u(e,["labels"],d),o}function OT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["source"]);i!=null&&UT(i,o);let s=a(e,["config"]);return s!=null&&LT(s,o),o}function VT(t,e){let n={},o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>uT(i))),u(n,["generatedMasks"],r)}return n}function UT(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let i=a(t,["image"]);e!==void 0&&i!=null&&u(e,["instances[0]","image"],Ke(i));let s=a(t,["scribbleImage"]);return e!==void 0&&s!=null&&u(e,["instances[0]","scribble"],FT(s)),o}function HT(t,e){let n={},o=a(t,["retrievalConfig"]);o!=null&&u(n,["retrievalConfig"],o);let r=a(t,["functionCallingConfig"]);return r!=null&&u(n,["functionCallingConfig"],GD(r)),n}function BT(t,e){let n={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=a(t,["computerUse"]);o!=null&&u(n,["computerUse"],o);let r=a(t,["fileSearch"]);r!=null&&u(n,["fileSearch"],r);let i=a(t,["codeExecution"]);if(i!=null&&u(n,["codeExecution"],i),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>h)),u(n,["functionDeclarations"],p)}let l=a(t,["googleMaps"]);l!=null&&u(n,["googleMaps"],gT(l));let c=a(t,["googleSearch"]);c!=null&&u(n,["googleSearch"],mT(c));let d=a(t,["googleSearchRetrieval"]);d!=null&&u(n,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&u(n,["urlContext"],f),n}function Uh(t,e){let n={},o=a(t,["retrieval"]);o!=null&&u(n,["retrieval"],o);let r=a(t,["computerUse"]);if(r!=null&&u(n,["computerUse"],r),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=a(t,["codeExecution"]);i!=null&&u(n,["codeExecution"],i);let s=a(t,["enterpriseWebSearch"]);s!=null&&u(n,["enterpriseWebSearch"],s);let l=a(t,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>$D(g))),u(n,["functionDeclarations"],h)}let c=a(t,["googleMaps"]);c!=null&&u(n,["googleMaps"],c);let d=a(t,["googleSearch"]);d!=null&&u(n,["googleSearch"],d);let f=a(t,["googleSearchRetrieval"]);f!=null&&u(n,["googleSearchRetrieval"],f);let p=a(t,["urlContext"]);return p!=null&&u(n,["urlContext"],p),n}function GT(t,e){let n={},o=a(t,["baseModel"]);o!=null&&u(n,["baseModel"],o);let r=a(t,["createTime"]);r!=null&&u(n,["createTime"],r);let i=a(t,["updateTime"]);return i!=null&&u(n,["updateTime"],i),n}function $T(t,e){let n={},o=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&u(n,["baseModel"],o);let r=a(t,["createTime"]);r!=null&&u(n,["createTime"],r);let i=a(t,["updateTime"]);return i!=null&&u(n,["updateTime"],i),n}function qT(t,e,n){let o={},r=a(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);let i=a(t,["description"]);e!==void 0&&i!=null&&u(e,["description"],i);let s=a(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&u(e,["defaultCheckpointId"],s),o}function zT(t,e,n){let o={},r=a(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);let i=a(t,["description"]);e!==void 0&&i!=null&&u(e,["description"],i);let s=a(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&u(e,["defaultCheckpointId"],s),o}function WT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","name"],G(t,r));let i=a(e,["config"]);return i!=null&&qT(i,o),o}function JT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["config"]);return i!=null&&zT(i,o),o}function YT(t,e,n){let o={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);let i=a(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&u(e,["parameters","safetySetting"],i);let s=a(t,["personGeneration"]);e!==void 0&&s!=null&&u(e,["parameters","personGeneration"],s);let l=a(t,["includeRaiReason"]);e!==void 0&&l!=null&&u(e,["parameters","includeRaiReason"],l);let c=a(t,["outputMimeType"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","mimeType"],c);let d=a(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);let f=a(t,["enhanceInputImage"]);e!==void 0&&f!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],f);let p=a(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],p);let h=a(t,["labels"]);e!==void 0&&h!=null&&u(e,["labels"],h);let g=a(t,["numberOfImages"]);e!==void 0&&g!=null&&u(e,["parameters","sampleCount"],g);let m=a(t,["mode"]);return e!==void 0&&m!=null&&u(e,["parameters","mode"],m),o}function KT(t,e,n){let o={},r=a(e,["model"]);r!=null&&u(o,["_url","model"],G(t,r));let i=a(e,["image"]);i!=null&&u(o,["instances[0]","image"],Ke(i));let s=a(e,["upscaleFactor"]);s!=null&&u(o,["parameters","upscaleConfig","upscaleFactor"],s);let l=a(e,["config"]);return l!=null&&YT(l,o),o}function jT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>es(s))),u(n,["generatedImages"],i)}return n}function ZT(t,e){let n={},o=a(t,["uri"]);o!=null&&u(n,["uri"],o);let r=a(t,["encodedVideo"]);r!=null&&u(n,["videoBytes"],St(r));let i=a(t,["encoding"]);return i!=null&&u(n,["mimeType"],i),n}function QT(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&u(n,["uri"],o);let r=a(t,["bytesBase64Encoded"]);r!=null&&u(n,["videoBytes"],St(r));let i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function XT(t,e){let n={},o=a(t,["image"]);o!=null&&u(n,["_self"],Ke(o));let r=a(t,["maskMode"]);return r!=null&&u(n,["maskMode"],r),n}function e0(t,e){let n={},o=a(t,["image"]);o!=null&&u(n,["image"],ts(o));let r=a(t,["referenceType"]);return r!=null&&u(n,["referenceType"],r),n}function t0(t,e){let n={},o=a(t,["image"]);o!=null&&u(n,["image"],Ke(o));let r=a(t,["referenceType"]);return r!=null&&u(n,["referenceType"],r),n}function Hh(t,e){let n={},o=a(t,["uri"]);o!=null&&u(n,["uri"],o);let r=a(t,["videoBytes"]);r!=null&&u(n,["encodedVideo"],St(r));let i=a(t,["mimeType"]);return i!=null&&u(n,["encoding"],i),n}function Bh(t,e){let n={},o=a(t,["uri"]);o!=null&&u(n,["gcsUri"],o);let r=a(t,["videoBytes"]);r!=null&&u(n,["bytesBase64Encoded"],St(r));let i=a(t,["mimeType"]);return i!=null&&u(n,["mimeType"],i),n}function n0(t,e){let n={},o=a(t,["displayName"]);return e!==void 0&&o!=null&&u(e,["displayName"],o),n}function o0(t){let e={},n=a(t,["config"]);return n!=null&&n0(n,e),e}function r0(t,e){let n={},o=a(t,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),n}function i0(t){let e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);let o=a(t,["config"]);return o!=null&&r0(o,e),e}function s0(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function a0(t,e){let n={},o=a(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["customMetadata"],i)}let r=a(t,["chunkingConfig"]);return e!==void 0&&r!=null&&u(e,["chunkingConfig"],r),n}function l0(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],c0(s)),e}function u0(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);let o=a(t,["fileName"]);o!=null&&u(e,["fileName"],o);let r=a(t,["config"]);return r!=null&&a0(r,e),e}function c0(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&u(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function d0(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function f0(t){let e={},n=a(t,["config"]);return n!=null&&d0(n,e),e}function p0(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["fileSearchStores"],i)}return e}function Gh(t,e){let n={},o=a(t,["mimeType"]);e!==void 0&&o!=null&&u(e,["mimeType"],o);let r=a(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);let i=a(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),u(e,["customMetadata"],l)}let s=a(t,["chunkingConfig"]);return e!==void 0&&s!=null&&u(e,["chunkingConfig"],s),n}function h0(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);let o=a(t,["config"]);return o!=null&&Gh(o,e),e}function g0(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}var m0="Content-Type",y0="X-Server-Timeout",v0="User-Agent",Lu="x-goog-api-client",E0="1.39.0",C0=`google-genai-sdk/${E0}`,I0="v1beta1",_0="v1beta",Ou=class{constructor(e){var n,o,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));let i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");let l=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!l?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:I0}else{if(!this.clientOptions.apiKey)throw new Uo({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:_0,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){let e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){let r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Ih.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e,n),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(let[s,l]of Object.entries(e.queryParams))r.searchParams.append(s,String(l));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){let o=JSON.parse(JSON.stringify(e));for(let[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e,n),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){let i=new AbortController,s=i.signal;if(n.timeout&&n?.timeout>0){let l=setTimeout(()=>i.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&D0(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await sh(r),new Vo(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await sh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return We(this,arguments,function*(){var o;let r=(o=e?.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="",l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:d,value:f}=yield x(r.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let p=i.decode(f,{stream:!0});try{let m=JSON.parse(p);if("error"in m){let y=JSON.parse(JSON.stringify(m.error)),E=y.status,v=y.code,D=`got status: ${E}. ${JSON.stringify(m)}`;if(v>=400&&v<600)throw new Uo({message:D,status:v})}}catch(m){if(m.name==="ApiError")throw m}s+=p;let h=-1,g=0;for(;;){h=-1,g=0;for(let E of c){let v=s.indexOf(E);v!==-1&&(h===-1||v<h)&&(h=v,g=E.length)}if(h===-1)break;let m=s.substring(0,h);s=s.substring(h+g);let y=m.trim();if(y.startsWith(l)){let E=y.substring(l.length).trim();try{let v=new Response(E,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield x(new Vo(v))}catch(v){throw new Error(`exception parsing stream chunk ${E}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){let e={},n=C0+" "+this.clientOptions.userAgentExtra;return e[v0]=n,e[Lu]=n,e[m0]="application/json",e}async getHeadersInternal(e,n){let o=new Headers;if(e&&e.headers){for(let[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(y0,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;let r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);let i=this.clientOptions.uploader,s=await i.stat(e);r.sizeBytes=String(s.size);let l=(o=n?.mimeType)!==null&&o!==void 0?o:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=l;let c={file:r},d=this.getFileName(e),f=S("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n?.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,o){var r;let i=this.clientOptions.uploader,s=await i.stat(n),l=String(s.size),c=(r=o?.mimeType)!==null&&r!==void 0?r:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};o!=null&&Gh(o,p);let h=await this.fetchUploadUrl(d,l,c,f,p,o?.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,s){var l;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};let d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let f=(l=d?.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}};async function sh(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};let r=JSON.stringify(o);throw n>=400&&n<600?new Uo({message:r,status:n}):new Error(r)}}function D0(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,s){let l=Object.assign({},i);for(let c in s)if(Object.prototype.hasOwnProperty.call(s,c)){let d=s[c],f=l[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?l[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),l[c]=d)}return l}let r=o(n,e);t.body=JSON.stringify(r)}var T0="mcp_used/unknown",S0=!1;function $h(t){for(let e of t)if(w0(e)||typeof e=="object"&&"inputSchema"in e)return!0;return S0}function qh(t){var e;let n=(e=t[Lu])!==null&&e!==void 0?e:"";t[Lu]=(n+` ${T0}`).trimStart()}function w0(t){return t!==null&&typeof t=="object"&&t instanceof Vu}function A0(t){return We(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){let s=yield x(n.listTools({cursor:r}));for(let l of s.tools)yield yield x(l),i++;if(!s.nextCursor)break;r=s.nextCursor}})}var Vu=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;let i={},s=[];for(let f of this.mcpClients)try{for(var l=!0,c=(n=void 0,Je(A0(f))),d;d=await c.next(),e=d.done,!e;l=!0){r=d.value,l=!1;let p=r;s.push(p);let h=p.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=f}}catch(p){n={error:p}}finally{try{!l&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),lI(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let o of e)if(o.name in this.functionNameToMcpClient){let r=this.functionNameToMcpClient[o.name],i;this.config.timeout&&(i={timeout:this.config.timeout});let s=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}};async function M0(t,e,n){let o=new Su,r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}var Uu=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=b0(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`,d=()=>{},f=new Promise(T=>{d=T}),p=e.callbacks,h=function(){d({})},g=this.apiClient,m={onopen:h,onmessage:T=>{M0(g,p.onmessage,T)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(T){},onclose:(o=p?.onclose)!==null&&o!==void 0?o:function(T){}},y=this.webSocketFactory.create(c,N0(s),m);y.connect(),await f;let D={setup:{model:G(this.apiClient,e.model)}};return y.send(JSON.stringify(D)),new Hu(y,this.apiClient)}},Hu=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=nD(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=tD(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){let n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Lo.PLAY)}pause(){this.sendPlaybackControl(Lo.PAUSE)}stop(){this.sendPlaybackControl(Lo.STOP)}resetContext(){this.sendPlaybackControl(Lo.RESET_CONTEXT)}close(){this.conn.close()}};function N0(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function b0(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var x0="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function R0(t,e,n){let o=new Tu,r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;let i=JSON.parse(r);if(t.isVertexAI()){let s=iD(i);Object.assign(o,s)}else Object.assign(o,i);e(o)}var Bu=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new Uu(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f,p=this.apiClient.getHeaders();e.config&&e.config.tools&&$h(e.config.tools)&&qh(p);let h=F0(p);if(this.apiClient.isVertexAI()){let M=this.apiClient.getProject(),O=this.apiClient.getLocation(),ne=this.apiClient.getApiKey(),De=!!M&&!!O||!!ne;this.apiClient.getCustomBaseUrl()&&!De?f=c:(f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f))}else{let M=this.apiClient.getApiKey(),O="BidiGenerateContent",ne="key";M?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",ne="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${O}?${ne}=${M}`}let g=()=>{},m=new Promise(M=>{g=M}),y=e.callbacks,E=function(){var M;(M=y?.onopen)===null||M===void 0||M.call(y),g({})},v=this.apiClient,D={onopen:E,onmessage:M=>{R0(v,y.onmessage,M)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(M){},onclose:(o=y?.onclose)!==null&&o!==void 0?o:function(M){}},T=this.webSocketFactory.create(f,k0(h),D);T.connect(),await m;let w=G(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){let M=this.apiClient.getProject(),O=this.apiClient.getLocation();M&&O&&(w=`projects/${M}/locations/${O}/`+w)}let C={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[cu.AUDIO]}:e.config.responseModalities=[cu.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let L=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],F=[];for(let M of L)if(this.isCallableTool(M)){let O=M;F.push(await O.tool())}else F.push(M);F.length>0&&(e.config.tools=F);let Q={model:w,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=eD(this.apiClient,Q):C=X_(this.apiClient,Q),delete C.config,T.send(JSON.stringify(C)),new Gu(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},P0={turnComplete:!0},Gu=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Ue(n.turns),e.isVertexAI()||(o=o.map(r=>Xi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(let i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(x0)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},P0),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:rD(e)}:n={realtimeInput:oD(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function k0(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function F0(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var ah=10;function lh(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(let s of(n=t?.tools)!==null&&n!==void 0?n:[])if(Fn(s)){r=!0;break}if(!r)return!0;let i=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Fn(t){return"callTool"in t&&typeof t.callTool=="function"}function L0(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Fn(r)))!==null&&o!==void 0?o:!1}function uh(t){var e;let n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(Fn(o))return;let i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function ch(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var $u=class extends Ye{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,s,l;let c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!L0(n)||lh(n.config))return await this.generateContentInternal(c);let d=uh(n);if(d.length>0){let y=d.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let f,p,h=Ue(c.contents),g=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:ah,m=0;for(;m<g&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){let y=f.candidates[0].content,E=[];for(let v of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(Fn(v)){let T=await v.callTool(f.functionCalls);E.push(...T)}m++,p={role:"user",parts:E},c.contents=Ue(c.contents),c.contents.push(y),c.contents.push(p),ch(c.config)&&(h.push(y),h.push(p))}return ch(c.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var o,r,i,s,l;if(this.maybeMoveToResponseJsonSchem(n),lh(n.config)){let p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}let c=uh(n);if(c.length>0){let p=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let d=(i=(r=(o=n?.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(l=(s=n?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i,s=[];if(o?.generatedImages)for(let c of o.generatedImages)c&&c?.safetyAttributes&&((r=c?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c?.safetyAttributes:s.push(c);let l;return i?l={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},l}),this.list=async n=>{var o;let s={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new vt(wt.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{let o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));let r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,s,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;let i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;let s=await Promise.all(i.map(async c=>Fn(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&$h(e.config.tools)){let c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{},d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),qh(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,o,r;let i=new Map;for(let s of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Fn(s)){let l=s,c=await l.tool();for(let d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,l)}}return i}async processAfcStream(e){var n,o,r;let i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:ah,s=!1,l=0,c=await this.initAfcToolsMap(e);return(function(d,f,p){return We(this,arguments,function*(){for(var h,g,m,y,E,v;l<i;){s&&(l++,s=!1);let C=yield x(d.processParamsMaybeAddMcpUsage(p)),L=yield x(d.generateContentStreamInternal(C)),F=[],Q=[];try{for(var D=!0,T=(g=void 0,Je(L)),w;w=yield x(T.next()),h=w.done,!h;D=!0){y=w.value,D=!1;let M=y;if(yield yield x(M),M.candidates&&(!((E=M.candidates[0])===null||E===void 0)&&E.content)){Q.push(M.candidates[0].content);for(let O of(v=M.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(l<i&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(O.functionCall.name)){let ne=yield x(f.get(O.functionCall.name).callTool([O.functionCall]));F.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(M){g={error:M}}finally{try{!D&&!h&&(m=T.return)&&(yield x(m.call(T)))}finally{if(g)throw g.error}}if(F.length>0){s=!0;let M=new en;M.candidates=[{content:{role:"user",parts:F}}],yield yield x(M);let O=[];O.push(...Q),O.push({role:"user",parts:F});let ne=Ue(p.contents).concat(O);p.contents=ne}else break}})})(this,c,e)}async generateContentInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=oh(this.apiClient,e);return l=S("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=ih(f),h=new en;return Object.assign(h,p),h})}else{let d=nh(this.apiClient,e);return l=S("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=rh(f),h=new en;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=oh(this.apiClient,e);return l=S("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return We(this,arguments,function*(){var h,g,m,y;try{for(var E=!0,v=Je(p),D;D=yield x(v.next()),h=D.done,!h;E=!0){y=D.value,E=!1;let T=y,w=ih(yield x(T.json()),e);w.sdkHttpResponse={headers:T.headers};let C=new en;Object.assign(C,w),yield yield x(C)}}catch(T){g={error:T}}finally{try{!E&&!h&&(m=v.return)&&(yield x(m.call(v)))}finally{if(g)throw g.error}}})})}else{let d=nh(this.apiClient,e);return l=S("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return We(this,arguments,function*(){var h,g,m,y;try{for(var E=!0,v=Je(p),D;D=yield x(v.next()),h=D.done,!h;E=!0){y=D.value,E=!1;let T=y,w=rh(yield x(T.json()),e);w.sdkHttpResponse={headers:T.headers};let C=new en;Object.assign(C,w),yield yield x(C)}}catch(T){g={error:T}}finally{try{!E&&!h&&(m=v.return)&&(yield x(m.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=LD(this.apiClient,e);return l=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=VD(f),h=new wi;return Object.assign(h,p),h})}else{let d=FD(this.apiClient,e);return l=S("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=OD(f),h=new wi;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=KD(this.apiClient,e);return l=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=ZD(f),h=new Ai;return Object.assign(h,p),h})}else{let d=YD(this.apiClient,e);return l=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=jD(f),h=new Ai;return Object.assign(h,p),h})}}async editImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=xD(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=RD(c),f=new du;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=KT(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=jT(c),f=new fu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=bT(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=xT(c),f=new pu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=OT(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=VT(c),f=new hu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=hT(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Fu(f))}else{let d=pT(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>ku(f))}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=DT(this.apiClient,e);return l=S("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=ST(f),h=new Mi;return Object.assign(h,p),h})}else{let d=_T(this.apiClient,e);return l=S("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=TT(f),h=new Mi;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=JT(this.apiClient,e);return l=S("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Fu(f))}else{let d=WT(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>ku(f))}}async delete(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=AD(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=ND(f),h=new Ni;return Object.assign(h,p),h})}else{let d=wD(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=MD(f),h=new Ni;return Object.assign(h,p),h})}}async countTokens(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=DD(this.apiClient,e);return l=S("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=SD(f),h=new bi;return Object.assign(h,p),h})}else{let d=_D(this.apiClient,e);return l=S("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=TD(f),h=new bi;return Object.assign(h,p),h})}}async computeTokens(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=gD(this.apiClient,e);return i=S("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=mD(c),f=new gu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=oT(this.apiClient,e);return l=S("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{let p=tT(f),h=new xi;return Object.assign(h,p),h})}else{let d=nT(this.apiClient,e);return l=S("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=eT(f),h=new xi;return Object.assign(h,p),h})}}};var qu=class extends Ye{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=KC(e);return l=S("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}else{let d=YC(e);return l=S("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=BC(e);return i=S("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}};function O0(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function V0(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>J0(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function U0(t,e,n){let o={},r=a(e,["expireTime"]);n!==void 0&&r!=null&&u(n,["expireTime"],r);let i=a(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&u(n,["newSessionExpireTime"],i);let s=a(e,["uses"]);n!==void 0&&s!=null&&u(n,["uses"],s);let l=a(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&u(n,["bidiGenerateContentSetup"],W0(t,l));let c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),o}function H0(t,e){let n={},o=a(e,["config"]);return o!=null&&u(n,["config"],U0(t,o,n)),n}function B0(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function G0(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $0(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function q0(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function z0(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],fc(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["setup","systemInstruction"],V0(fe(m)));let y=a(t,["tools"]);if(e!==void 0&&y!=null){let L=Un(y);Array.isArray(L)&&(L=L.map(F=>K0(Vn(F)))),u(e,["setup","tools"],L)}let E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&u(e,["setup","sessionResumption"],Y0(E));let v=a(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&u(e,["setup","inputAudioTranscription"],v);let D=a(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&u(e,["setup","outputAudioTranscription"],D);let T=a(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&u(e,["setup","realtimeInputConfig"],T);let w=a(t,["contextWindowCompression"]);e!==void 0&&w!=null&&u(e,["setup","contextWindowCompression"],w);let C=a(t,["proactivity"]);if(e!==void 0&&C!=null&&u(e,["setup","proactivity"],C),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function W0(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["setup","model"],G(t,o));let r=a(e,["config"]);return r!=null&&u(n,["config"],z0(r,n)),n}function J0(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],B0(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],G0(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],O0(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function Y0(t){let e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function K0(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&u(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&u(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&u(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&u(e,["googleMaps"],$0(s));let l=a(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],q0(l));let c=a(t,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],c);let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function j0(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){let r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function Z0(t,e){let n=null,o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){let i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;let r=t.fieldMask;if(n){let i=j0(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?t.fieldMask=i:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],l=[];r.length>0&&(l=r.map(d=>s.includes(d)?`generationConfig.${d}`:d));let c=[];i&&c.push(i),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}var zu=class extends Ye{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let l=H0(this.apiClient,e);i=S("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;let c=Z0(l,e.config);return r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}};function Q0(t,e){let n={},o=a(t,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),n}function X0(t){let e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);let o=a(t,["config"]);return o!=null&&Q0(o,e),e}function eS(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function tS(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function nS(t){let e={},n=a(t,["parent"]);n!=null&&u(e,["_url","parent"],n);let o=a(t,["config"]);return o!=null&&tS(o,e),e}function oS(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["documents"],i)}return e}var Wu=class extends Ye{constructor(e){super(),this.apiClient=e,this.list=async n=>new vt(wt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=eS(e);return i=S("{name}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=X0(e);r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=nS(e);return i=S("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=oS(c),f=new mu;return Object.assign(f,d),f})}}};var Ju=class extends Ye{constructor(e,n=new Wu(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new vt(wt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=o0(e);return i=S("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=s0(e);return i=S("{name}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=i0(e);r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=f0(e);return i=S("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=p0(c),f=new yu;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=h0(e);return i=S("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=g0(c),f=new vu;return Object.assign(f,d),f})}}async importFile(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=u0(e);return i=S("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=l0(c),f=new Eu;return Object.assign(f,d),f})}}};var zh=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return zh=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))},rS=()=>zh();function Yu(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var Ku=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var Ie=class extends Error{},_e=class t extends Ie{constructor(e,n,o,r){super(`${t.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){let r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new Ln({message:o,cause:Ku(n)});let i=n;return e===400?new Hi(e,i,o,r):e===401?new Bi(e,i,o,r):e===403?new Gi(e,i,o,r):e===404?new $i(e,i,o,r):e===409?new qi(e,i,o,r):e===422?new zi(e,i,o,r):e===429?new Wi(e,i,o,r):e>=500?new Ji(e,i,o,r):new t(e,i,o,r)}},Ho=class extends _e{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Ln=class extends _e{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},Ui=class extends Ln{constructor({message:e}={}){super({message:e??"Request timed out."})}},Hi=class extends _e{},Bi=class extends _e{},Gi=class extends _e{},$i=class extends _e{},qi=class extends _e{},zi=class extends _e{},Wi=class extends _e{},Ji=class extends _e{};var iS=/^[a-z][a-z0-9+.-]*:/i,sS=t=>iS.test(t),ju=t=>(ju=Array.isArray,ju(t)),aS=ju,lS=aS,dh=lS;function uS(t){if(!t)return!0;for(let e in t)return!1;return!0}function cS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var dS=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ie(`${t} must be an integer`);if(e<0)throw new Ie(`${t} must be a positive integer`);return e},fS=t=>{try{return JSON.parse(t)}catch{return}};var pS=t=>new Promise(e=>setTimeout(e,t));var Pn="0.0.1";function hS(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var gS=()=>{var t,e,n,o,r;let i=hS();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pn,"X-Stainless-OS":ph(Deno.build.os),"X-Stainless-Arch":fh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pn,"X-Stainless-OS":ph((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":fh((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};let s=mS();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function mS(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:n}of t){let o=n.exec(navigator.userAgent);if(o){let r=o[1]||0,i=o[2]||0,s=o[3]||0;return{browser:e,version:`${r}.${i}.${s}`}}}return null}var fh=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",ph=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),Ei,yS=()=>Ei??(Ei=gS());function vS(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Wh(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ES(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Wh({start(){},async pull(n){let{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Jh(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){let n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function CS(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}let o=t.getReader(),r=o.cancel();o.releaseLock(),await r}var IS=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var Yh=()=>{var t;if(typeof File>"u"){let{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function su(t,e,n){return Yh(),new File(t,e??"unknown_file",n)}function _S(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var DS=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var Kh=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",TS=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Kh(t),SS=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function wS(t,e,n){if(Yh(),t=await t,TS(t))return t instanceof File?t:su([await t.arrayBuffer()],t.name);if(SS(t)){let r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),su(await Zu(r),e,n)}let o=await Zu(t);if(e||(e=_S(t)),!n?.type){let r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return su(o,e,n)}async function Zu(t){var e,n,o,r,i;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Kh(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(DS(t))try{for(var l=!0,c=Je(t),d;d=await c.next(),e=d.done,!e;l=!0){r=d.value,l=!1;let f=r;s.push(...await Zu(f))}}catch(f){n={error:f}}finally{try{!l&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{let f=(i=t?.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${AS(t)}`)}return s}function AS(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}var MS=(()=>{class t{constructor(n){this._client=n}}t._key=[];return t})();function jh(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var hh=Object.freeze(Object.create(null)),NS=(t=jh)=>function(n,...o){if(n.length===1)return n[0];let r=!1,i=[],s=n.reduce((f,p,h)=>{var g,m,y;/[?#]/.test(p)&&(r=!0);let E=o[h],v=(r?encodeURIComponent:t)(""+E);return h!==o.length&&(E==null||typeof E=="object"&&E.toString===((y=Object.getPrototypeOf((m=Object.getPrototypeOf((g=E.hasOwnProperty)!==null&&g!==void 0?g:hh))!==null&&m!==void 0?m:hh))===null||y===void 0?void 0:y.toString))&&(v=E+"",i.push({start:f.length+p.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),f+p+(h===o.length?"":v)},""),l=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,d;for(;(d=c.exec(l))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,p)=>f.start-p.start),i.length>0){let f=0,p=i.reduce((h,g)=>{let m=" ".repeat(g.start-f),y="^".repeat(g.length);return f=g.start+g.length,h+m+y},"");throw new Ie(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${s}
${p}`)}return s},Ci=NS(jh);var Yi=class extends MS{create(e,n){var o;let{api_version:r=this._client.apiVersion}=e,i=Vi(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new Ie("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new Ie("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ci`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){let{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Ci`/${r}/interactions/${e}`,o)}cancel(e,n={},o){let{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Ci`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;let i=n??{},{api_version:s=this._client.apiVersion}=i,l=Vi(i,["api_version"]);return this._client.get(Ci`/${s}/interactions/${e}`,Object.assign(Object.assign({query:l},o),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}};Yi._key=Object.freeze(["interactions"]);var Ki=class extends Yi{};function bS(t){let e=0;for(let r of t)e+=r.length;let n=new Uint8Array(e),o=0;for(let r of t)n.set(r,o),o+=r.length;return n}var Ii;function pc(t){let e;return(Ii??(e=new globalThis.TextEncoder,Ii=e.encode.bind(e)))(t)}var _i;function gh(t){let e;return(_i??(e=new globalThis.TextDecoder,_i=e.decode.bind(e)))(t)}var On=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];let n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?pc(e):e;this.buffer=bS([this.buffer,n]);let o=[],r;for(;(r=xS(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(gh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,s=gh(this.buffer.subarray(0,i));o.push(s),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}};On.NEWLINE_CHARS=new Set([`
`,"\r"]);On.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xS(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function RS(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}var ji={off:0,error:200,warn:300,info:400,debug:500},mh=(t,e,n)=>{if(t){if(cS(ji,t))return t;ye(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ji))}`)}};function Oo(){}function Di(t,e,n){return!e||ji[t]>ji[n]?Oo:e[t].bind(e)}var PS={error:Oo,warn:Oo,info:Oo,debug:Oo},yh=new WeakMap;function ye(t){var e;let n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return PS;let r=yh.get(n);if(r&&r[0]===o)return r[1];let i={error:Di("error",n,o),warn:Di("warn",n,o),info:Di("info",n,o),debug:Di("debug",n,o)};return yh.set(n,[o,i]),i}var Xt=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Qu=class t{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1,i=o?ye(o):console;function s(){return We(this,arguments,function*(){var c,d,f,p;if(r)throw new Ie("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,m=Je(kS(e,n)),y;y=yield x(m.next()),c=y.done,!c;g=!0){p=y.value,g=!1;let E=p;if(!h)if(E.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield x(JSON.parse(E.data))}catch(v){throw i.error("Could not parse message into JSON:",E.data),i.error("From chunk:",E.raw),v}}}catch(E){d={error:E}}finally{try{!g&&!c&&(f=m.return)&&(yield x(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(E){if(Yu(E))return yield x(void 0);throw E}finally{h||n.abort()}})}return new t(s,n,o)}static fromReadableStream(e,n,o){let r=!1;function i(){return We(this,arguments,function*(){var c,d,f,p;let h=new On,g=Jh(e);try{for(var m=!0,y=Je(g),E;E=yield x(y.next()),c=E.done,!c;m=!0){p=E.value,m=!1;let v=p;for(let D of h.decode(v))yield yield x(D)}}catch(v){d={error:v}}finally{try{!m&&!c&&(f=y.return)&&(yield x(f.call(y)))}finally{if(d)throw d.error}}for(let v of h.flush())yield yield x(v)})}function s(){return We(this,arguments,function*(){var c,d,f,p;if(r)throw new Ie("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,m=Je(i()),y;y=yield x(m.next()),c=y.done,!c;g=!0){p=y.value,g=!1;let E=p;h||E&&(yield yield x(JSON.parse(E)))}}catch(E){d={error:E}}finally{try{!g&&!c&&(f=m.return)&&(yield x(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(E){if(Yu(E))return yield x(void 0);throw E}finally{h||n.abort()}})}return new t(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){let s=o.next();e.push(s),n.push(s)}return i.shift()}});return[new t(()=>r(e),this.controller,this.client),new t(()=>r(n),this.controller,this.client)]}toReadableStream(){let e=this,n;return Wh({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{let{value:r,done:i}=await n.next();if(i)return o.close();let s=pc(JSON.stringify(r)+`
`);o.enqueue(s)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}};function kS(t,e){return We(this,arguments,function*(){var o,r,i,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ie("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ie("Attempted to iterate over a response with no body");let l=new Xu,c=new On,d=Jh(t.body);try{for(var f=!0,p=Je(FS(d)),h;h=yield x(p.next()),o=h.done,!o;f=!0){s=h.value,f=!1;let g=s;for(let m of c.decode(g)){let y=l.decode(m);y&&(yield yield x(y))}}}catch(g){r={error:g}}finally{try{!f&&!o&&(i=p.return)&&(yield x(i.call(p)))}finally{if(r)throw r.error}}for(let g of c.flush()){let m=l.decode(g);m&&(yield yield x(m))}})}function FS(t){return We(this,arguments,function*(){var n,o,r,i;let s=new Uint8Array;try{for(var l=!0,c=Je(t),d;d=yield x(c.next()),n=d.done,!n;l=!0){i=d.value,l=!1;let f=i;if(f==null)continue;let p=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?pc(f):f,h=new Uint8Array(s.length+p.length);h.set(s),h.set(p,s.length),s=h;let g;for(;(g=RS(s))!==-1;)yield yield x(s.slice(0,g)),s=s.slice(g)}}catch(f){o={error:f}}finally{try{!l&&!n&&(r=c.return)&&(yield x(r.call(c)))}finally{if(o)throw o.error}}s.length>0&&(yield yield x(s))})}var Xu=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=LS(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function LS(t,e){let n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function OS(t,e){let{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=e,s=await(async()=>{var l;if(e.options.stream)return ye(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Qu.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;let c=n.headers.get("content-type"),d=(l=c?.split(";")[0])===null||l===void 0?void 0:l.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return ye(t).debug(`[${o}] response parsed`,Xt({retryOfRequestLogID:r,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}var ec=class t extends Promise{constructor(e,n,o=OS){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new t(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};var Zh=Symbol("brand.privateNullableHeaders");function*VS(t){if(!t)return;if(Zh in t){let{values:o,nulls:r}=t;yield*o.entries();for(let i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():dh(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){let r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");let i=dh(o[1])?o[1]:[o[1]],s=!1;for(let l of i)l!==void 0&&(e&&!s&&(s=!0,yield[r,null]),yield[r,l])}}var Fo=t=>{let e=new Headers,n=new Set;for(let o of t){let r=new Set;for(let[i,s]of VS(o)){let l=i.toLowerCase();r.has(l)||(e.delete(i),r.add(l)),s===null?(e.delete(i),n.add(l)):(e.append(i,s),n.delete(l))}}return{[Zh]:!0,values:e,nulls:n}};var au=t=>{var e,n,o,r,i,s;if(typeof globalThis.process<"u")return(o=(n=(e=globalThis.process.env)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t))===null||s===void 0?void 0:s.trim()};var Qh,US=(()=>{class t{constructor(n){var o,r,i,s,l,c,d,{baseURL:f=au("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(o=au("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:h="v1beta"}=n,g=Vi(n,["baseURL","apiKey","apiVersion"]);let m=Object.assign(Object.assign({apiKey:p,apiVersion:h},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:t.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;let y="warn";this.logLevel=y,this.logLevel=(l=(s=mh(m.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:mh(au("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:y,this.fetchOptions=m.fetchOptions,this.maxRetries=(c=m.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=m.fetch)!==null&&d!==void 0?d:vS(),this.encoder=IS,this._options=m,this.apiKey=p,this.apiVersion=h,this.clientAdapter=m.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:o}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){let o=Fo([n.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Fo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Fo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([o,r])=>typeof r<"u").map(([o,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(o)}=`;throw new Ie(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Pn}`}defaultIdempotencyKey(){return`stainless-node-retry-${rS()}`}makeStatusError(n,o,r,i){return _e.generate(n,o,r,i)}buildURL(n,o,r){let i=!this.baseURLOverridden()&&r||this.baseURL,s=sS(n)?new URL(n):new URL(i+(i.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),l=this.defaultQuery();return uS(l)||(o=Object.assign(Object.assign({},l),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(s.search=this.stringifyQuery(o)),s.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){let o=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(n,{url:o,options:r}){}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:n,path:o},i)))}request(n,o=null){return new ec(this,this.makeRequest(n,o,void 0))}async makeRequest(n,o,r){var i,s,l;let c=await n,d=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;o==null&&(o=d),await this.prepareOptions(c);let{req:f,url:p,timeout:h}=await this.buildRequest(c,{retryCount:d-o});await this.prepareRequest(f,{url:p,options:c});let g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(ye(this).debug(`[${g}] sending request`,Xt({retryOfRequestLogID:r,method:c.method,url:p,options:c,headers:f.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new Ho;let E=new AbortController,v=await this.fetchWithTimeout(p,f,h,E).catch(Ku),D=Date.now();if(v instanceof globalThis.Error){let w=`retrying, ${o} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new Ho;let C=Yu(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(o)return ye(this).info(`[${g}] connection ${C?"timed out":"failed"} - ${w}`),ye(this).debug(`[${g}] connection ${C?"timed out":"failed"} (${w})`,Xt({retryOfRequestLogID:r,url:p,durationMs:D-y,message:v.message})),this.retryRequest(c,o,r??g);throw ye(this).info(`[${g}] connection ${C?"timed out":"failed"} - error; no more retries left`),ye(this).debug(`[${g}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Xt({retryOfRequestLogID:r,url:p,durationMs:D-y,message:v.message})),C?new Ui:new Ln({cause:v})}let T=`[${g}${m}] ${f.method} ${p} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${D-y}ms`;if(!v.ok){let w=await this.shouldRetry(v);if(o&&w){let O=`retrying, ${o} attempts remaining`;return await CS(v.body),ye(this).info(`${T} - ${O}`),ye(this).debug(`[${g}] response error (${O})`,Xt({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:D-y})),this.retryRequest(c,o,r??g,v.headers)}let C=w?"error; no more retries left":"error; not retryable";ye(this).info(`${T} - ${C}`);let L=await v.text().catch(O=>Ku(O).message),F=fS(L),Q=F?void 0:L;throw ye(this).debug(`[${g}] response error (${C})`,Xt({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:Q,durationMs:Date.now()-y})),this.makeStatusError(v.status,F,Q,v.headers)}return ye(this).info(T),ye(this).debug(`[${g}] response start`,Xt({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:D-y})),{response:v,options:c,controller:E,requestLogID:g,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(n,o,r,i){let s=o||{},{signal:l,method:c}=s,d=Vi(s,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());let f=setTimeout(()=>i.abort(),r),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);c&&(h.method=c.toUpperCase());try{return await this.fetch.call(void 0,n,h)}finally{clearTimeout(f)}}async shouldRetry(n){let o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,r,i){var s;let l,c=i?.get("retry-after-ms");if(c){let f=parseFloat(c);Number.isNaN(f)||(l=f)}let d=i?.get("retry-after");if(d&&!l){let f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){let f=(s=n.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(o,f)}return await pS(l),this.makeRequest(n,o-1,r)}calculateDefaultRetryTimeoutMillis(n,o){let s=o-n,l=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(n,{retryCount:o=0}={}){var r,i,s;let l=Object.assign({},n),{method:c,path:d,query:f,defaultBaseURL:p}=l,h=this.buildURL(d,f,p);"timeout"in l&&dS("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;let{bodyHeaders:g,body:m}=this.buildBody({options:l}),y=await this.buildHeaders({options:n,method:c,bodyHeaders:g,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:y},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:h,timeout:l.timeout}}async buildHeaders({options:n,method:o,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&o!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=n.idempotencyKey);let l=await this.authHeaders(n),c=Fo([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),yS()),this._options.defaultHeaders,r,n.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:n,headers:o}}){if(!n)return{bodyHeaders:void 0,body:void 0};let r=Fo([o]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&r.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:ES(n)}:this.encoder({body:n,headers:r})}}return t.DEFAULT_TIMEOUT=6e4,t})(),ie=class extends US{constructor(){super(...arguments),this.interactions=new Ki(this)}};Qh=ie;ie.GeminiNextGenAPIClient=Qh;ie.GeminiNextGenAPIClientError=Ie;ie.APIError=_e;ie.APIConnectionError=Ln;ie.APIConnectionTimeoutError=Ui;ie.APIUserAbortError=Ho;ie.NotFoundError=$i;ie.ConflictError=qi;ie.RateLimitError=Wi;ie.BadRequestError=Hi;ie.AuthenticationError=Bi;ie.InternalServerError=Ji;ie.PermissionDeniedError=Gi;ie.UnprocessableEntityError=zi;ie.toFile=wS;ie.Interactions=Ki;function HS(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function BS(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function GS(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(n,["sdkHttpResponse"],o),n}function $S(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&u(n,["sdkHttpResponse"],o),n}function qS(t,e,n){let o={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let r=a(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&u(e,["displayName"],r),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let i=a(t,["epochCount"]);e!==void 0&&i!=null&&u(e,["tuningTask","hyperparameters","epochCount"],i);let s=a(t,["learningRateMultiplier"]);if(s!=null&&u(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(a(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(a(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");let l=a(t,["batchSize"]);e!==void 0&&l!=null&&u(e,["tuningTask","hyperparameters","batchSize"],l);let c=a(t,["learningRate"]);if(e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","learningRate"],c),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(a(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(a(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(a(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(a(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return o}function zS(t,e,n){let o={},r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let C=a(t,["validationDataset"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec"],lu(C))}else if(r==="PREFERENCE_TUNING"){let C=a(t,["validationDataset"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec"],lu(C))}else if(r==="DISTILLATION"){let C=a(t,["validationDataset"]);e!==void 0&&C!=null&&u(e,["distillationSpec"],lu(C))}let i=a(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&u(e,["tunedModelDisplayName"],i);let s=a(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);let l=a(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let C=a(t,["epochCount"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(l==="PREFERENCE_TUNING"){let C=a(t,["epochCount"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}else if(l==="DISTILLATION"){let C=a(t,["epochCount"]);e!==void 0&&C!=null&&u(e,["distillationSpec","hyperParameters","epochCount"],C)}let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let C=a(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(c==="PREFERENCE_TUNING"){let C=a(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}else if(c==="DISTILLATION"){let C=a(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&u(e,["distillationSpec","hyperParameters","learningRateMultiplier"],C)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let C=a(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(d==="PREFERENCE_TUNING"){let C=a(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}else if(d==="DISTILLATION"){let C=a(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&u(e,["distillationSpec","exportLastCheckpointOnly"],C)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let C=a(t,["adapterSize"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(f==="PREFERENCE_TUNING"){let C=a(t,["adapterSize"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}else if(f==="DISTILLATION"){let C=a(t,["adapterSize"]);e!==void 0&&C!=null&&u(e,["distillationSpec","hyperParameters","adapterSize"],C)}let p=a(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){let C=a(t,["tuningMode"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","tuningMode"],C)}let h=a(t,["customBaseModel"]);e!==void 0&&h!=null&&u(e,["customBaseModel"],h);let g=a(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){let C=a(t,["batchSize"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","batchSize"],C)}let m=a(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){let C=a(t,["learningRate"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRate"],C)}let y=a(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);let E=a(t,["beta"]);e!==void 0&&E!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],E);let v=a(t,["baseTeacherModel"]);e!==void 0&&v!=null&&u(e,["distillationSpec","baseTeacherModel"],v);let D=a(t,["tunedTeacherModelSource"]);e!==void 0&&D!=null&&u(e,["distillationSpec","tunedTeacherModelSource"],D);let T=a(t,["sftLossWeightMultiplier"]);e!==void 0&&T!=null&&u(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],T);let w=a(t,["outputUri"]);return e!==void 0&&w!=null&&u(e,["outputUri"],w),o}function WS(t,e){let n={},o=a(t,["baseModel"]);o!=null&&u(n,["baseModel"],o);let r=a(t,["preTunedModel"]);r!=null&&u(n,["preTunedModel"],r);let i=a(t,["trainingDataset"]);i!=null&&ow(i);let s=a(t,["config"]);return s!=null&&qS(s,n),n}function JS(t,e){let n={},o=a(t,["baseModel"]);o!=null&&u(n,["baseModel"],o);let r=a(t,["preTunedModel"]);r!=null&&u(n,["preTunedModel"],r);let i=a(t,["trainingDataset"]);i!=null&&rw(i,n,e);let s=a(t,["config"]);return s!=null&&zS(s,n,e),n}function YS(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function KS(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function jS(t,e,n){let o={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),o}function ZS(t,e,n){let o={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),o}function QS(t,e){let n={},o=a(t,["config"]);return o!=null&&jS(o,n),n}function XS(t,e){let n={},o=a(t,["config"]);return o!=null&&ZS(o,n),n}function ew(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);let i=a(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Xh(l))),u(n,["tuningJobs"],s)}return n}function tw(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);let i=a(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>tc(l))),u(n,["tuningJobs"],s)}return n}function nw(t,e){let n={},o=a(t,["name"]);o!=null&&u(n,["model"],o);let r=a(t,["name"]);return r!=null&&u(n,["endpoint"],r),n}function ow(t,e){let n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let o=a(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(n,["examples","examples"],r)}return n}function rw(t,e,n){let o={},r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(r==="DISTILLATION"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["distillationSpec","promptDatasetUri"],s)}let i=a(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["distillationSpec","promptDatasetUri"],s)}if(a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Xh(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&u(n,["name"],r);let i=a(t,["state"]);i!=null&&u(n,["state"],Ah(i));let s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);let l=a(t,["tuningTask","startTime"]);l!=null&&u(n,["startTime"],l);let c=a(t,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(n,["updateTime"],d);let f=a(t,["description"]);f!=null&&u(n,["description"],f);let p=a(t,["baseModel"]);p!=null&&u(n,["baseModel"],p);let h=a(t,["_self"]);return h!=null&&u(n,["tunedModel"],nw(h)),n}function tc(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&u(n,["name"],r);let i=a(t,["state"]);i!=null&&u(n,["state"],Ah(i));let s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);let l=a(t,["startTime"]);l!=null&&u(n,["startTime"],l);let c=a(t,["endTime"]);c!=null&&u(n,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(n,["updateTime"],d);let f=a(t,["error"]);f!=null&&u(n,["error"],f);let p=a(t,["description"]);p!=null&&u(n,["description"],p);let h=a(t,["baseModel"]);h!=null&&u(n,["baseModel"],h);let g=a(t,["tunedModel"]);g!=null&&u(n,["tunedModel"],g);let m=a(t,["preTunedModel"]);m!=null&&u(n,["preTunedModel"],m);let y=a(t,["supervisedTuningSpec"]);y!=null&&u(n,["supervisedTuningSpec"],y);let E=a(t,["preferenceOptimizationSpec"]);E!=null&&u(n,["preferenceOptimizationSpec"],E);let v=a(t,["distillationSpec"]);v!=null&&u(n,["distillationSpec"],v);let D=a(t,["tuningDataStats"]);D!=null&&u(n,["tuningDataStats"],D);let T=a(t,["encryptionSpec"]);T!=null&&u(n,["encryptionSpec"],T);let w=a(t,["partnerModelTuningSpec"]);w!=null&&u(n,["partnerModelTuningSpec"],w);let C=a(t,["customBaseModel"]);C!=null&&u(n,["customBaseModel"],C);let L=a(t,["experiment"]);L!=null&&u(n,["experiment"],L);let F=a(t,["labels"]);F!=null&&u(n,["labels"],F);let Q=a(t,["outputUri"]);Q!=null&&u(n,["outputUri"],Q);let M=a(t,["pipelineJob"]);M!=null&&u(n,["pipelineJob"],M);let O=a(t,["serviceAccount"]);O!=null&&u(n,["serviceAccount"],O);let ne=a(t,["tunedModelDisplayName"]);ne!=null&&u(n,["tunedModelDisplayName"],ne);let De=a(t,["veoTuningSpec"]);return De!=null&&u(n,["veoTuningSpec"],De),n}function iw(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&u(n,["name"],r);let i=a(t,["metadata"]);i!=null&&u(n,["metadata"],i);let s=a(t,["done"]);s!=null&&u(n,["done"],s);let l=a(t,["error"]);return l!=null&&u(n,["error"],l),n}function lu(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&u(n,["validationDatasetUri"],o);let r=a(t,["vertexDatasetResource"]);return r!=null&&u(n,["validationDatasetUri"],r),n}var nc=class extends Ye{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vt(wt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);let i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{let r=Object.assign({},n);return await this.tuneInternal(r)}else{let r=Object.assign({},n),i=await this.tuneMldevInternal(r),s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:Ch.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=KS(e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>tc(f))}else{let d=YS(e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Xh(f))}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=XS(e);return l=S("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=tw(f),h=new Ri;return Object.assign(h,p),h})}else{let d=QS(e);return l=S("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=ew(f),h=new Ri;return Object.assign(h,p),h})}}async cancel(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=BS(e);return l=S("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=$S(f),h=new Pi;return Object.assign(h,p),h})}else{let d=HS(e);return l=S("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=GS(f),h=new Pi;return Object.assign(h,p),h})}}async tuneInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=JS(e,e);return i=S("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>tc(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=WS(e);return i=S("tunedModels",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>iw(c))}}};var oc=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},sw=1024*1024*8,aw=3,lw=1e3,uw=2,Zi="x-goog-upload-status";async function cw(t,e,n){var o;let r=await eg(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Zi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function dw(t,e,n){var o;let r=await eg(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Zi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let s=Eh(i),l=new wu;return Object.assign(l,s),l}async function eg(t,e,n){var o,r;let i=0,s=0,l=new Vo(new Response),c="upload";for(i=t.size;s<i;){let d=Math.min(sw,i-s),f=t.slice(s,s+d);s+d>=i&&(c+=", finalize");let p=0,h=lw;for(;p<aw&&(l=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((o=l?.headers)===null||o===void 0)&&o[Zi]));)p++,await pw(h),h=h*uw;if(s+=d,((r=l?.headers)===null||r===void 0?void 0:r[Zi])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function fw(t){return{size:t.size,type:t.type}}function pw(t){return new Promise(e=>setTimeout(e,t))}var rc=class{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cw(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dw(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fw(e)}};var ic=class{create(e,n,o){return new sc(e,n,o)}},sc=class{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var vh="x-goog-api-key",ac=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(vh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(vh,this.apiKey)}}};var hw="gl-node/",Qi=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new ie({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let o=UC(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;let r=new ac(this.apiKey);this.apiClient=new Ou({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:hw+"web",uploader:new rc,downloader:new oc}),this.models=new $u(this.apiClient),this.live=new Bu(this.apiClient,r,new ic),this.batches=new Nu(this.apiClient),this.chats=new xu(this.models,this.apiClient),this.caches=new bu(this.apiClient),this.files=new Pu(this.apiClient),this.operations=new qu(this.apiClient),this.authTokens=new zu(this.apiClient),this.tunings=new nc(this.apiClient),this.fileSearchStores=new Ju(this.apiClient)}};var ns=[{id:"BASE_WIRELESS",name:"PRO ALARM PAKET\u0130 (Kablosuz)",purchasePrice:36e3,rentalPrice:2500,category:"base",description:"Geli\u015Fmi\u015F kablosuz alarm paneli, siren, hareket dedekt\xF6r\xFC ve manyetik kontaktan olu\u015Fan profesyonel kablosuz g\xFCvenlik paketi. Kolay kurulum ve geni\u015Fletilebilirlik sunar."},{id:"BASE_WIRED",name:"EBS ALARM PAKET\u0130 (Kablolu)",purchasePrice:28e3,rentalPrice:2100,category:"base",description:"Y\xFCksek g\xFCvenlikli kablolu alarm paneli, siren, hareket dedekt\xF6r\xFC ve manyetik kontaktan olu\u015Fan temel kablolu g\xFCvenlik paketi. Maksimum kararl\u0131l\u0131k ve uzun \xF6m\xFCrl\xFCl\xFCk sa\u011Flar."},{id:"CAM_CUBE_IN",name:"HVN \u0130\xE7 K\xFCp Kamera",purchasePrice:4e3,rentalPrice:325,category:"camera",description:"Full HD \xE7\xF6z\xFCn\xFCrl\xFCkl\xFC, 130\xB0 geni\u015F a\xE7\u0131l\u0131 i\xE7 mekan k\xFCp kamera. Dahili mikrofon ve hoparl\xF6r ile iki y\xF6nl\xFC ses ileti\u015Fimi sa\u011Flar, k\u0131z\u0131l\xF6tesi gece g\xF6r\xFC\u015F\xFCne sahiptir. Wi-Fi veya kablolu ba\u011Flant\u0131 se\xE7enekleri mevcuttur."},{id:"CAM_CUBE_OUT",name:"HVN D\u0131\u015F K\xFCp Kamera",purchasePrice:4e3,rentalPrice:325,category:"camera",description:"Full HD \xE7\xF6z\xFCn\xFCrl\xFCkl\xFC, 130\xB0 geni\u015F a\xE7\u0131l\u0131 d\u0131\u015F mekan k\xFCp kamera. IP66 hava ko\u015Fullar\u0131na dayan\u0131kl\u0131l\u0131k sertifikas\u0131na sahiptir. G\xFC\xE7l\xFC k\u0131z\u0131l\xF6tesi gece g\xF6r\xFC\u015F\xFC ve hareket alg\u0131lama \xF6zellikleri ile d\u0131\u015F alanlar\u0131 g\xFCvenle izler."},{id:"PIR_CAM",name:"Kablosuz PIR-Kamera",purchasePrice:7500,rentalPrice:300,category:"detector",description:"Kablosuz hareket dedekt\xF6r\xFC ve entegre kameran\u0131n birle\u015Fimi. Hareket alg\u0131land\u0131\u011F\u0131nda foto\u011Fraf \xE7ekerek an\u0131nda alarm paneline ve kullan\u0131c\u0131n\u0131n mobil uygulamas\u0131na g\xF6nderir. Evcil hayvan dostu sens\xF6r teknolojisine sahiptir."},{id:"PIR",name:"Kablosuz PIR Dedekt\xF6r\xFC",purchasePrice:2e3,rentalPrice:100,category:"detector",description:"Kablosuz pasif k\u0131z\u0131l\xF6tesi (PIR) hareket dedekt\xF6r\xFC. Geni\u015F kapsama alan\u0131 ile i\xE7 mekanlarda istenmeyen hareketleri alg\u0131lar. D\xFC\u015F\xFCk pil t\xFCketimi ve kolay kurulum avantajlar\u0131 sunar."},{id:"CONTACT",name:"Kablosuz Manyetik Kontak",purchasePrice:1250,rentalPrice:70,category:"detector",description:"Kablosuz manyetik kap\u0131/pencere konta\u011F\u0131. A\xE7\u0131lan kap\u0131 veya pencereleri an\u0131nda alg\u0131layarak alarm sistemini tetikler. Kompakt tasar\u0131m\u0131 ile her t\xFCrl\xFC do\u011Framaya uyum sa\u011Flar."},{id:"SMOKE",name:"Kablosuz Duman Dedekt\xF6r\xFC",purchasePrice:3900,rentalPrice:200,category:"detector",description:"Kablosuz fotoelektrik duman dedekt\xF6r\xFC. Duman\u0131 ve yang\u0131n tehlikesini erken a\u015Famada alg\u0131lar, sirenle uyar\u0131 verir ve alarm paneline sinyal g\xF6nderir. Ak\u0131ll\u0131 ev sistemleriyle entegrasyona uygundur."},{id:"SIREN",name:"Kablosuz Siren (\u0130\xE7 Ortam)",purchasePrice:5200,rentalPrice:450,category:"accessory",description:"Kablosuz i\xE7 ortam alarm sireni. Alarm durumunda y\xFCksek sesli sirenle cayd\u0131r\u0131c\u0131l\u0131k sa\u011Flar ve bina i\xE7indekileri uyar\u0131r. Kolay e\u015Fle\u015Ftirme ve kompakt tasar\u0131m."}];var os=class t{constructor(){this.ai=new Qi({apiKey:process.env.AIzaSyDFtEkH54tsytk7IFSSKgYcYTkO0QNgJXY})}async analyzeImages(e,n){let o="gemini-2.5-flash",r=ns.filter(c=>c.category!=="base").map(c=>`- ID: ${c.id}, Name: ${c.name}, A\xE7\u0131klama: ${c.description}, Sat\u0131\u015F: ${c.purchasePrice} TL, Kira: ${c.rentalPrice} TL`).join(`
`),i="";switch(n){case"cost":i="MOD: EN D\xDC\u015E\xDCK MAL\u0130YET. Sadece kritik noktalar\u0131 (Giri\u015F/Kasa) koru. Minimum cihaz say\u0131s\u0131 ile \xE7\xF6z\xFCm \xFCret. Her yerle\u015Fim karar\u0131 i\xE7in maliyet etkinli\u011Fini ve temel g\xFCvenlik kapsam\u0131n\u0131 vurgula.";break;case"security":i="MOD: EN Y\xDCKSEK G\xDCVENL\u0130K. S\u0131f\u0131r k\xF6r nokta hedefle. \xC7apraz bak\u0131\u015F a\xE7\u0131s\u0131, maksimum sens\xF6r ve tam koruma sa\u011Fla. Her yerle\u015Fim karar\u0131 i\xE7in kapsaml\u0131 g\xFCvenli\u011Fi, potansiyel riskleri \xF6nlemeyi ve yedeklili\u011Fi vurgula.";break;case"blind_spot":i="MOD: K\xD6R NOKTA TESP\u0130T\u0130 VE KAPATMA. Foto\u011Fraflardaki mimariyi analiz et. Kamera a\xE7\u0131s\u0131n\u0131n g\xF6rmedi\u011Fi, s\xFCtun arkalar\u0131, koridor d\xF6n\xFC\u015Fleri, \xF6l\xFC alanlar gibi her t\xFCrl\xFC k\xF6r noktay\u0131 kusursuz bir \u015Fekilde tespit et. SADECE bu k\xF6r noktalar\u0131 kapatacak optimum ek kameralar\u0131 yerle\u015Ftir. Normal g\xFCvenlik prosed\xFCrlerini ve genel oda g\xF6zetimini yoksay, sadece g\xF6r\xFCnmeyen veya yetersiz g\xF6r\xFCnen alanlara odaklan. Yerle\u015Fim gerek\xE7elerinde spesifik k\xF6r noktay\u0131 ve bu kameran\u0131n o a\xE7\u0131y\u0131 nas\u0131l kapatt\u0131\u011F\u0131n\u0131 detayland\u0131r.";break}let s=`
      Sen Noya G\xFCvenlik Ba\u015F G\xFCvenlik Sistemleri M\xFChendisi ve Fiyatland\u0131rma Uzman\u0131s\u0131n.
      G\xF6revin: Y\xFCklenen ${e.length} adet foto\u011Fraf\u0131 b\xFCt\xFCnle\u015Fik olarak analiz etmek ve se\xE7ilen moda g\xF6re KUSURSUZ ve OPT\u0130MUM bir g\xFCvenlik mimarisi sunmakt\u0131r.

      ANAL\u0130Z PRENS\u0130PLER\u0130:
      1. SE\xC7\u0130LEN MOD:
         - ${i}
      2. \xC7OKLU FOTO\u011ERAF ANAL\u0130Z\u0130:
         - G\xF6nderilen t\xFCm foto\u011Fraflar\u0131 (1-10 adet) tek bir mekan\u0131n farkl\u0131 a\xE7\u0131lardan \xE7ekilmi\u015F par\xE7alar\u0131 olarak kabul et.
         - Foto\u011Fraflar aras\u0131ndaki ge\xE7i\u015Fleri, derinli\u011Fi ve mimari engelleri analiz ederek cihazlar\u0131 en stratejik noktalara yerle\u015Ftir.
         - Gereksiz cihaz tekrar\u0131ndan ka\xE7\u0131n.
      3. TEKN\u0130K GEREK\xC7ELEND\u0130RME:
         - Her kamera yerle\u015Fimi i\xE7in, ideal olarak 130\xB0 geni\u015F a\xE7\u0131l\u0131 g\xF6r\xFC\u015F\xFC nas\u0131l maksimize etti\u011Fini ve k\xF6r nokta b\u0131rakmad\u0131\u011F\u0131n\u0131 a\xE7\u0131kla.
         - Her dedekt\xF6r veya aksesuar yerle\u015Fimi i\xE7in, hangi riski (hareket, kap\u0131 a\xE7\u0131lmas\u0131, duman vb.) hangi b\xF6lgede nas\u0131l ve neden tespit etti\u011Fini belirt.
         - \xD6zellikle 'blind_spot' modunda, her yerle\u015Fim karar\u0131n\u0131n hangi spesifik k\xF6r noktay\u0131 kapatt\u0131\u011F\u0131n\u0131 detayland\u0131r.

      MEVCUT \xDCR\xDCN KATALO\u011EU (Ocak 2026 Fiyat Listesi):
      ${r}

      RAPORLAMA KURALLARI:
      1. Sadece belirtilen modun stratejisine uyarak en iyi \xE7\xF6z\xFCm\xFC sun.
      2. Objektif, profesyonel ve son derece teknik bir ton kullan.
      3. T\xFCm hesaplamalarda "Fiyatlara KDV dahil de\u011Fildir" uyar\u0131s\u0131n\u0131 mutlaka belirt.
      4. 'analysis' metni, kapsaml\u0131 bir m\xFChendislik raporu gibi olmal\u0131, tespitleri ve \xE7\xF6z\xFCm \xF6nerilerini detayl\u0131ca a\xE7\u0131klamal\u0131d\u0131r.

      \xC7IKTI FORMATI (ULTRA-KISA RAPOR):
      'analysis' alan\u0131 \u015Fu formatta d\xFCz metin olmal\u0131 (Ba\u015Fl\u0131klar aynen kalmal\u0131, i\xE7erikler detayl\u0131 olmal\u0131):

      1. MOD: [Maliyet/G\xFCvenlik/K\xF6r Nokta]
      2. TESP\u0130TLER & \xDCR\xDCN \xD6NER\u0130LER\u0130:
         - [Tespit Edilen \u0130htiya\xE7/K\xF6r Nokta B\xF6lgesi]: [\xD6nerilen \xDCr\xFCn Ad\u0131] ([ID]) - [K\u0131sa A\xE7\u0131klama/Gerek\xE7e]
         ...
      3. YERLE\u015E\u0130M PLANI & TEKN\u0130K GEREK\xC7E:
         - [\xDCr\xFCn Ad\u0131] ([Koordinatlar X%, Y%] - Foto\u011Fraf [Index+1]): [Detayl\u0131 Yerle\u015Fim Gerek\xE7esi ve Kapsad\u0131\u011F\u0131 Alan/A\xE7\u0131 (\xF6rn: 130\xB0 g\xF6r\xFC\u015F a\xE7\u0131s\u0131 ile sa\u011F koridoru tamamen kapsar, s\xFCtun arkas\u0131 k\xF6r noktas\u0131n\u0131 ortadan kald\u0131r\u0131r.)]
         ...
      4. TOPLAM MAL\u0130YET (NET - KDV HAR\u0130\xC7):
         - SATI\u015E TOPLAM: [Hesapla] TL
         - K\u0130RA TOPLAM (AYLIK): [Hesapla] TL
      UYARI: Fiyatlara KDV dahil de\u011Fildir.

      'items' JSON Dizisi Kurallar\u0131:
         - Her \xFCr\xFCn i\xE7in 'imageIndex' (0'dan ba\u015Flar) belirterek hangi foto\u011Frafa ait oldu\u011Funu g\xF6ster.
         - X, Y koordinatlar\u0131n\u0131 (0-100) hassas bir \u015Fekilde belirle.
         - 'reason' alan\u0131, \xFCr\xFCn\xFCn yerle\u015Fim gerek\xE7esini ve faydas\u0131n\u0131 (\xF6zellikle kamera a\xE7\u0131s\u0131n\u0131 ve k\xF6r nokta kapatma durumunu) detayl\u0131ca a\xE7\u0131klamal\u0131d\u0131r.
    `,l=e.map(c=>({inlineData:{mimeType:c.mimeType,data:c.data}}));l.push({text:s});try{let c=await this.ai.models.generateContent({model:o,contents:{parts:l},config:{responseMimeType:"application/json",responseSchema:{type:re.OBJECT,properties:{analysis:{type:re.STRING,description:"Ultra short text report following the specified format."},recommendations:{type:re.ARRAY,items:{type:re.STRING},description:"Short technical notes."},items:{type:re.ARRAY,items:{type:re.OBJECT,properties:{itemId:{type:re.STRING},name:{type:re.STRING},x:{type:re.NUMBER},y:{type:re.NUMBER},reason:{type:re.STRING,description:"Detailed justification for placement, including coverage angles and blind spot resolution."},imageIndex:{type:re.INTEGER,description:"Index of the image (0-based) this item belongs to."}}}}}}}});if(c.text)return JSON.parse(c.text);throw new Error("No response text")}catch(c){return console.error("Gemini Analysis Error:",c),{analysis:"Analiz s\u0131ras\u0131nda bir hata olu\u015Ftu. L\xFCtfen g\xF6rsel format\u0131n\u0131 kontrol edip tekrar deneyin.",items:[],recommendations:["Sistem hatas\u0131."]}}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}};var rs=class t{constructor(){this.catalog=ns;this.selectedSystem=de("wireless");this.currentItems=de([]);this.calculation=So(()=>{let e=this.selectedSystem(),n=this.currentItems(),o=e==="wireless"?"BASE_WIRELESS":"BASE_WIRED",r=this.catalog.find(c=>c.id===o),i=r.purchasePrice,s=r.rentalPrice,l=n.map(c=>{let d=this.catalog.find(f=>f.id===c.itemId)||this.catalog.find(f=>f.name===c.name);return d?(i+=d.purchasePrice,s+=d.rentalPrice,he(le({},c),{price:d.purchasePrice,rental:d.rentalPrice,found:!0})):he(le({},c),{price:0,rental:0,found:!1})});return{basePackage:r,itemDetails:l,subTotalPurchase:i,subTotalRental:s,vatPurchase:i*.2,vatRental:s*.2,grandTotalPurchase:i*1.2,grandTotalRental:s*1.2}})}setSystemType(e){this.selectedSystem.set(e)}setItems(e){this.currentItems.set(e)}addItem(e){let n=this.catalog.find(o=>o.id===e);n&&this.currentItems.update(o=>[...o,{itemId:n.id,name:n.name,x:50,y:50,reason:"Manuel Eklendi"}])}removeItem(e){this.currentItems.update(n=>n.filter((o,r)=>r!==e))}getProductById(e){return this.catalog.find(n=>n.id===e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}};var gw=["videoElement"],mw=(t,e)=>e.id;function yw(t,e){if(t&1){let n=ot();I(0,"button",38),Z("click",function(){z(n);let r=U();return W(r.reset())}),Ce(),I(1,"svg",39),H(2,"path",40),_(),A(3," Yeni Analiz "),_()}}function vw(t,e){if(t&1){let n=ot();I(0,"div",34)(1,"div",41)(2,"h2",42),A(3,"G\xFCvenlik M\xFChendisli\u011Fi. "),H(4,"br"),I(5,"span",43),A(6,"Yapay Zeka Destekli."),_()(),I(7,"p",44),A(8,"Foto\u011Fraflar\u0131 y\xFCkleyin, Secom standartlar\u0131nda an\u0131nda projelendirelim."),_()(),I(9,"div",45)(10,"div",46)(11,"button",47),Z("click",function(){z(n);let r=U();return W(r.setMode("cost"))}),A(12," Ekonomik "),_(),I(13,"button",47),Z("click",function(){z(n);let r=U();return W(r.setMode("security"))}),A(14," Premium "),_(),I(15,"button",48),Z("click",function(){z(n);let r=U();return W(r.setMode("blind_spot"))}),Ce(),I(16,"svg",49),H(17,"path",50),_(),A(18," K\xF6r Nokta Analizi "),_()()(),ke(),I(19,"div",51),Z("dragover",function(r){z(n);let i=U();return W(i.onDragOver(r))})("dragleave",function(r){z(n);let i=U();return W(i.onDragLeave(r))})("drop",function(r){z(n);let i=U();return W(i.onDrop(r))}),I(20,"input",52,0),Z("change",function(r){z(n);let i=U();return W(i.onFileSelected(r))}),_(),H(22,"div",53),I(23,"div",54),Z("click",function(){z(n);let r=Bl(21);return W(r.click())}),I(24,"div",55),Ce(),I(25,"svg",56),H(26,"path",57),_()(),ke(),I(27,"div")(28,"p",58),A(29,"Foto\u011Fraflar\u0131 Se\xE7 veya S\xFCr\xFCkle"),_(),I(30,"p",59),A(31,"Maksimum 10 G\xF6rsel"),_()()(),I(32,"div",60),Z("click",function(r){return z(n),W(r.stopPropagation())}),H(33,"div",61),I(34,"span",62),A(35,"veya"),_(),H(36,"div",61),_(),I(37,"button",63),Z("click",function(r){z(n);let i=U();return r.stopPropagation(),W(i.openCamera())}),Ce(),I(38,"svg",64),H(39,"path",65)(40,"path",66),_(),A(41," Kameray\u0131 A\xE7 "),_()()()}if(t&2){let n=U();V(11),rt("bg-green-600",n.analysisMode()==="cost")("text-white",n.analysisMode()==="cost")("shadow-lg",n.analysisMode()==="cost")("text-zinc-400",n.analysisMode()!=="cost")("hover:text-white",n.analysisMode()!=="cost"),V(2),rt("bg-red-600",n.analysisMode()==="security")("text-white",n.analysisMode()==="security")("shadow-lg",n.analysisMode()==="security")("text-zinc-400",n.analysisMode()!=="security")("hover:text-white",n.analysisMode()!=="security"),V(2),rt("bg-blue-600",n.analysisMode()==="blind_spot")("text-white",n.analysisMode()==="blind_spot")("shadow-lg",n.analysisMode()==="blind_spot")("text-zinc-400",n.analysisMode()!=="blind_spot")("hover:text-white",n.analysisMode()!=="blind_spot"),V(4),rt("ring-2",n.isDragging())("ring-white",n.isDragging())("bg-zinc-800",n.isDragging())}}function Ew(t,e){t&1&&(H(0,"span",110),A(1," EKONOM\u0130K MOD "))}function Cw(t,e){t&1&&(H(0,"span",111),A(1," PREMIUM G\xDCVENL\u0130K "))}function Iw(t,e){t&1&&(H(0,"span",112),A(1," K\xD6R NOKTA ANAL\u0130Z\u0130 "))}function _w(t,e){t&1&&(I(0,"div",76)(1,"div",113),H(2,"div",114)(3,"div",115),_(),I(4,"span",116),A(5,"Analiz Ediliyor..."),_()())}function Dw(t,e){if(t&1&&(I(0,"div",118),A(1),I(2,"div",119)(3,"div",120),A(4),_(),I(5,"div",121),A(6),_()()()),t&2){let n=U(),o=n.$implicit,r=n.$index,i=U(3);Gl(i.getMarkerColor(o.itemId)),ci("left",o.x,"%")("top",o.y,"%"),V(),Ve(" ",r+1," "),V(3),yt(o.name),V(2),yt(o.reason)}}function Tw(t,e){if(t&1&&Le(0,Dw,7,9,"div",117),t&2){let n=e.$implicit,o=U(3);Oe(n.imageIndex===void 0||n.imageIndex===o.selectedImageIndex()?0:-1)}}function Sw(t,e){if(t&1&&Mn(0,Tw,1,1,null,null,_o),t&2){let n=U(2);Nn(n.pricingService.currentItems())}}function ww(t,e){if(t&1){let n=ot();I(0,"button",123),Z("click",function(){let r=z(n).$index,i=U(3);return W(i.selectImage(r))}),H(1,"img",124),_()}if(t&2){let n=e.$implicit,o=e.$index,r=U(3);rt("border-white",o===r.selectedImageIndex())("border-transparent",o!==r.selectedImageIndex())("opacity-50",o!==r.selectedImageIndex())("hover:opacity-100",o!==r.selectedImageIndex()),V(),bn("src",n,jr)}}function Aw(t,e){if(t&1&&(I(0,"div",77),Mn(1,ww,2,9,"button",122,_o),_()),t&2){let n=U(2);V(),Nn(n.imagesSrc())}}function Mw(t,e){if(t&1&&(I(0,"div",78)(1,"h3",125),Ce(),I(2,"svg",126),H(3,"path",127),_(),A(4," M\xFChendislik Raporu "),_(),ke(),I(5,"div",128),A(6),_()()),t&2){let n,o=U(2);V(6),Ve(" ",(n=o.analysisResult())==null?null:n.analysis," ")}}function Nw(t,e){if(t&1){let n=ot();I(0,"div",91)(1,"div",129)(2,"button",130),Z("click",function(){let r=z(n).$index,i=U(2);return W(i.pricingService.removeItem(r))}),Ce(),I(3,"svg",49),H(4,"path",131),_()(),ke(),I(5,"div",132),A(6),_()(),I(7,"div",133),A(8),Zt(9,"number"),_()()}if(t&2){let n=e.$implicit;V(6),yt(n.name),V(2),Ve("",Qt(9,2,n.price)," \u20BA")}}function bw(t,e){if(t&1){let n=ot();I(0,"div",35)(1,"div",67)(2,"div",68)(3,"div",69)(4,"div",70),Le(5,Ew,2,0)(6,Cw,2,0)(7,Iw,2,0),_(),I(8,"button",71),Z("click",function(){z(n);let r=U();return W(r.openCamera())}),Ce(),I(9,"svg",72),H(10,"path",73),_()()(),ke(),I(11,"div",74),H(12,"img",75),Le(13,_w,6,0,"div",76),Le(14,Sw,2,0),_(),Le(15,Aw,3,0,"div",77),_(),Le(16,Mw,7,1,"div",78),_(),I(17,"div",79)(18,"div",80)(19,"button",81),Z("click",function(){z(n);let r=U();return W(r.setSystem("wireless"))}),A(20," KABLOSUZ "),_(),I(21,"button",81),Z("click",function(){z(n);let r=U();return W(r.setSystem("wired"))}),A(22," KABLOLU "),_()(),I(23,"div",82)(24,"div",83)(25,"h3",84),A(26,"Maliyet \xD6zeti"),_(),I(27,"span",85),A(28,"OCAK 2026"),_()(),I(29,"div",86)(30,"div",87)(31,"div")(32,"div",88),A(33),_(),I(34,"div",89),A(35,"Ana Paket"),_()(),I(36,"div",90),A(37),Zt(38,"number"),_()(),Mn(39,Nw,10,4,"div",91,_o),_(),I(41,"div",92)(42,"div",93)(43,"div",94)(44,"p",95),A(45,"Pe\u015Fin Sat\u0131n Alma"),_(),I(46,"div",96)(47,"span",97),A(48),Zt(49,"number"),_(),I(50,"span",98),A(51,"+ KDV"),_()()(),H(52,"div",99),_(),I(53,"div",100)(54,"div")(55,"p",101),A(56,"Kiralama Modeli"),_(),I(57,"p",102),A(58,"Ayl\u0131k \xD6deme"),_()(),I(59,"div",103)(60,"span",104),A(61),Zt(62,"number"),_(),I(63,"span",105),A(64,"+ KDV"),_()()()()(),I(65,"div",106)(66,"div",107)(67,"button",108),Z("click",function(){z(n);let r=U();return W(r.addItemManually("CAM_CUBE_IN"))}),A(68," + Kamera (\u0130\xE7) "),_(),I(69,"button",108),Z("click",function(){z(n);let r=U();return W(r.addItemManually("PIR"))}),A(70," + PIR Dedekt\xF6r "),_(),I(71,"button",108),Z("click",function(){z(n);let r=U();return W(r.addItemManually("CONTACT"))}),A(72," + Kontak "),_(),I(73,"button",108),Z("click",function(){z(n);let r=U();return W(r.addItemManually("SMOKE"))}),A(74," + Duman "),_()(),I(75,"button",109),Z("click",function(){z(n);let r=U();return W(r.openProductModal())}),A(76," T\xFCm Katalo\u011Fu G\xF6r\xFCnt\xFCle "),_()()()()}if(t&2){let n=U();V(5),Oe(n.analysisMode()==="cost"?5:n.analysisMode()==="security"?6:7),V(7),bn("src",n.imagesSrc()[n.selectedImageIndex()],jr),V(),Oe(n.isLoading()?13:-1),V(),Oe(!n.isLoading()&&n.pricingService.currentItems().length>0?14:-1),V(),Oe(n.imagesSrc().length>1?15:-1),V(),Oe(n.analysisResult()?16:-1),V(3),rt("bg-white",n.pricingService.selectedSystem()==="wireless")("text-black",n.pricingService.selectedSystem()==="wireless")("text-zinc-500",n.pricingService.selectedSystem()!=="wireless"),V(2),rt("bg-white",n.pricingService.selectedSystem()==="wired")("text-black",n.pricingService.selectedSystem()==="wired")("text-zinc-500",n.pricingService.selectedSystem()!=="wired"),V(12),yt(n.pricingService.calculation().basePackage.name),V(4),Ve("",Qt(38,22,n.pricingService.calculation().basePackage.purchasePrice)," \u20BA"),V(2),Nn(n.pricingService.calculation().itemDetails),V(9),Ve("",Qt(49,24,n.pricingService.calculation().subTotalPurchase)," \u20BA"),V(13),Ve("",Qt(62,26,n.pricingService.calculation().subTotalRental)," \u20BA")}}function xw(t,e){if(t&1){let n=ot();I(0,"button",149),Z("click",function(){let r=z(n).$implicit,i=U(2);return W(i.selectProductFromModal(r))}),I(1,"div")(2,"div",150),A(3),_(),I(4,"div",151),A(5),_()(),I(6,"div",103)(7,"div",152),A(8),Zt(9,"number"),_(),I(10,"div",98),A(11),_()()()}if(t&2){let n=e.$implicit;V(3),yt(n.name),V(2),yt(n.id),V(3),Ve("",Qt(9,4,n.purchasePrice)," \u20BA"),V(3),Ve("Kira: ",n.rentalPrice," \u20BA")}}function Rw(t,e){if(t&1){let n=ot();I(0,"div",36)(1,"div",134),Z("click",function(){z(n);let r=U();return W(r.closeProductModal())}),_(),I(2,"div",135)(3,"div",136)(4,"h3",137),A(5,"\xDCr\xFCn Se\xE7imi"),_(),I(6,"button",138),Z("click",function(){z(n);let r=U();return W(r.closeProductModal())}),Ce(),I(7,"svg",139),H(8,"path",140),_()()(),ke(),I(9,"div",141)(10,"div",142),Ce(),I(11,"svg",143),H(12,"path",144),_(),ke(),I(13,"input",145),Z("input",function(r){z(n);let i=U();return W(i.updateSearch(r))}),_()()(),I(14,"div",146)(15,"div",147),Mn(16,xw,12,6,"button",148,mw),_()()()()}if(t&2){let n=U();V(13),bn("value",n.productSearchTerm()),V(3),Nn(n.filteredProducts())}}function Pw(t,e){if(t&1){let n=ot();I(0,"div",37)(1,"div",153),H(2,"video",154,1),I(4,"div",155),H(5,"div",156),I(6,"div",157),H(7,"div",158)(8,"div",159)(9,"div",160)(10,"div",161),_()()(),I(11,"div",162)(12,"button",163),Z("click",function(){z(n);let r=U();return W(r.closeCamera())}),Ce(),I(13,"svg",164),H(14,"path",140),_()(),ke(),I(15,"button",165),Z("click",function(){z(n);let r=U();return W(r.capturePhoto())}),H(16,"div",166),_(),H(17,"div",167),_()()}}var is=class t{constructor(){this.geminiService=$(os);this.pricingService=$(rs);this.imagesSrc=de([]);this.imagesData=de([]);this.selectedImageIndex=de(0);this.isLoading=de(!1);this.analysisResult=de(null);this.analysisMode=de("cost");this.isDragging=de(!1);this.isProductModalOpen=de(!1);this.productSearchTerm=de("");this.isCameraOpen=de(!1);this.stream=null;this.filteredProducts=So(()=>{let e=this.productSearchTerm().toLowerCase(),n=this.pricingService.catalog.filter(o=>o.category!=="base");return e?n.filter(o=>o.name.toLowerCase().includes(e)||o.id.toLowerCase().includes(e)):n})}ngOnDestroy(){this.stopCamera()}onDragOver(e){e.preventDefault(),this.isDragging.set(!0)}onDragLeave(e){e.preventDefault(),this.isDragging.set(!1)}onDrop(e){e.preventDefault(),this.isDragging.set(!1),e.dataTransfer?.files&&e.dataTransfer.files.length>0&&this.handleFiles(e.dataTransfer.files)}onFileSelected(e){let n=e.target;n.files&&n.files.length>0&&this.handleFiles(n.files)}setMode(e){this.analysisMode.set(e),this.imagesData().length>0&&!this.isLoading()&&this.runAnalysis(this.imagesData())}async handleFiles(e){let o=(Array.isArray(e)?e:Array.from(e)).filter(i=>i.type.startsWith("image/"));if(o.length===0){alert("L\xFCtfen ge\xE7erli resim dosyalar\u0131 y\xFCkleyin.");return}if(this.imagesSrc().length+o.length>10){alert("En fazla 10 adet foto\u011Fraf y\xFCkleyebilirsiniz.");return}this.isLoading.set(!0),this.imagesSrc().length===0&&this.selectedImageIndex.set(0);let r=o.map(i=>new Promise(s=>{let l=new FileReader;l.onload=c=>{let d=c.target?.result;s({data:d.split(",")[1],mimeType:i.type,displayUrl:d})},l.readAsDataURL(i)}));try{let i=await Promise.all(r);this.imagesSrc.update(l=>[...l,...i.map(c=>c.displayUrl)]);let s=i.map(l=>({data:l.data,mimeType:l.mimeType}));this.imagesData.update(l=>[...l,...s]),await this.runAnalysis(this.imagesData())}catch(i){console.error(i),alert("Dosya okuma hatas\u0131."),this.isLoading.set(!1)}}async runAnalysis(e){this.isLoading.set(!0);try{let n=await this.geminiService.analyzeImages(e,this.analysisMode());this.analysisResult.set(n),this.pricingService.setItems(n.items)}catch(n){console.error(n),alert("Analiz s\u0131ras\u0131nda bir hata olu\u015Ftu.")}finally{this.isLoading.set(!1)}}setSystem(e){this.pricingService.setSystemType(e)}selectImage(e){this.selectedImageIndex.set(e)}getMarkerColor(e){return this.analysisMode()==="blind_spot"?"bg-blue-500 border-blue-300 shadow-[0_0_15px_rgba(59,130,246,0.6)]":e.includes("CAM")?"bg-blue-500 border-blue-300":e.includes("PIR")?"bg-red-500 border-red-300":e.includes("CONTACT")?"bg-green-500 border-green-300":"bg-yellow-500 border-yellow-300"}reset(){this.imagesSrc.set([]),this.imagesData.set([]),this.analysisResult.set(null),this.pricingService.setItems([])}addItemManually(e){let n=this.pricingService.getProductById(e),o=n?n.description:"Manuel olarak eklenen \xFCr\xFCn.";this.pricingService.currentItems.update(r=>[...r,{itemId:e,name:n?n.name:"Bilinmeyen \xDCr\xFCn",x:50,y:50,reason:o,imageIndex:this.selectedImageIndex()}])}openProductModal(){this.isProductModalOpen.set(!0),this.productSearchTerm.set("")}closeProductModal(){this.isProductModalOpen.set(!1)}updateSearch(e){this.productSearchTerm.set(e.target.value)}selectProductFromModal(e){this.pricingService.currentItems.update(n=>[...n,{itemId:e.id,name:e.name,x:50,y:50,reason:e.description,imageIndex:this.selectedImageIndex()}]),this.closeProductModal()}async openCamera(){this.isCameraOpen.set(!0);try{this.stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}),setTimeout(()=>{this.videoElement?.nativeElement&&this.stream&&(this.videoElement.nativeElement.srcObject=this.stream)},100)}catch(e){console.error("Camera access denied:",e),alert("Kamera eri\u015Fimi sa\u011Flanamad\u0131. L\xFCtfen izinleri kontrol edin."),this.closeCamera()}}closeCamera(){this.stopCamera(),this.isCameraOpen.set(!1)}stopCamera(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null)}capturePhoto(){if(!this.videoElement?.nativeElement)return;let e=this.videoElement.nativeElement,n=document.createElement("canvas");n.width=e.videoWidth,n.height=e.videoHeight;let o=n.getContext("2d");o&&(o.drawImage(e,0,0,n.width,n.height),n.toBlob(r=>{if(r){let i=new File([r],`camera_capture_${Date.now()}.jpg`,{type:"image/jpeg"});this.handleFiles([i]),this.closeCamera()}},"image/jpeg",.9))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Pl({type:t,selectors:[["app-root"]],viewQuery:function(n,o){if(n&1&&ui(gw,5),n&2){let r;Ul(r=Hl())&&(o.videoElement=r.first)}},decls:43,vars:4,consts:[["fileInput",""],["videoElement",""],[1,"min-h-screen","font-sans","selection:bg-white","selection:text-black","pb-10"],[1,"fixed","top-0","inset-x-0","h-20","bg-black/80","backdrop-blur-xl","border-b","border-white/10","z-50","flex","items-center","justify-between","px-6","lg:px-12","transition-all","shadow-2xl","shadow-black/50"],[1,"flex","items-center","gap-4","select-none"],[1,"h-12","w-12","relative","filter","drop-shadow-[0_0_15px_rgba(37,99,235,0.4)]"],["viewBox","0 0 100 100",1,"w-full","h-full"],["id","shieldGrad","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","#1e40af","stop-opacity","1"],["offset","50%",2,"stop-color","#172554","stop-opacity","1"],["offset","100%",2,"stop-color","#0f172a","stop-opacity","1"],["id","silverGrad","x1","0%","y1","0%","x2","0%","y2","100%"],["offset","0%",2,"stop-color","#f8fafc","stop-opacity","1"],["offset","100%",2,"stop-color","#cbd5e1","stop-opacity","1"],["d","M50 95 C 15 80 5 45 5 25 L 50 5 L 95 25 C 95 45 85 80 50 95 Z","fill","url(#shieldGrad)","stroke","url(#silverGrad)","stroke-width","3"],["d","M50 15 L 65 28 L 50 40 L 35 28 Z","fill","url(#silverGrad)","filter","drop-shadow(0 2px 2px rgba(0,0,0,0.5))"],["d","M20 55 Q 50 35 80 55 Q 50 75 20 55 Z","fill","#e2e8f0","stroke","#94a3b8","stroke-width","1"],["cx","50","cy","55","r","12","fill","#1d4ed8","stroke","#172554","stroke-width","1"],["cx","50","cy","55","r","5","fill","#000"],["cx","54","cy","51","r","2.5","fill","#fff","opacity","0.9"],[1,"flex","flex-col","justify-center"],[1,"text-3xl","font-black","tracking-tighter","text-white","leading-none","font-sans","drop-shadow-md","bg-gradient-to-br","from-white","to-zinc-400","bg-clip-text","text-transparent"],[1,"text-[10px]","font-bold","text-zinc-400","tracking-[0.35em]","leading-none","mt-1.5","ml-0.5","uppercase"],[1,"hidden","md:flex","items-center","space-x-4"],[1,"text-xs","font-medium","text-zinc-400","hover:text-white","transition","bg-white/5","hover:bg-white/10","px-4","py-1.5","rounded-full","backdrop-blur-md","border","border-white/5","flex","items-center","gap-2"],[1,"flex","items-center","gap-4","pl-6","border-l","border-white/10","h-10"],[1,"text-right","hidden","lg:block"],[1,"text-[9px]","text-zinc-500","uppercase","font-bold","tracking-widest","leading-none"],[1,"text-[9px]","text-zinc-400","uppercase","font-bold","tracking-widest","leading-none","mt-1"],[1,"bg-red-900/20","border","border-red-500/30","px-4","py-2","rounded-lg","flex","items-center","justify-center","hover:bg-red-900/30","transition","cursor-help","group","relative"],[1,"text-red-500","font-black","tracking-widest","text-sm"],[1,"absolute","right-0","top-full","mt-3","w-32","bg-zinc-900","text-white","text-[10px]","rounded","p-2","opacity-0","group-hover:opacity-100","transition","pointer-events-none","border","border-white/10","text-center","shadow-xl","z-50"],[1,"h-28"],[1,"max-w-[1400px]","mx-auto","px-4","sm:px-6","lg:px-8","animate-in","fade-in","duration-700"],[1,"max-w-3xl","mx-auto","mt-12","space-y-8"],[1,"grid","grid-cols-1","lg:grid-cols-12","gap-6","lg:gap-8","h-full"],[1,"fixed","inset-0","z-[100]","flex","items-center","justify-center","p-4"],[1,"fixed","inset-0","z-[100]","bg-black","flex","flex-col","animate-in","fade-in","duration-300"],[1,"text-xs","font-medium","text-zinc-400","hover:text-white","transition","bg-white/5","hover:bg-white/10","px-4","py-1.5","rounded-full","backdrop-blur-md","border","border-white/5","flex","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-3","h-3"],["stroke-linecap","round","stroke-linejoin","round","d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"],[1,"text-center","space-y-3"],[1,"text-4xl","md:text-5xl","font-bold","tracking-tight","text-white"],[1,"text-zinc-500"],[1,"text-lg","text-zinc-400","font-light","max-w-lg","mx-auto"],[1,"flex","justify-center"],[1,"bg-zinc-900","p-1.5","rounded-full","border","border-zinc-800","inline-flex","relative"],[1,"relative","z-10","px-5","py-2","rounded-full","text-xs","font-medium","transition-all","duration-300",3,"click"],[1,"relative","z-10","px-5","py-2","rounded-full","text-xs","font-medium","transition-all","duration-300","flex","items-center","gap-1.5",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-3","h-3"],["fill-rule","evenodd","d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l14.5 14.5a.75.75 0 1 0 1.06-1.06l-1.745-1.745a10.029 10.029 0 0 0 3.3-5.733 2.5 2.5 0 1 0-4.908.686L3.28 2.22Zm8.557 8.558a.75.75 0 0 0-1.06-1.06l1.06 1.06ZM10.5 10a.75.75 0 0 0 .75.75v-.75Z","clip-rule","evenodd"],[1,"group","relative","border","border-dashed","border-zinc-700","hover:border-white/50","rounded-3xl","p-16","text-center","transition-all","duration-300","bg-zinc-900/30","backdrop-blur-sm","cursor-pointer","overflow-hidden",3,"dragover","dragleave","drop"],["type","file","accept","image/*","multiple","",1,"hidden",3,"change"],[1,"absolute","inset-0","bg-gradient-to-tr","from-blue-500/5","via-transparent","to-purple-500/5","opacity-0","group-hover:opacity-100","transition-opacity","duration-500"],[1,"relative","z-10","flex","flex-col","items-center","justify-center","space-y-6",3,"click"],[1,"w-20","h-20","rounded-2xl","bg-zinc-800/80","border","border-zinc-700","flex","items-center","justify-center","shadow-2xl","group-hover:scale-105","transition-transform","duration-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1","stroke","currentColor",1,"w-10","h-10","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"],[1,"text-xl","font-medium","text-white"],[1,"text-sm","text-zinc-500","mt-2"],[1,"relative","flex","items-center","py-8","z-10",3,"click"],[1,"flex-grow","border-t","border-zinc-800"],[1,"flex-shrink-0","mx-4","text-zinc-600","text-xs","font-medium","uppercase","tracking-widest"],[1,"relative","z-10","bg-white","hover:bg-zinc-200","text-black","px-8","py-3.5","rounded-full","font-semibold","transition-transform","active:scale-95","flex","items-center","gap-3","mx-auto","shadow-xl","shadow-white/5",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["d","M12 9a3.75 3.75 0 1 0 0 7.5A3.75 3.75 0 0 0 12 9Z"],["fill-rule","evenodd","d","M9.344 3.071a49.52 49.52 0 0 1 5.312 0c.967.052 1.83.585 2.332 1.39l.821 1.317c.24.383.645.643 1.11.71.386.054.77.113 1.152.177 1.432.239 2.429 1.493 2.429 2.909V18a3 3 0 0 1-3 3h-15a3 3 0 0 1-3-3V9.574c0-1.416.997-2.67 2.429-2.909.382-.064.766-.123 1.151-.178a1.56 1.56 0 0 0 1.11-.71l.822-1.315a2.942 2.942 0 0 1 2.332-1.39ZM6.75 12.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Zm12-1.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule","evenodd"],[1,"lg:col-span-8","flex","flex-col","gap-6"],[1,"bg-zinc-900/60","backdrop-blur-xl","border","border-white/10","rounded-3xl","overflow-hidden","shadow-2xl","relative","flex","flex-col","h-full","min-h-[500px]"],[1,"absolute","top-4","left-4","right-4","z-30","flex","justify-between","items-start","pointer-events-none"],[1,"bg-black/60","backdrop-blur-md","text-white","text-xs","font-bold","px-4","py-2","rounded-full","border","border-white/10","pointer-events-auto","flex","items-center","gap-2","shadow-lg"],[1,"pointer-events-auto","bg-white/10","hover:bg-white/20","text-white","p-2","rounded-full","backdrop-blur-md","transition","border","border-white/10",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4.5v15m7.5-7.5h-15"],[1,"relative","flex-1","bg-black","flex","items-center","justify-center","group","overflow-hidden"],["alt","Analysis",1,"w-full","h-full","object-contain","max-h-[70vh]","transition-transform","duration-500","group-hover:scale-[1.01]",3,"src"],[1,"absolute","inset-0","bg-black/60","backdrop-blur-sm","z-20","flex","flex-col","items-center","justify-center"],[1,"absolute","bottom-6","left-1/2","-translate-x-1/2","flex","gap-3","p-2","bg-black/50","backdrop-blur-xl","rounded-2xl","border","border-white/10","z-20","overflow-x-auto","max-w-[90%]"],[1,"bg-zinc-900/60","backdrop-blur-xl","border","border-white/10","rounded-3xl","p-8","shadow-xl"],[1,"lg:col-span-4","flex","flex-col","gap-6"],[1,"bg-zinc-900/60","backdrop-blur-xl","border","border-white/10","rounded-3xl","p-2","flex","relative"],[1,"flex-1","py-3","text-xs","font-bold","rounded-2xl","transition-all","text-center","relative","overflow-hidden",3,"click"],[1,"bg-zinc-900/60","backdrop-blur-xl","border","border-white/10","rounded-3xl","p-6","shadow-xl","flex","flex-col","flex-1"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-sm","font-semibold","text-white","uppercase","tracking-wider"],[1,"text-[10px]","font-bold","bg-white/10","text-zinc-300","px-2","py-1","rounded"],[1,"flex-1","overflow-y-auto","max-h-[400px]","pr-2","custom-scrollbar","space-y-4"],[1,"flex","justify-between","items-start","pb-4","border-b","border-white/5"],[1,"text-sm","font-medium","text-white"],[1,"text-xs","text-zinc-500","mt-1"],[1,"text-sm","font-semibold","text-zinc-300"],[1,"flex","justify-between","items-center","group"],[1,"mt-6","pt-6","border-t","border-white/10","space-y-4"],[1,"bg-gradient-to-br","from-zinc-800","to-zinc-900","rounded-2xl","p-5","border","border-white/5","relative","overflow-hidden"],[1,"relative","z-10"],[1,"text-xs","text-zinc-400","font-medium","uppercase","mb-1"],[1,"flex","items-baseline","justify-between"],[1,"text-3xl","font-bold","text-white","tracking-tight"],[1,"text-[10px]","text-zinc-500"],[1,"absolute","right-0","top-0","w-24","h-24","bg-blue-500/10","rounded-full","blur-2xl","-mr-10","-mt-10","pointer-events-none"],[1,"bg-zinc-800/30","rounded-2xl","p-5","border","border-white/5","flex","justify-between","items-center"],[1,"text-xs","text-zinc-400","font-medium","uppercase"],[1,"text-[10px]","text-zinc-600"],[1,"text-right"],[1,"text-xl","font-bold","text-emerald-400"],[1,"text-[10px]","text-zinc-500","block"],[1,"bg-zinc-900/60","backdrop-blur-xl","border","border-white/10","rounded-3xl","p-6","shadow-xl","space-y-4"],[1,"grid","grid-cols-2","gap-3"],[1,"bg-white/5","hover:bg-white/10","text-white","py-3","rounded-xl","text-xs","font-medium","transition","border","border-white/5",3,"click"],[1,"w-full","py-4","bg-white","text-black","font-bold","rounded-xl","hover:bg-zinc-200","transition","text-sm","flex","items-center","justify-center","gap-2",3,"click"],[1,"w-2","h-2","rounded-full","bg-green-500","shadow-[0_0_10px_rgba(34,197,94,0.5)]"],[1,"w-2","h-2","rounded-full","bg-red-500","shadow-[0_0_10px_rgba(239,68,68,0.5)]"],[1,"w-2","h-2","rounded-full","bg-blue-500","shadow-[0_0_10px_rgba(59,130,246,0.5)]"],[1,"relative","w-24","h-24","mb-6"],[1,"absolute","inset-0","border-t-2","border-white","rounded-full","animate-spin"],[1,"absolute","inset-3","border-r-2","border-zinc-500","rounded-full","animate-spin","direction-reverse"],[1,"text-white","font-medium","tracking-widest","text-sm","uppercase","opacity-80","animate-pulse"],[1,"absolute","w-10","h-10","-ml-5","-mt-5","rounded-full","border-[3px]","border-white/20","shadow-[0_0_20px_rgba(0,0,0,0.5)]","flex","items-center","justify-center","text-sm","font-bold","text-white","cursor-pointer","z-20","transition-all","hover:scale-110","active:scale-95","backdrop-blur-sm",3,"class","left","top"],[1,"absolute","w-10","h-10","-ml-5","-mt-5","rounded-full","border-[3px]","border-white/20","shadow-[0_0_20px_rgba(0,0,0,0.5)]","flex","items-center","justify-center","text-sm","font-bold","text-white","cursor-pointer","z-20","transition-all","hover:scale-110","active:scale-95","backdrop-blur-sm"],[1,"absolute","bottom-full","mb-3","w-56","bg-zinc-900/95","backdrop-blur-xl","border","border-white/10","rounded-2xl","p-4","shadow-2xl","opacity-0","hover:opacity-100","transition-opacity","pointer-events-none","z-30","transform","-translate-x-1/2","left-1/2"],[1,"text-xs","font-bold","text-white","mb-1"],[1,"text-[10px]","text-zinc-400","leading-relaxed"],[1,"relative","w-12","h-12","rounded-xl","overflow-hidden","border-2","transition-all","flex-shrink-0",3,"border-white","border-transparent","opacity-50","hover:opacity-100"],[1,"relative","w-12","h-12","rounded-xl","overflow-hidden","border-2","transition-all","flex-shrink-0",3,"click"],[1,"w-full","h-full","object-cover",3,"src"],[1,"text-lg","font-semibold","text-white","mb-4","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5","text-indigo-400"],["fill-rule","evenodd","d","M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 0 1 .75.75c0 5.056-2.383 9.555-6.084 12.436h.001c-3.3 2.567-7.268 4.19-11.619 4.676-2.858.32-5.752.128-8.125-.49a.75.75 0 0 1-.58-1.079 24.385 24.385 0 0 1 4.545-6.19 24.385 24.385 0 0 1 6.19-4.545c.87-.51 1.802-.93 2.766-1.259.96-.328 1.94-.567 2.936-.714.498-.073.998-.124 1.498-.153A22.94 22.94 0 0 0 9.315 7.584ZM8.86 8.35c-2.486 2.053-4.484 4.654-5.787 7.55 1.97-.57 3.992-.93 6.039-1.077a22.91 22.91 0 0 0 3.33-6.577 22.91 22.91 0 0 0-3.582.104Z","clip-rule","evenodd"],[1,"text-sm","font-mono","text-zinc-300","leading-7","whitespace-pre-wrap"],[1,"flex","items-center","gap-3"],[1,"w-5","h-5","rounded-full","bg-red-500/10","text-red-500","flex","items-center","justify-center","opacity-0","group-hover:opacity-100","transition","hover:bg-red-500","hover:text-white",3,"click"],["d","M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"],[1,"text-sm","text-zinc-300"],[1,"text-sm","font-medium","text-zinc-400"],[1,"absolute","inset-0","bg-black/80","backdrop-blur-md","transition-opacity",3,"click"],[1,"bg-zinc-900","border","border-white/10","w-full","max-w-2xl","max-h-[80vh]","rounded-3xl","shadow-2xl","z-10","flex","flex-col","overflow-hidden","animate-in","fade-in","zoom-in-95","duration-200"],[1,"p-5","border-b","border-white/10","flex","justify-between","items-center","bg-zinc-900/50","backdrop-blur-xl"],[1,"text-lg","font-bold","text-white"],[1,"w-8","h-8","rounded-full","bg-zinc-800","flex","items-center","justify-center","text-zinc-400","hover:bg-zinc-700","hover:text-white","transition",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"p-5","bg-zinc-900"],[1,"relative","group"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-zinc-500","absolute","left-4","top-3.5","group-focus-within:text-white","transition"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Ara...","autofocus","",1,"w-full","bg-zinc-800","border-none","rounded-xl","py-3.5","pl-12","pr-4","text-white","placeholder-zinc-500","focus:ring-2","focus:ring-blue-500/50","transition",3,"input","value"],[1,"overflow-y-auto","flex-1","p-2"],[1,"space-y-1"],[1,"w-full","flex","items-center","justify-between","p-4","rounded-xl","hover:bg-white/5","transition","group","text-left","border","border-transparent","hover:border-white/5"],[1,"w-full","flex","items-center","justify-between","p-4","rounded-xl","hover:bg-white/5","transition","group","text-left","border","border-transparent","hover:border-white/5",3,"click"],[1,"font-semibold","text-white","group-hover:text-blue-400","transition"],[1,"text-[10px]","text-zinc-500","font-mono","mt-1","uppercase","tracking-wider"],[1,"text-white","font-bold"],[1,"relative","flex-1","overflow-hidden","bg-black","flex","items-center","justify-center"],["autoplay","","playsinline","","muted","",1,"absolute","inset-0","w-full","h-full","object-cover"],[1,"absolute","inset-0","pointer-events-none"],[1,"absolute","top-10","right-10","w-2","h-2","bg-yellow-500","rounded-full","animate-pulse","shadow-[0_0_10px_orange]"],[1,"absolute","inset-x-10","inset-y-24","border","border-white/20","rounded-3xl"],[1,"absolute","top-0","left-0","w-6","h-6","border-t-2","border-l-2","border-white","rounded-tl-lg"],[1,"absolute","top-0","right-0","w-6","h-6","border-t-2","border-r-2","border-white","rounded-tr-lg"],[1,"absolute","bottom-0","left-0","w-6","h-6","border-b-2","border-l-2","border-white","rounded-bl-lg"],[1,"absolute","bottom-0","right-0","w-6","h-6","border-b-2","border-r-2","border-white","rounded-br-lg"],[1,"h-36","bg-black/60","backdrop-blur-xl","flex","items-center","justify-around","pb-6","pt-4"],[1,"w-12","h-12","rounded-full","bg-white/10","flex","items-center","justify-center","text-white","hover:bg-white/20","transition",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-6","h-6"],[1,"w-20","h-20","rounded-full","border-[6px]","border-white","flex","items-center","justify-center","hover:scale-105","active:scale-95","transition-transform",3,"click"],[1,"w-16","h-16","bg-white","rounded-full"],[1,"w-12"]],template:function(n,o){n&1&&(I(0,"div",2)(1,"header",3)(2,"div",4)(3,"div",5),Ce(),I(4,"svg",6)(5,"defs")(6,"linearGradient",7),H(7,"stop",8)(8,"stop",9)(9,"stop",10),_(),I(10,"linearGradient",11),H(11,"stop",12)(12,"stop",13),_()(),H(13,"path",14)(14,"path",15)(15,"path",16)(16,"circle",17)(17,"circle",18)(18,"circle",19),_()(),ke(),I(19,"div",20)(20,"span",21),A(21,"NOYA"),_(),I(22,"span",22),A(23,"G\xFCvenlik"),_()()(),I(24,"div",23),Le(25,yw,4,0,"button",24),_(),I(26,"div",25)(27,"div",26)(28,"div",27),A(29,"Yetkili"),_(),I(30,"div",28),A(31,"\xC7\xF6z\xFCm Orta\u011F\u0131"),_()(),I(32,"div",29)(33,"span",30),A(34,"SECOM"),_(),I(35,"div",31),A(36," Resmi Partner "),_()()()(),H(37,"div",32),I(38,"main",33),Le(39,vw,42,36,"div",34)(40,bw,77,28,"div",35),Le(41,Rw,18,1,"div",36),Le(42,Pw,18,0,"div",37),_()()),n&2&&(V(25),Oe(o.imagesSrc().length>0?25:-1),V(14),Oe(o.imagesSrc().length===0?39:40),V(2),Oe(o.isProductModalOpen()?41:-1),V(),Oe(o.isCameraOpen()?42:-1))},dependencies:[pi,jl],encapsulation:2})}};iu(is,{providers:[$l()]}).catch(t=>console.error(t));
